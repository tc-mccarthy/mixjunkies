/*
* Fullwidth Audio Player V1.4
* Author: Rafael Dery
* Copyright 2011
*
* Only for the sale at the envato marketplaces
*
*/


(function(v){v.fullwidthAudioPlayer={version:"1.4",author:"Rafael Dery"};jQuery.fn.fullwidthAudioPlayer=function(d){function m(E){o=v(E);o.hide();Ia=E.id=="fap-popup";if(jQuery.browser.mobile){b.wrapperPosition="top";b.autoPlay=b.volume=b.playlist=false}Ca=Boolean(window.fapPopupWin);b.autoPopup||(Ca=true);Da=!b.autoPlay;q();ka=b.playlist?b.height+b.playlistHeight+b.offset:b.height;if(b.wrapperPosition=="popup"&&!Ia){Ja=true;if(!b.playlist)ka=b.height;b.autoPopup&&!window.fapPopupWin&&j(o.html(),
b.autoPlay);return false}E=document.createElement("canvas");ya=Boolean(E.getContext&&E.getContext("2d"));E='<div id="fap-wrapper" class="'+(b.wrapperPosition=="top"?"fap-wrapper-top":"fap-wrapper-bottom")+'" style="'+b.wrapperPosition+": 0; height: "+ka+"px; background: "+b.wrapperColor+"; border-color: "+b.strokeColor+';"><div id="fap-main" style="color:'+b.mainColor+';"><div id="fap-wrapper-switcher" style="background: '+b.wrapperColor+"; border-color: "+b.strokeColor+'"></div><p id="fap-init-text">Creating Playlist...</p></div></div>';
v("body").append(E);k=v("body").children("#fap-wrapper");t=k.children("#fap-main");Ia&&k.addClass("fap-popup-skin");jQuery.browser.mobile&&k.css({position:"absolute"});if(Ia)t.css({marginLeft:10,marginRight:10});else if(b.mainPosition=="center")t.css({marginLeft:"auto",marginRight:"auto"});else b.mainPosition=="right"?t.css({"float":"right",marginRight:10}):t.css({marginLeft:10});if(ya){E=document.createElement("canvas");E.width=30;E.height=15;switcherCanvasContext=E.getContext("2d");canvg(E,'<svg><path style="" fill="none" stroke="'+
b.mainColor+'" d="M8,4L15,10L22,4" stroke-width="4"/></svg>');document.getElementById("fap-wrapper-switcher").appendChild(E);W=v(E)}else{W=Raphael(document.getElementById("fap-wrapper-switcher"),30,15);W.path("M8,4 15,10 22,4").attr({stroke:b.fillColor,"stroke-width":4,fill:"none"})}b.wrapperPosition=="top"?t.children("#fap-wrapper-switcher").addClass("fap-bordered-bottom").css({bottom:-16,borderTop:"none"}):t.children("#fap-wrapper-switcher").addClass("fap-bordered-top").css({top:-16,borderBottom:"none"});
b.opened?na("open",false):na("close",false);t.children("#fap-wrapper-switcher").click(function(){b.opened?na("close",true):na("open",true)});soundManager.onready(f);soundManager.ontimeout(function(Q){alert("SM2 failed to start. Flash missing, blocked or security error? Status: "+Q.error.type)})}function j(E,Q){if(!window.fapPopupWin||window.fapPopupWin.closed){window.fapPopupWin=window.open(b.popupUrl,"","menubar=no,toolbar=no,location=no,width=980,height="+ka+",left="+(window.screen.width-980)/2+
",top="+(window.screen.height-ka)/2+"");window.fapPopupWin==null&&alert("Pop-Up Music Player can not be opened. Your browser is blocking Pop-Ups. Please allow Pop-Ups for this site to use the Music Player.");v(window.fapPopupWin).load(function(){v(".fap-enqueue-track").each(function(da,ma){var ea=v(ma);E+=h(ea)});b.autoPlay=Q;window.fapPopupWin.initPlayer(b,E);Ca=true})}else{var X=v(E);v.fullwidthAudioPlayer.addTrack(X.attr("href"),X.attr("title"),X.data("meta")?v("body").find(X.data("meta")).html():
"",X.attr("rel"),X.attr("target"),Q)}}function f(){if(b.playlist)C=v('<div class="clear"></div><div class="antiscroll-wrap"><div class="box"><div class="antiscroll-inner"><div id="fap-playlist-wrapper" class="box-inner"><ul id="fap-playlist"></ul></div><div class="clear"></div></div></div>');b.xmlPath?v.ajax({type:"GET",url:b.xmlPath,dataType:"xml",cache:false,success:function(E){var Q=v(E).find("playlists");E=b.xmlPlaylist?E=b.xmlPlaylist:E=Q.children("playlist:first").attr("id");r(Q.children('playlist[id="'+
E+'"]').children("track"));v(".fap-xml-playlist").each(function(X,da){var ma=v(da);ma.append("<h3>"+da.title+'</h3><ul class="fap-my-playlist"></ul>');Q.children('playlist[id="'+da.id+'"]').children("track").each(function(ea,sa){var wa=v(sa),Ba=wa.attr("target")?'target="'+wa.attr("target")+'"':"",Ea=wa.attr("rel")?'rel="'+wa.attr("rel")+'"':"",ra=wa.find("meta")?'data-meta="#'+da.id+"-"+ea+'"':"";ma.children("ul").append('<li><a href="'+wa.attr("href")+'" title="'+wa.attr("title")+'" '+Ba+" "+Ea+
" "+ra+">"+wa.attr("title")+"</a></li>");ma.append('<span id="'+da.id+"-"+ea+'">'+wa.find("meta").text()+"</span>")})})},error:function(){alert("XML file could not be loaded. Please check the XML path!")}}):r(o.children("a"))}function r(E){o.bind("fap-tracks-stored",function(){++ta;if(ta<E.length){var Q=E.eq(ta);v.fullwidthAudioPlayer.addTrack(Q.attr("href"),Q.attr("title"),b.xmlPath?Q.children("meta").text():o.find(Q.data("meta")).html(),Q.attr("rel"),Q.attr("target"))}else{o.unbind("fap-tracks-stored");
b.randomize&&ua();l()}}).trigger("fap-tracks-stored")}function l(){t.children("p").remove();t.append('<div id="fap-meta-wrapper" class="clearfix"><img src="" width="'+b.coverSize[0]+'" height="'+b.coverSize[1]+'" id="fap-current-cover" style="border: 1px solid '+b.strokeColor+';" /><div id="fap-cover-replacement" style="width: '+b.coverSize[0]+"px; height:"+b.coverSize[1]+"px; border: 1px solid "+b.strokeColor+';"></div><p id="fap-current-title" style="color: '+b.mainColor+';"></p><p id="fap-current-meta" style="color: '+
b.metaColor+';"></p></div>');y=t.children("#fap-meta-wrapper").css("height",b.height-10);aa(document.getElementById("fap-cover-replacement"),b.coverSize[0],b.coverSize[1]);b.socials&&y.append('<p id="fap-social-links"><a href="" target="_blank" style="color: '+b.metaColor+';">'+b.soundcloudText+'</a><a href="" target="_blank" style="color: '+b.metaColor+';">'+b.downloadText+'</a><a href="" target="_blank" style="color: '+b.metaColor+';">'+b.facebookText+'</a><a href="" target="_blank" style="color: '+
b.metaColor+';">'+b.twitterText+"</a></p>");t.append('<div id="fap-ui-wrapper"></div>');A=t.children("#fap-ui-wrapper").css("height",b.height);if(b.playlist){b.wrapperPosition=="bottom"?t.append(C):t.prepend(C);var E=t.children(".antiscroll-wrap");E.find(".box, .box .antiscroll-inner").height(b.playlistHeight);P=E.antiscroll().data("antiscroll");t.find(".antiscroll-scrollbar").css("backgroundColor",b.mainColor);b.wrapperPosition=="top"?E.css({marginBottom:b.offset}):E.css({marginTop:b.offset});if(b.sortable){var Q;
C.find("#fap-playlist").sortable().bind("sortstart",function(ga,Fa){Q=C.find("#fap-playlist").children("li").index(Fa.item)});C.find("#fap-playlist").sortable().bind("sortupdate",function(ga,Fa){var Ga=C.find("#fap-playlist").children("li").index(Fa.item),Xa=ba[Q],Ka=ba[ca].title;ba.splice(Q,1);ba.splice(Ga,0,Xa);u(Ka)})}if(Ia)na("openPlaylist",false);else{A.append('<div id="fap-playlist-toggle"></div>');A.children("#fap-playlist-toggle").css({"margin-top":b.height*0.5-12}).click(function(){Oa?na("closePlaylist",
true):na("openPlaylist",true)}).mouseleave(function(){X.forEach(function(ga){ga.type=="circle"&&ga.attr("fill",b.fillColor)})});var X=Raphael(document.getElementById("fap-playlist-toggle"),25,25);X.circle(12,12,12).attr({fill:b.fillColor,stroke:"none"}).mouseover(function(){this.attr("fill",b.fillColorHover)});X.path("M6,4 14,4 14,6 6,6C M4,9 16,9 16,11, 4,11C M6,14 14,14 14,16 6,16C").attr({fill:b.mainColor,stroke:"none"}).translate(2.3,2).scale(0.8,0.8)}}if(b.shuffle){A.append('<div id="fap-playlist-shuffle"></div>');
if(ya){var da=document.createElement("canvas");da.width=25;da.height=25;shuffleCanvasContext=da.getContext("2d");var ma=function(ga){canvg(da,'<svg><circle cx="12" cy="12" r="12" fill="'+ga+'" stroke="none"/><path style="" fill="'+b.mainColor+'" stroke="none" d="M21.786,20.654C21.168000000000003,20.459,20.379,19.951,19.495,19.067C18.738,18.325,17.956,17.369,17.155,16.326C16.964000000000002,16.582,16.773,16.836000000000002,16.581,17.096C16.057,17.805,15.522,18.52,14.977,19.223C16.881,21.532999999999998,18.857,23.801,21.786,24.174999999999997V26.875999999999998L29.342000000000002,22.513999999999996L21.786,18.151999999999994V20.654ZM9.192,11.933C9.948,12.674,10.73,13.629999999999999,11.531,14.672C11.726,14.41,11.921000000000001,14.151,12.118,13.884C12.638,13.181000000000001,13.169,12.472000000000001,13.71,11.774000000000001C11.678,9.311,9.577000000000002,6.867000000000001,6.314000000000001,6.7490000000000006H2.814000000000001V10.249H6.314000000000001C6.969,10.223,7.996,10.735,9.192,11.933ZM21.786,10.341V12.876L29.342000000000002,8.512999999999998L21.786,4.149999999999998V6.796999999999997C19.882,7.015999999999997,18.361,8.144999999999998,17.035,9.440999999999997C14.839,11.623999999999997,12.919,14.607999999999997,11.024000000000001,16.979C9.157,19.416999999999998,7.283000000000001,20.866999999999997,6.312000000000001,20.75H2.812000000000001V24.25H6.312000000000001C8.497000000000002,24.221,10.191,22.984,11.652000000000001,21.557C13.846,19.372999999999998,15.768,16.39,17.661,14.018999999999998C19.205,12.003,20.746,10.679,21.786,10.341Z" transform="matrix(0.42,0,0,0.42,6.3247,5.9975)" stroke-width="2.380952380952381"/></svg>')};
ma(b.fillColor);document.getElementById("fap-playlist-shuffle").appendChild(da);v(da).click(function(){ua();return false}).hover(function(){ma(b.fillColorHover);A.children("#fap-playlist-shuffle").css("z-index",1);A.children("#fap-playlist-toggle").css("z-index",0)},function(){ma(b.fillColor)})}else{A.children("#fap-playlist-shuffle").click(function(){ua()}).mouseleave(function(){ea.forEach(function(ga){ga.type=="circle"&&ga.attr("fill",b.fillColor)})});var ea=Raphael(document.getElementById("fap-playlist-shuffle"),
25,25);ea.circle(12,12,12).attr({fill:b.fillColor,stroke:"none"}).mouseover(function(){this.attr("fill",b.fillColorHover)});ea.path("M21.786,20.654c-0.618-0.195-1.407-0.703-2.291-1.587c-0.757-0.742-1.539-1.698-2.34-2.741c-0.191,0.256-0.382,0.51-0.574,0.77c-0.524,0.709-1.059,1.424-1.604,2.127c1.904,2.31,3.88,4.578,6.809,4.952v2.701l7.556-4.362l-7.556-4.362V20.654zM9.192,11.933c0.756,0.741,1.538,1.697,2.339,2.739c0.195-0.262,0.39-0.521,0.587-0.788c0.52-0.703,1.051-1.412,1.592-2.11c-2.032-2.463-4.133-4.907-7.396-5.025h-3.5v3.5h3.5C6.969,10.223,7.996,10.735,9.192,11.933zM21.786,10.341v2.535l7.556-4.363l-7.556-4.363v2.647c-1.904,0.219-3.425,1.348-4.751,2.644c-2.196,2.183-4.116,5.167-6.011,7.538c-1.867,2.438-3.741,3.888-4.712,3.771h-3.5v3.5h3.5c2.185-0.029,3.879-1.266,5.34-2.693c2.194-2.184,4.116-5.167,6.009-7.538C19.205,12.003,20.746,10.679,21.786,10.341z").attr({fill:b.mainColor,
stroke:"none"}).translate(-3,-3).scale(0.42,0.42)}A.children("#fap-playlist-shuffle").css({"margin-top":b.height*0.5-12})}if(b.volume){A.prepend('<div id="fap-volume-bar" style="width: '+fa+"px; background: "+b.fillColor+"; border: 1px solid "+b.fillColor+"; margin-top: "+(b.height*0.5-3)+'px;"><div id="fap-volume-progress" style="background: '+b.mainColor+';"></div></div><div id="fap-volume-sign" style="margin-top: '+(b.height*0.5-15)+'px;"></div>');Raphael(document.getElementById("fap-volume-sign"),
10,30).path("M18.806,11.219c-0.393-0.389-1.024-0.389-1.415,0.002c-0.39,0.391-0.39,1.024,0.002,1.416v-0.002c0.863,0.864,1.395,2.049,1.395,3.366c0,1.316-0.531,2.497-1.393,3.361c-0.394,0.389-0.394,1.022-0.002,1.415c0.195,0.195,0.451,0.293,0.707,0.293c0.257,0,0.513-0.098,0.708-0.293c1.222-1.22,1.98-2.915,1.979-4.776C20.788,14.136,20.027,12.439,18.806,11.219z M21.101,8.925c-0.393-0.391-1.024-0.391-1.413,0c-0.392,0.391-0.392,1.025,0,1.414c1.45,1.451,2.344,3.447,2.344,5.661c0,2.212-0.894,4.207-2.342,5.659c-0.392,0.39-0.392,1.023,0,1.414c0.195,0.195,0.451,0.293,0.708,0.293c0.256,0,0.512-0.098,0.707-0.293c1.808-1.809,2.929-4.315,2.927-7.073C24.033,13.24,22.912,10.732,21.101,8.925z").attr({fill:b.metaColor,
stroke:"none"}).translate(-15,0);A.find("#fap-volume-bar").click(function(ga){ga=(ga.pageX-v(this).offset().left)/fa;v.fullwidthAudioPlayer.volume(ga)})}A.children("div:first").length&&(A.width(),A.children("div:first").position());A.prepend('<div id="fap-time-bar" class="clearfix" style="width: '+za+"px; border: 1px solid "+b.fillColor+"; margin-top: "+(b.height*0.5-3)+"px; color: "+b.metaColor+';"><div id="fap-loading-bar" style="background: '+b.fillColor+';"></div><div id="fap-progress-bar" style="background: '+
b.mainColor+';"></div><span id="fap-current-time">00:00:00</span><span id="fap-total-time">00:00:00</span></div>');A.find("#fap-loading-bar, #fap-progress-bar").click(function(ga){ga=(ga.pageX-v(this).parent().offset().left)/za;La?T.setPosition(ga):T.setPosition(ga*T.duration);V(ga)});A.prepend('<div id="fap-ui-nav" style="width: 80px; height: 40px; margin-top: '+(b.height*0.5-20)+'px;"></div>');if(ya){var sa=document.createElement("canvas");sa.width=30;sa.height=40;previousCanvasContext=sa.getContext("2d");
var wa=function(ga){canvg(sa,'<svg><circle cx="15" cy="20" r="15" fill="'+ga+'" stroke="none" style="cursor: pointer;"/><path style="cursor: pointer;" fill="'+b.mainColor+'" stroke="none" d="M7,20L12,15L12,18L16,15L16,25L12,22L12,25Z"/></svg>')};wa(b.fillColor);document.getElementById("fap-ui-nav").appendChild(sa);v(sa).css("z-index",1).click(function(){v.fullwidthAudioPlayer.previous();return false}).hover(function(){wa(b.fillColorHover)},function(){wa(b.fillColor)});R=[0];var Ba=document.createElement("canvas");
Ba.width=40;Ba.height=40;ppCanvasContext=Ba.getContext("2d");var Ea=function(ga){canvg(Ba,'<svg><circle cx="20" cy="20" r="20" fill="'+ga+'" stroke="none" style="cursor: pointer;"/></svg>')};Ea(b.fillColor);document.getElementById("fap-ui-nav").appendChild(Ba);v(Ba).css({left:20,"z-index":3});E=document.createElement("canvas");E.width=40;E.height=40;playCanvasContext=E.getContext("2d");playCanvasContext.translate(-20,0);canvg(E,'<svg><path style="cursor: pointer;" fill="'+b.mainColor+'" stroke="none" d="M35,12L47,20L35,28Z"/></svg>');
document.getElementById("fap-ui-nav").appendChild(E);E=v(E).css({left:20,"z-index":4}).hide().click(function(){v.fullwidthAudioPlayer.toggle();return false}).hover(function(){Ea(b.fillColorHover)},function(){Ea(b.fillColor)});R.push(E);E=document.createElement("canvas");E.width=40;E.height=40;pauseCanvasContext=E.getContext("2d");pauseCanvasContext.translate(-20,0);canvg(E,'<svg><path style="cursor: pointer;" fill="'+b.mainColor+'" stroke="none" d="M36,12L39,12L39,28L36,28ZM41,12L44,12L44,28L41,28Z"/></svg>');
document.getElementById("fap-ui-nav").appendChild(E);E=v(E).css({left:20,"z-index":4}).hide().click(function(){v.fullwidthAudioPlayer.toggle();return false}).hover(function(){Ea(b.fillColorHover)},function(){Ea(b.fillColor)});R.push(E);var ra=document.createElement("canvas");ra.width=30;ra.height=40;nextCanvasContext=ra.getContext("2d");nextCanvasContext.transform(-1,0,0,1,30,0);var Aa=function(ga){canvg(ra,'<svg><circle cx="15" cy="20" r="15" fill="'+ga+'" stroke="none" style="cursor: pointer;"/><path style="cursor: pointer;" fill="'+
b.mainColor+'" stroke="none" d="M7,20L12,15L12,18L16,15L16,25L12,22L12,25Z"/></svg>')};Aa(b.fillColor);document.getElementById("fap-ui-nav").appendChild(ra);v(ra).css({left:E.position().left+40+10,"z-index":2}).click(function(){v.fullwidthAudioPlayer.next();return false}).hover(function(){Aa(b.fillColorHover)},function(){Aa(b.fillColor)})}else{var va=Raphael(document.getElementById("fap-ui-nav"),80,40);E=va.set();E.push(va.circle(15,20,15),va.path("M7,20 12,15 12,18 16,15 16,25 12,22 12,25z ")).click(function(){v.fullwidthAudioPlayer.previous();
return false});R=va.set();R.push(va.circle(40,20,20),va.path("M35,12 47,20 35,28z").hide(),va.path("M36,12 39,12 39,28 36,28z M41,12 44,12 44,28 41,28z").hide()).click(function(){v.fullwidthAudioPlayer.toggle();return false});var Ma=va.set(),Ua=v.support.leadingWhitespace?"t57,0s-1,1":"t54,0s-1,1";Ma.push(va.circle(R[0].attrs.cx+20+15-10,20,15),E[1].clone().transform(Ua)).click(function(){v.fullwidthAudioPlayer.next();return false})[0].toBack();va.forEach(function(ga){ga.node.style.cursor="pointer";
ga.attr({stroke:"none"});ga.type=="circle"?ga.attr({fill:b.fillColor}):ga.attr({fill:b.mainColor});ga.type=="circle"&&ga.mouseover(function(){va.forEach(function(Fa){Fa.type=="circle"&&Fa.stop().animate({fill:b.fillColor},300)});this.stop().animate({fill:b.fillColorHover},300)})});A.children("#fap-ui-nav").mouseleave(function(){va.forEach(function(ga){ga.type=="circle"&&ga.stop().animate({fill:b.fillColor},300)})})}b.keyboard&&v(document).keyup(function(ga){switch(ga.which){case 32:v.fullwidthAudioPlayer.toggle();
break;case 39:v.fullwidthAudioPlayer.next();break;case 37:v.fullwidthAudioPlayer.previous();break;case 38:v.fullwidthAudioPlayer.volume(xa/100+0.05);break;case 40:v.fullwidthAudioPlayer.volume(xa/100-0.05)}});y.children("p").css("marginLeft",b.coverSize[0]+10);o.trigger("onFapReady");Ca=true;v(".fap-enqueue-track").each(function(ga,Fa){var Ga=v(Fa);jQuery.fullwidthAudioPlayer.addTrack(Ga.attr("href"),Ga.attr("title"),v("body").find(Ga.data("meta")).html(),Ga.attr("rel"),Ga.attr("target"),false)});
o.bind("fap-tracks-stored",function(ga,Fa){Sa&&G(Fa,Sa)});G(0,b.autoPlay);b.autoPlay?o.trigger("onFapPlay"):o.trigger("onFapPause")}function q(){function E(){if(!Ca)return false;var Q=v(this);if(Ja){Q=h(Q);j(Q,true)}else v.fullwidthAudioPlayer.addTrack(Q.attr("href"),Q.attr("title"),v("body").find(Q.data("meta")).html(),Q.attr("rel"),Q.attr("target"),true);return false}o.jquery>="1.7"?v("body").on("click",".fap-my-playlist li a, .fap-single-track",E):v("body").delegate(".fap-my-playlist li a, .fap-single-track",
"click",E);setTimeout(function(){Ja&&window.fapPopupWin&&!window.fapPopupWin.closed&&v(".fap-enqueue-track").each(function(Q,X){j(X,false)})},201)}function h(E){var Q='<a href="'+E.attr("href")+'" title="'+(E.attr("title")?E.attr("title"):"")+'" target="'+(E.attr("target")?E.attr("target"):"")+'" rel="'+(E.attr("rel")?E.attr("rel"):"")+'" data-meta="'+(E.data("meta")?E.data("meta"):"")+'"></a>';if(E.data("meta")){var X=v("body").find(E.data("meta")).html()?v("body").find(E.data("meta")).html():"";
Q+='<span id="'+E.data("meta").substring(1)+'">'+X+"</span>"}return Q}function w(E){v.getJSON((/api\./.test(E)?E+"?":"http://api.soundcloud.com/resolve?url="+E+"&")+"format=json&consumer_key="+Ta+"&callback=?",function(Q){var X=0,da=0;if(Q.tracks)for(var ma=0;ma<Q.tracks.length;++ma){da=D(Q.tracks[ma]);X=da<X?da:X;if(ma==0)X=da}else if(Q.duration){Q.permalink_url=E;X=D(Q)}else if(Q.username){/favorites/.test(E)?w(Q.uri+"/favorites"):w(Q.uri+"/tracks");return false}else if(v.isArray(Q))for(ma=0;ma<
Q.length;++ma){da=D(Q[ma]);X=da<X?da:X;if(ma==0)X=da}o.trigger("onFapTracksAdded",[ba]);o.trigger("fap-tracks-stored",[X])})}function D(E){for(var Q=ba.length,X=0;X<ba.length;++X)if(E.title==ba[X].title)return Q=X;ba.push(E);Z(E.artwork_url,E.title);return Q}function G(E,Q){if(ba.length<=0){v.fullwidthAudioPlayer.clear();return false}if(La&&!Pa)return false;if(E==ca)return false;else ca=E<0?ba.length-1:E==ba.length?0:E;Da=!Q;var X=/http:\/\/soundcloud/.test(ba[ca].permalink_url);if(X&&!Pa){v("body").fapScPlayer({apiKey:Ta,
autoPlay:Q});v(document).bind("fapScPlayer:onAudioReady",function(){Pa=true;T.setVolume(xa)})}if(v.fapScPlayer.html5())Pa=true;A.find("#fap-progress-bar").width(0);A.find("#fap-total-time, #fap-current-time").text("00:00:00");y.children("#fap-current-cover").attr("src",ba[ca].artwork_url);y.children("#fap-current-title").html(ba[ca].title);y.children("#fap-current-meta").html(X?ba[ca].genre:ba[ca].meta);if(ba[ca].artwork_url){y.children("#fap-current-cover").show();y.children("#fap-cover-replacement").hide()}else{y.children("#fap-current-cover").hide();
y.children("#fap-cover-replacement").show()}if(ba[ca].permalink_url){y.children("#fap-social-links").children("a").show();var da="http://www.facebook.com/sharer.php?u="+encodeURIComponent(ba[ca].permalink_url)+"&t="+encodeURIComponent(ba[ca].title)+"",ma="http://twitter.com/share?url="+encodeURIComponent(ba[ca].permalink_url)+"&text="+encodeURIComponent(ba[ca].title)+"";y.find("#fap-social-links a:eq(0)").attr("href",ba[ca].permalink_url);y.find("#fap-social-links a:eq(1)").attr("href",ba[ca].permalink_url+
"/download");y.find("#fap-social-links a:eq(2)").attr("href",da);y.find("#fap-social-links a:eq(3)").attr("href",ma)}else y.children("#fap-social-links").children("a").hide();if(b.playlist){C.find("#fap-playlist li").css("background","none");C.find("#fap-playlist li").eq(ca).css("background",b.activeTrackColor)}if(Q){R[1].hide();R[2].show()}else{R[2].hide();R[1].show()}T&&T.destruct();if(X){La||A.find("#fap-loading-bar").width("100%");y.children("#fap-social-links").children('("a:eq(0)').show();ba[ca].downloadable?
y.children("#fap-social-links").children('("a:eq(1)').show():y.children("#fap-social-links").children('("a:eq(1)').hide();La=true;T=v.fapScPlayer;T.setVolume(xa);T.load(ba[ca],Q);T.defaults.whileloading=function(ea){if(ea<0)ea=0;if(ea>100)ea=100;A.find("#fap-loading-bar").width(ea+"%")};T.defaults.whileplaying=function(ea){ia(ea,ba[ca].duration)};T.defaults.onfinish=F}else{y.children("#fap-social-links").children('("a:eq(0), a:eq(1)').hide();La=false;T=soundManager.createSound({id:"fap_sound",url:ba[ca].stream_url,
autoPlay:Q,autoLoad:b.autoLoad,volume:xa,whileloading:x,whileplaying:M,onfinish:F,onload:U})}o.trigger("onFapTrackSelect",[ba[ca]])}function x(){A.find("#fap-loading-bar").width(this.bytesLoaded/this.bytesTotal*za)}function M(){ia(this.position,this.duration)}function F(){if(b.playNextWhenFinished)v.fullwidthAudioPlayer.next();else{v.fullwidthAudioPlayer.pause();T.setPosition(0);V(0)}}function U(E){E||window.console&&window.console.log&&console.log("MP3 file could not be loaded! Please check the URL: "+
this.url)}function Z(E,Q){if(!b.playlist)return false;var X=E?'<img src="'+E+'" style="border: 1px solid '+b.strokeColor+';" />':'<div class="fap-cover-replace-small" style="background: '+b.wrapperColor+"; border: 1px solid "+b.strokeColor+';"></div>';C.find("#fap-playlist").append('<li class="clearfix">'+X+"<span>"+Q+'</span><div class="fap-remove-track"></div></li>');X=C.find("#fap-playlist li").last().css({marginBottom:5,height:22});if(navigator.appVersion.indexOf("MSIE 7.")==-1){E||aa(X.children(".fap-cover-replace-small").get(0),
20,20);var da=X.children(".fap-remove-track");Raphael(da.get(0),20,20).path("M2,0 10,8, 18,0 20,2 12,10 20,18, 18,20 10,12 2,20 0,18 8,10 0,2c").scale(0.4).attr({fill:b.mainColor,stroke:"none"})}X.delegate("span","click",function(){var ma=C.find("#fap-playlist li").index(v(this).parent());G(ma,true)});X.delegate(".fap-remove-track","click",function(){var ma=v(this),ea=ma.parent().parent().children("li").index(ma.parent());ba.splice(ea,1);ma.parent().remove();if(ea==ca){ca--;ea=ea==ba.length?0:ea;
G(ea,Da?false:true)}else ea<ca&&ca--;P&&P.refresh()});P&&P.refresh()}function aa(E,Q,X){if(ya){var da=document.createElement("canvas");da.width=Q;da.height=X;coverCanvasContext=da.getContext("2d");canvg(da,'<svg><path stroke="'+b.strokeColor+'" d="M0,0L'+Q+","+X+"M"+Q+",0L0,"+X+'"/></svg>');v(E).append(da)}else Raphael(E,Q,X).path("M0,0 "+Q+","+X+"c M"+Q+",0 0,"+X+"").attr({fill:"none,",stroke:b.strokeColor})}function V(E){A.find("#fap-progress-bar").width(E*za)}function ia(E,Q){var X=ha(E/1E3);if(la!=
X){A.find("#fap-current-time").text(X);A.find("#fap-total-time").text(ha(Q/1E3));V(E/Q)}la=X}function na(E,Q){if(k.is(":animated"))return false;if(E=="open"){if(b.wrapperPosition=="top"){k.animate({top:-(ka-b.height)},Q?300:0);ya?W.removeClass().addClass("fap-switcher-rotated"):W.getById(0).animate({transform:"s-1"},Q?300:0)}else{k.animate({bottom:-(ka-b.height)},Q?300:0);ya?W.removeClass().addClass("fap-switcher-normal"):W.getById(0).animate({transform:"r0"},Q?300:0)}b.opened=true}else if(E=="close"){if(b.wrapperPosition==
"top"){k.animate({top:-ka-1},Q?300:0);ya?W.removeClass().addClass("fap-switcher-normal"):W.getById(0).animate({transform:"r0"},Q?300:0)}else{k.animate({bottom:-ka-1},Q?300:0);ya?W.removeClass().addClass("fap-switcher-rotated"):W.getById(0).animate({transform:"s-1"},Q?300:0)}b.opened=Oa=false}else if(E=="openPlaylist"){b.wrapperPosition=="top"?k.animate({top:0},300):k.animate({bottom:0},300);Oa=true}else if(E=="closePlaylist"){b.wrapperPosition=="top"?k.animate({top:-(ka-b.height)},300):k.animate({bottom:-(ka-
b.height)},300);Oa=false}}function ha(E){E=Math.abs(E);var Q=[];Q[0]=Math.floor(E/3600%24);Q[1]=Math.floor(E/60%60);Q[2]=Math.floor(E%60);E=true;for(var X=-1,da=0;da<Q.length;da++){if(Q[da]<10)Q[da]="0"+Q[da];if(Q[da]=="00"&&da<Q.length-2&&!E)X=da;else E=true}Q.splice(0,X+1);return Q.join(":")}function ua(){C.find("#fap-playlist").empty();if(ca!=-1){var E=ba[ca].title;ba.shuffle();u(E);for(E=0;E<ba.length;++E)Z(ba[E].artwork_url,ba[E].title);t.find("#fap-playlist-wrapper #fap-playlist").find("li").eq(ca).css("backgroundColor",
b.fillColor);t.find("#fap-playlist-wrapper").scrollTop(0)}else{ba.shuffle();for(E=0;E<ba.length;++E)Z(ba[E].artwork_url,ba[E].title)}}function u(E){for(var Q=0;Q<ba.length;++Q)if(ba[Q].title==E)ca=Q}var b=v.extend({},v.fn.fullwidthAudioPlayer.defaults,d),o,k,t,A,y,C,P,R,W,T,la,ka=0,ta=-1,za=180,fa=50,ca=-1,xa=100,Da,Ca,ya=false,Pa=false,La=false,Oa=false,Sa=false,Ja=false,Ia=false,Ta="d2be7a47322c293cdaffc039a26e05d1",ba=[];v.fullwidthAudioPlayer.play=function(){if(ba.length>0){T.playState?T.resume():
T.play();R[1].hide();R[2].show();Da=false;o.trigger("onFapPlay")}};v.fullwidthAudioPlayer.pause=function(){if(ba.length>0){T.pause();R[2].hide();R[1].show();Da=true;o.trigger("onFapPause")}};v.fullwidthAudioPlayer.toggle=function(){Da?v.fullwidthAudioPlayer.play():v.fullwidthAudioPlayer.pause()};v.fullwidthAudioPlayer.previous=function(){ba.length>0&&G(ca-1,true)};v.fullwidthAudioPlayer.next=function(){ba.length>0&&G(ca+1,true)};v.fullwidthAudioPlayer.volume=function(E){if(ba.length>0){if(E<0)E=0;
if(E>1)E=1;xa=E*100;T&&T.setVolume(xa);A.find("#fap-volume-progress").width(E*fa)}};v.fullwidthAudioPlayer.addTrack=function(E,Q,X,da,ma,ea){if(Q===undefined)Q="";if(X===undefined)X="";if(da===undefined)da="";if(ma===undefined)ma="";if(ea===undefined)ea=false;if(Ja&&window.fapPopupWin&&!window.fapPopupWin.closed){window.fapPopupWin.addTrack(E,Q,X,da,ma,ea);window.fapPopupWin.focus();return false}if(b.base64){E=E;var sa="",wa,Ba,Ea,ra,Aa,va=0;for(E=E.replace(/[^A-Za-z0-9\+\/\=]/g,"");va<E.length;){wa=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(E.charAt(va++));Ba="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(E.charAt(va++));ra="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(E.charAt(va++));Aa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(E.charAt(va++));wa=wa<<2|Ba>>4;Ba=(Ba&15)<<4|ra>>2;Ea=(ra&3)<<6|Aa;sa+=String.fromCharCode(wa);if(ra!=64)sa+=String.fromCharCode(Ba);if(Aa!=
64)sa+=String.fromCharCode(Ea)}E=sa;sa="";for(Aa=c1=c2=ra=0;ra<E.length;){Aa=E.charCodeAt(ra);if(Aa<128){sa+=String.fromCharCode(Aa);ra++}else if(Aa>191&&Aa<224){c2=E.charCodeAt(ra+1);sa+=String.fromCharCode((Aa&31)<<6|c2&63);ra+=2}else{c2=E.charCodeAt(ra+1);c3=E.charCodeAt(ra+2);sa+=String.fromCharCode((Aa&15)<<12|(c2&63)<<6|c3&63);ra+=3}}E=sa=sa}Sa=ea;if(/http:\/\/soundcloud/.test(E)){if(!Ta){alert("Sorry. You need to set a soundcloud API key first. Please read the documentation how to get and set an API key!");
return false}w(E)}else{Q=D({stream_url:E,title:Q,meta:X,artwork_url:da,permalink_url:ma});o.trigger("onFapTracksAdded",[ba]);o.trigger("fap-tracks-stored",[Q])}!b.opened&&ea&&na("open",true)};v.fullwidthAudioPlayer.clear=function(){y.children("#fap-current-cover").hide();y.children("#fap-cover-replacement").show();y.children("#fap-current-title, #fap-current-meta").html("");y.children("#fap-social-links").children("a").attr("href","").hide();A.find("#fap-progress-bar, #fap-loading-bar").width(0);
A.find("#fap-current-time, #fap-total-time").text("00:00:00");R[2].hide();R[1].show();Da=true;ca=-1;b.playlist&&C.find("#fap-playlist").empty();ba=[];T&&T.destruct();P&&P.refresh();o.trigger("onFapClear")};Array.prototype.shuffle=function(){for(var E,Q,X=0;X<this.length;X++){Q=Math.floor(Math.random()*this.length);E=this[X];this[X]=this[Q];this[Q]=E}};return this.each(function(){m(this)})};v.fn.fullwidthAudioPlayer.defaults={wrapperPosition:"bottom",mainPosition:"center",wrapperColor:"#2B2B2B",mainColor:"#ffffff",
fillColor:"#191919",metaColor:"#666666",strokeColor:"#373737",fillColorHover:"#101010",activeTrackColor:"#191919",twitterText:"Share on Twitter",facebookText:"Share on Facebook",soundcloudText:"Check on Souncloud",downloadText:"Download",popupUrl:"popup.html",height:70,playlistHeight:210,coverSize:[50,50],offset:20,opened:true,volume:true,playlist:true,autoLoad:true,autoPlay:false,playNextWhenFinished:true,keyboard:true,socials:true,autoPopup:false,randomize:false,shuffle:true,sortable:false,base64:false,
xmlPath:"",xmlPlaylist:""}})(jQuery);
(function(){var v=/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent);window.soundcloud={version:"0.1",debug:false,_listeners:[],_redispatch:function(d,m,j){var f,r=this._listeners[d]||[],l="soundcloud:"+d;try{f=this.getPlayer(m)}catch(q){this.debug&&window.console&&console.error("unable to dispatch widget event "+d+" for the widget id "+m,j,q);return}if(window.jQuery)jQuery(f).trigger(l,[j]);else window.Prototype&&$(f).fire(l,j);for(var h=0,w=r.length;h<w;h+=1)r[h].apply(f,[f,
j]);this.debug&&window.console&&console.log(l,d,m,j)},addEventListener:function(d,m){this._listeners[d]||(this._listeners[d]=[]);this._listeners[d].push(m)},removeEventListener:function(d,m){for(var j=this._listeners[d]||[],f=0,r=j.length;f<r;f+=1)j[f]===m&&j.splice(f,1)},getPlayer:function(d){var m;try{if(!d)throw"The SoundCloud Widget DOM object needs an id atribute, please refer to SoundCloud Widget API documentation.";if(m=v?window[d]:document[d])if(m.api_getFlashId)return m;else throw"The SoundCloud Widget External Interface is not accessible. Check that allowscriptaccess is set to 'always' in embed code";
else throw"The SoundCloud Widget with an id "+d+" couldn't be found";}catch(j){console&&console.error&&console.error(j);throw j;}},onPlayerReady:function(d,m){this._redispatch("onPlayerReady",d,m)},onMediaStart:function(d,m){this._redispatch("onMediaStart",d,m)},onMediaEnd:function(d,m){this._redispatch("onMediaEnd",d,m)},onMediaPlay:function(d,m){this._redispatch("onMediaPlay",d,m)},onMediaPause:function(d,m){this._redispatch("onMediaPause",d,m)},onMediaBuffering:function(d,m){this._redispatch("onMediaBuffering",
d,m)},onMediaSeek:function(d,m){this._redispatch("onMediaSeek",d,m)},onMediaDoneBuffering:function(d,m){this._redispatch("onMediaDoneBuffering",d,m)},onPlayerError:function(d,m){this._redispatch("onPlayerError",d,m)}}})();
(function(v){var d=v(document),m=function(){try{window.console&&window.console.log&&window.console.log.apply(window.console,arguments)}catch(w){}},j=function(){var w=function(){var x=false;try{var M=new Audio;x=(x=M.canPlayType&&/maybe|probably/.test(M.canPlayType("audio/mpeg")))&&/iPad|iphone|mobile|pre\//i.test(navigator.userAgent)}catch(F){}return x}();callbacks={onReady:function(){d.trigger("fapScPlayer:onAudioReady")},onPlay:function(){d.trigger("fapScPlayer:onMediaPlay")},onPause:function(){d.trigger("fapScPlayer:onMediaPause")},
onEnd:function(){d.trigger("fapScPlayer:onMediaEnd")},onBuffer:function(x){d.trigger({type:"fapScPlayer:onMediaBuffering",percent:x})}};var D=function(){var x=new Audio;v('<div class="sc-player-engine-container"></div>').appendTo(document.body).append(x);x.addEventListener("play",callbacks.onPlay,false);x.addEventListener("pause",callbacks.onPause,false);x.addEventListener("ended",callbacks.onEnd,false);x.addEventListener("timeupdate",function(M){M=M.target;var F=(M.buffered.length&&M.buffered.end(0))/
M.duration*100;callbacks.onBuffer(F);M.currentTime===M.duration&&callbacks.onEnd()},false);x.addEventListener("progress",function(M){M=M.target;M=(M.buffered.length&&M.buffered.end(0))/M.duration*100;callbacks.onBuffer(M)},false);return{load:function(M,F){x.pause();x.src=M.stream_url+"?consumer_key="+F;x.load();x.play()},play:function(){x.play()},pause:function(){x.pause()},stop:function(){if(x.currentTime)x.currentTime=0;x.pause()},seek:function(M){x.currentTime=x.duration*M;x.play()},getDuration:function(){return x.duration*
1E3},getPosition:function(){return x.currentTime*1E3},setVolume:function(M){if(x)x.volume=M/100},html5:true}},G=function(){var x,M=function(F){F="http://player.soundcloud.com/player.swf?url="+F+"&amp;enable_api=true&amp;player_type=engine&amp;object_id=fapScPlayerEngine";return v.browser.msie?'<object height="100%" width="100%" id="fapScPlayerEngine" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" data="'+F+'"><param name="movie" value="'+F+'" /><param name="allowscriptaccess" value="always" /></object>':
'<object height="100%" width="100%" id="fapScPlayerEngine"><embed allowscriptaccess="always" height="100%" width="100%" src="'+F+'" type="application/x-shockwave-flash" name="fapScPlayerEngine" /></object>'};soundcloud.addEventListener("onPlayerReady",function(){x=soundcloud.getPlayer("fapScPlayerEngine");callbacks.onReady()});soundcloud.addEventListener("onMediaEnd",callbacks.onEnd);soundcloud.addEventListener("onMediaBuffering",function(F,U){callbacks.onBuffer(U.percent)});soundcloud.addEventListener("onMediaPlay",
callbacks.onPlay);soundcloud.addEventListener("onMediaPause",callbacks.onPause);return{load:function(F){F=F.permalink_url;x?x.api_load(F):v('<div class="sc-player-engine-container"></div>').appendTo(document.body).html(M(F))},play:function(){x&&x.api_play()},pause:function(){x&&x.api_pause()},stop:function(){x&&x.api_stop()},seek:function(F){x&&x.api_seekTo(x.api_getTrackDuration()*F)},getDuration:function(){return x&&x.api_getTrackDuration&&x.api_getTrackDuration()*1E3},getPosition:function(){return x&&
x.api_getTrackPosition&&x.api_getTrackPosition()*1E3},setVolume:function(F){x&&x.api_setVolume&&x.api_setVolume(F)},html5:false}};return w?D():G()}(),f,r,l=false,q=false,h;v.fapScPlayer=function(w){w=v.extend({},v.fapScPlayer.defaults,w);f=w.apiKey;r=w.autoPlay};v.fapScPlayer.html5=function(){return j.html5};v.fapScPlayer.load=function(w,D){q=!D;j.stop();j.load(w,f);v.fapScPlayer.duration=w.duration};v.fapScPlayer.play=function(){q=false;j.play()};v.fapScPlayer.pause=function(){q=true;j.pause()};
v.fapScPlayer.stop=function(){q=true;j.stop()};v.fapScPlayer.setPosition=function(w){j.seek(w)};v.fapScPlayer.setVolume=function(w){j.setVolume(w)};v.fapScPlayer.destruct=function(){q=true;j.pause();j.stop()};d.bind("fapScPlayer:onAudioReady",function(){j.html5?m("Soundcloud Player HTML5: audio engine is ready"):m("Soundcloud Player Flash: audio engine is ready");if(l||!q)j.play();else r?j.play():j.pause();l=true}).bind("fapScPlayer:onMediaPlay",function(){clearInterval(h);if(q){j.stop();return false}h=
setInterval(function(){var w=j.getDuration(),D=j.getPosition();v.fapScPlayer.defaults.whileplaying(D,w)},500)}).bind("fapScPlayer:onMediaPause",function(){clearInterval(h);h=null}).bind("fapScPlayer:onVolumeChange",function(){}).bind("fapScPlayer:onMediaEnd",function(){v.fapScPlayer.defaults.onfinish()}).bind("fapScPlayer:onMediaBuffering",function(w){v.fapScPlayer.defaults.whileloading(w.percent+1)});v.fn.fapScPlayer=function(w){this.each(function(){v.fapScPlayer(w,this)});return this};v.fapScPlayer.defaults=
v.fn.fapScPlayer.defaults={whileloading:function(){},whileplaying:function(){},onfinish:function(){},apiKey:"LFSDttxBaGVSYZfSitrA",autoPlay:true}})(jQuery);
(function(v){jQuery.browser.mobile=/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|lge |maemo|midp|mmp|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(v)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(v.substr(0,4))})(navigator.userAgent||
navigator.vendor||window.opera);
(function(v){function d(l,q){this.el=v(l);this.options=q||{};this.x=false!==this.options.x;this.y=false!==this.options.y;this.padding=undefined==this.options.padding?2:this.options.padding;this.inner=this.el.find(".antiscroll-inner");this.inner.css({width:"+="+f(),height:"+="+f()});this.refresh()}function m(l){this.pane=l;this.pane.el.append(this.el);this.innerEl=this.pane.inner.get(0);this.shown=this.enter=this.dragging=false;this.pane.el.mouseenter(v.proxy(this,"mouseenter"));this.pane.el.mouseleave(v.proxy(this,
"mouseleave"));this.el.mousedown(v.proxy(this,"mousedown"));this.pane.inner.scroll(v.proxy(this,"scroll"));this.pane.inner.bind("mousewheel",v.proxy(this,"mousewheel"));l=this.pane.options.initialDisplay;if(l!==false){this.show();this.hiding=setTimeout(v.proxy(this,"hide"),parseInt(l,10)||3E3)}}function j(l,q){function h(){}h.prototype=q.prototype;l.prototype=new h}function f(){if(r===undefined){var l=v('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div>');
v("body").append(l);var q=v("div",l).innerWidth();l.css("overflow-y","scroll");var h=v("div",l).innerWidth();v(l).remove();r=q-h}return r}v.fn.antiscroll=function(l){return this.each(function(){v(this).data("antiscroll")&&v(this).data("antiscroll").destroy();v(this).data("antiscroll",new v.Antiscroll(this,l))})};v.Antiscroll=d;d.prototype.refresh=function(){var l=this.inner.get(0).scrollWidth>this.el.width(),q=this.inner.get(0).scrollHeight>this.el.height();if(!this.horizontal&&l&&this.x)this.horizontal=
new m.Horizontal(this);else if(this.horizontal&&!l){this.horizontal.destroy();this.horizontal=null}if(!this.vertical&&q&&this.y)this.vertical=new m.Vertical(this);else if(this.vertical&&!q){this.vertical.destroy();this.vertical=null}};d.prototype.destroy=function(){this.horizontal&&this.horizontal.destroy();this.vertical&&this.vertical.destroy();return this};d.prototype.rebuild=function(){this.destroy();this.inner.attr("style","");d.call(this,this.el,this.options);return this};m.prototype.destroy=
function(){this.el.remove();return this};m.prototype.mouseenter=function(){this.enter=true;this.show()};m.prototype.mouseleave=function(){this.enter=false;this.dragging||this.hide()};m.prototype.scroll=function(){if(!this.shown){this.show();if(!this.enter&&!this.dragging)this.hiding=setTimeout(v.proxy(this,"hide"),1500)}this.update()};m.prototype.mousedown=function(l){l.preventDefault();this.dragging=true;this.startPageY=l.pageY-parseInt(this.el.css("top"),10);this.startPageX=l.pageX-parseInt(this.el.css("left"),
10);document.onselectstart=function(){return false};var q=v.proxy(this,"mousemove"),h=this;v(document).mousemove(q).mouseup(function(){h.dragging=false;document.onselectstart=null;v(document).unbind("mousemove",q);h.enter||h.hide()})};m.prototype.show=function(){if(!this.shown){this.update();this.el.addClass("antiscroll-scrollbar-shown");if(this.hiding){clearTimeout(this.hiding);this.hiding=null}this.shown=true}};m.prototype.hide=function(){if(this.shown){this.el.removeClass("antiscroll-scrollbar-shown");
this.shown=false}};m.Horizontal=function(l){this.el=v('<div class="antiscroll-scrollbar antiscroll-scrollbar-horizontal">');m.call(this,l)};j(m.Horizontal,m);m.Horizontal.prototype.update=function(){var l=this.pane.el.width(),q=l-this.pane.padding*2,h=this.pane.inner.get(0);this.el.css("width",q*l/h.scrollWidth).css("left",q*h.scrollLeft/h.scrollWidth)};m.Horizontal.prototype.mousemove=function(l){var q=this.pane.el.width()-this.pane.padding*2,h=l.pageX-this.startPageX;l=this.el.width();var w=this.pane.inner.get(0);
h=Math.min(Math.max(h,0),q-l);w.scrollLeft=(w.scrollWidth-this.pane.el.width())*h/(q-l)};m.Horizontal.prototype.mousewheel=function(l,q,h){if(h<0&&0==this.pane.inner.get(0).scrollLeft||h>0&&this.innerEl.scrollLeft+this.pane.el.width()==this.innerEl.scrollWidth){l.preventDefault();return false}};m.Vertical=function(l){this.el=v('<div class="antiscroll-scrollbar antiscroll-scrollbar-vertical">');m.call(this,l)};j(m.Vertical,m);m.Vertical.prototype.update=function(){var l=this.pane.el.height(),q=l-this.pane.padding*
2,h=this.innerEl;this.el.css("height",q*l/h.scrollHeight).css("top",q*h.scrollTop/h.scrollHeight)};m.Vertical.prototype.mousemove=function(l){var q=this.pane.el.height(),h=q-this.pane.padding*2;l=l.pageY-this.startPageY;var w=this.el.height(),D=this.innerEl;D.scrollTop=(D.scrollHeight-q)*Math.min(Math.max(l,0),h-w)/(h-w)};m.Vertical.prototype.mousewheel=function(l,q,h,w){if(w>0&&0==this.innerEl.scrollTop||w<0&&this.innerEl.scrollTop+this.pane.el.height()==this.innerEl.scrollHeight){l.preventDefault();
return false}};var r})(jQuery);
function RGBColor(v){this.ok=false;if(v.charAt(0)=="#")v=v.substr(1,6);v=v.replace(/ /g,"");v=v.toLowerCase();var d={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",
darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",
gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",
lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",
oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",
slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},m;for(m in d)if(v==m)v=d[m];var j=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,
example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}];for(m=0;m<j.length;m++){var f=j[m].process,r=j[m].re.exec(v);if(r){channels=f(r);this.r=channels[0];this.g=channels[1];this.b=channels[2];this.ok=true}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r;this.g=this.g<0||isNaN(this.g)?
0:this.g>255?255:this.g;this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b;this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"};this.toHex=function(){var l=this.r.toString(16),q=this.g.toString(16),h=this.b.toString(16);if(l.length==1)l="0"+l;if(q.length==1)q="0"+q;if(h.length==1)h="0"+h;return"#"+l+q+h};this.getHelpXML=function(){for(var l=[],q=0;q<j.length;q++)for(var h=j[q].example,w=0;w<h.length;w++)l[l.length]=h[w];for(var D in d)l[l.length]=D;h=document.createElement("ul");
h.setAttribute("id","rgbcolor-examples");for(q=0;q<l.length;q++)try{var G=document.createElement("li"),x=new RGBColor(l[q]),M=document.createElement("div");M.style.cssText="margin: 3px; border: 1px solid black; background:"+x.toHex()+"; color:"+x.toHex();M.appendChild(document.createTextNode("test"));var F=document.createTextNode(" "+l[q]+" -> "+x.toRGB()+" -> "+x.toHex());G.appendChild(M);G.appendChild(F);h.appendChild(G)}catch(U){}return h}}
if(!window.console){window.console={};window.console.log=function(){};window.console.dir=function(){}}if(!Array.prototype.indexOf)Array.prototype.indexOf=function(v){for(var d=0;d<this.length;d++)if(this[d]==v)return d;return-1};
(function(){function v(){var d={};d.FRAMERATE=30;d.MAX_VIRTUAL_PIXELS=3E4;d.init=function(m){d.Definitions={};d.Styles={};d.Animations=[];d.Images=[];d.ctx=m;d.ViewPort=new function(){this.viewPorts=[];this.Clear=function(){this.viewPorts=[]};this.SetCurrent=function(j,f){this.viewPorts.push({width:j,height:f})};this.RemoveCurrent=function(){this.viewPorts.pop()};this.Current=function(){return this.viewPorts[this.viewPorts.length-1]};this.width=function(){return this.Current().width};this.height=
function(){return this.Current().height};this.ComputeSize=function(j){if(j!=null&&typeof j=="number")return j;if(j=="x")return this.width();if(j=="y")return this.height();return Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}};d.init();d.ImagesLoaded=function(){for(var m=0;m<d.Images.length;m++)if(!d.Images[m].loaded)return false;return true};d.trim=function(m){return m.replace(/^\s+|\s+$/g,"")};d.compressSpaces=function(m){return m.replace(/[\s\r\t\n]+/gm," ")};d.ajax=
function(m){var j;if(j=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")){j.open("GET",m,false);j.send(null);return j.responseText}return null};d.parseXml=function(m){if(window.DOMParser)return(new DOMParser).parseFromString(m,"text/xml");else{m=m.replace(/<!DOCTYPE svg[^>]*>/,"");var j=new ActiveXObject("Microsoft.XMLDOM");j.async="false";j.loadXML(m);return j}};d.Property=function(m,j){this.name=m;this.value=j;this.hasValue=function(){return this.value!=null&&this.value!==
""};this.numValue=function(){if(!this.hasValue())return 0;var r=parseFloat(this.value);if((this.value+"").match(/%$/))r/=100;return r};this.valueOrDefault=function(r){if(this.hasValue())return this.value;return r};this.numValueOrDefault=function(r){if(this.hasValue())return this.numValue();return r};var f=this;this.Color={addOpacity:function(r){var l=f.value;if(r!=null&&r!=""){var q=new RGBColor(f.value);if(q.ok)l="rgba("+q.r+", "+q.g+", "+q.b+", "+r+")"}return new d.Property(f.name,l)}};this.Definition=
{getDefinition:function(){var r=f.value.replace(/^(url\()?#([^\)]+)\)?$/,"$2");return d.Definitions[r]},isUrl:function(){return f.value.indexOf("url(")==0},getFillStyle:function(r){var l=this.getDefinition();if(l!=null&&l.createGradient)return l.createGradient(d.ctx,r);if(l!=null&&l.createPattern)return l.createPattern(d.ctx,r);return null}};this.Length={DPI:function(){return 96},EM:function(r){var l=12,q=new d.Property("fontSize",d.Font.Parse(d.ctx.font).fontSize);if(q.hasValue())l=q.Length.toPixels(r);
return l},toPixels:function(r){if(!f.hasValue())return 0;var l=f.value+"";if(l.match(/em$/))return f.numValue()*this.EM(r);if(l.match(/ex$/))return f.numValue()*this.EM(r)/2;if(l.match(/px$/))return f.numValue();if(l.match(/pt$/))return f.numValue()*1.25;if(l.match(/pc$/))return f.numValue()*15;if(l.match(/cm$/))return f.numValue()*this.DPI(r)/2.54;if(l.match(/mm$/))return f.numValue()*this.DPI(r)/25.4;if(l.match(/in$/))return f.numValue()*this.DPI(r);if(l.match(/%$/))return f.numValue()*d.ViewPort.ComputeSize(r);
return f.numValue()}};this.Time={toMilliseconds:function(){if(!f.hasValue())return 0;var r=f.value+"";if(r.match(/s$/))return f.numValue()*1E3;if(r.match(/ms$/))return f.numValue();return f.numValue()}};this.Angle={toRadians:function(){if(!f.hasValue())return 0;var r=f.value+"";if(r.match(/deg$/))return f.numValue()*(Math.PI/180);if(r.match(/grad$/))return f.numValue()*(Math.PI/200);if(r.match(/rad$/))return f.numValue();return f.numValue()*(Math.PI/180)}}};d.Font=new function(){this.Styles=["normal",
"italic","oblique","inherit"];this.Variants=["normal","small-caps","inherit"];this.Weights=["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900","inherit"];this.CreateFont=function(j,f,r,l,q,h){h=h!=null?this.Parse(h):this.CreateFont("","","","","",d.ctx.font);return{fontFamily:q||h.fontFamily,fontSize:l||h.fontSize,fontStyle:j||h.fontStyle,fontWeight:r||h.fontWeight,fontVariant:f||h.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,
this.fontSize,this.fontFamily].join(" ")}}};var m=this;this.Parse=function(j){var f={};j=d.trim(d.compressSpaces(j||"")).split(" ");for(var r={fontSize:false,fontStyle:false,fontWeight:false,fontVariant:false},l="",q=0;q<j.length;q++)if(!r.fontStyle&&m.Styles.indexOf(j[q])!=-1){if(j[q]!="inherit")f.fontStyle=j[q];r.fontStyle=true}else if(!r.fontVariant&&m.Variants.indexOf(j[q])!=-1){if(j[q]!="inherit")f.fontVariant=j[q];r.fontStyle=r.fontVariant=true}else if(!r.fontWeight&&m.Weights.indexOf(j[q])!=
-1){if(j[q]!="inherit")f.fontWeight=j[q];r.fontStyle=r.fontVariant=r.fontWeight=true}else if(r.fontSize){if(j[q]!="inherit")l+=j[q]}else{if(j[q]!="inherit")f.fontSize=j[q].split("/")[0];r.fontStyle=r.fontVariant=r.fontWeight=r.fontSize=true}if(l!="")f.fontFamily=l;return f}};d.ToNumberArray=function(m){m=d.trim(d.compressSpaces((m||"").replace(/,/g," "))).split(" ");for(var j=0;j<m.length;j++)m[j]=parseFloat(m[j]);return m};d.Point=function(m,j){this.x=m;this.y=j;this.angleTo=function(f){return Math.atan2(f.y-
this.y,f.x-this.x)};this.applyTransform=function(f){var r=this.x*f[1]+this.y*f[3]+f[5];this.x=this.x*f[0]+this.y*f[2]+f[4];this.y=r}};d.CreatePoint=function(m){m=d.ToNumberArray(m);return new d.Point(m[0],m[1])};d.CreatePath=function(m){m=d.ToNumberArray(m);for(var j=[],f=0;f<m.length;f+=2)j.push(new d.Point(m[f],m[f+1]));return j};d.BoundingBox=function(m,j,f,r){this.y2=this.x2=this.y1=this.x1=Number.NaN;this.x=function(){return this.x1};this.y=function(){return this.y1};this.width=function(){return this.x2-
this.x1};this.height=function(){return this.y2-this.y1};this.addPoint=function(l,q){if(l!=null){if(isNaN(this.x1)||isNaN(this.x2))this.x2=this.x1=l;if(l<this.x1)this.x1=l;if(l>this.x2)this.x2=l}if(q!=null){if(isNaN(this.y1)||isNaN(this.y2))this.y2=this.y1=q;if(q<this.y1)this.y1=q;if(q>this.y2)this.y2=q}};this.addX=function(l){this.addPoint(l,null)};this.addY=function(l){this.addPoint(null,l)};this.addBoundingBox=function(l){this.addPoint(l.x1,l.y1);this.addPoint(l.x2,l.y2)};this.addQuadraticCurve=
function(l,q,h,w,D,G){h=l+2/3*(h-l);w=q+2/3*(w-q);this.addBezierCurve(l,q,h,h+1/3*(D-l),w,w+1/3*(G-q),D,G)};this.addBezierCurve=function(l,q,h,w,D,G,x,M){var F=[l,q],U=[h,w],Z=[D,G],aa=[x,M];this.addPoint(F[0],F[1]);this.addPoint(aa[0],aa[1]);for(i=0;i<=1;i++){l=function(V){return Math.pow(1-V,3)*F[i]+3*Math.pow(1-V,2)*V*U[i]+3*(1-V)*Math.pow(V,2)*Z[i]+Math.pow(V,3)*aa[i]};q=6*F[i]-12*U[i]+6*Z[i];h=-3*F[i]+9*U[i]-9*Z[i]+3*aa[i];w=3*U[i]-3*F[i];if(h==0){if(q!=0){q=-w/q;if(0<q&&q<1){i==0&&this.addX(l(q));
i==1&&this.addY(l(q))}}}else{w=Math.pow(q,2)-4*w*h;if(!(w<0)){D=(-q+Math.sqrt(w))/(2*h);if(0<D&&D<1){i==0&&this.addX(l(D));i==1&&this.addY(l(D))}q=(-q-Math.sqrt(w))/(2*h);if(0<q&&q<1){i==0&&this.addX(l(q));i==1&&this.addY(l(q))}}}}};this.isPointInBox=function(l,q){return this.x1<=l&&l<=this.x2&&this.y1<=q&&q<=this.y2};this.addPoint(m,j);this.addPoint(f,r)};d.Transform=function(m){var j=this;this.Type={};this.Type.translate=function(q){this.p=d.CreatePoint(q);this.apply=function(h){h.translate(this.p.x||
0,this.p.y||0)};this.applyToPoint=function(h){h.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}};this.Type.rotate=function(q){q=d.ToNumberArray(q);this.angle=new d.Property("angle",q[0]);this.cx=q[1]||0;this.cy=q[2]||0;this.apply=function(h){h.translate(this.cx,this.cy);h.rotate(this.angle.Angle.toRadians());h.translate(-this.cx,-this.cy)};this.applyToPoint=function(h){var w=this.angle.Angle.toRadians();h.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]);h.applyTransform([Math.cos(w),Math.sin(w),
-Math.sin(w),Math.cos(w),0,0]);h.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}};this.Type.scale=function(q){this.p=d.CreatePoint(q);this.apply=function(h){h.scale(this.p.x||1,this.p.y||this.p.x||1)};this.applyToPoint=function(h){h.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}};this.Type.matrix=function(q){this.m=d.ToNumberArray(q);this.apply=function(h){h.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])};this.applyToPoint=function(h){h.applyTransform(this.m)}};this.Type.SkewBase=
function(q){this.base=j.Type.matrix;this.base(q);this.angle=new d.Property("angle",q)};this.Type.SkewBase.prototype=new this.Type.matrix;this.Type.skewX=function(q){this.base=j.Type.SkewBase;this.base(q);this.m=[1,0,Math.tan(this.angle.Angle.toRadians()),1,0,0]};this.Type.skewX.prototype=new this.Type.SkewBase;this.Type.skewY=function(q){this.base=j.Type.SkewBase;this.base(q);this.m=[1,Math.tan(this.angle.Angle.toRadians()),0,1,0,0]};this.Type.skewY.prototype=new this.Type.SkewBase;this.transforms=
[];this.apply=function(q){for(var h=0;h<this.transforms.length;h++)this.transforms[h].apply(q)};this.applyToPoint=function(q){for(var h=0;h<this.transforms.length;h++)this.transforms[h].applyToPoint(q)};m=d.trim(d.compressSpaces(m)).split(/\s(?=[a-z])/);for(var f=0;f<m.length;f++){var r=m[f].split("(")[0],l=m[f].split("(")[1].replace(")","");this.transforms.push(new this.Type[r](l))}};d.AspectRatio=function(m,j,f,r,l,q,h,w,D,G){j=d.compressSpaces(j);j=j.replace(/^defer\s/,"");var x=j.split(" ")[0]||
"xMidYMid";j=j.split(" ")[1]||"meet";var M=f/r,F=l/q,U=Math.min(M,F),Z=Math.max(M,F);if(j=="meet"){r*=U;q*=U}if(j=="slice"){r*=Z;q*=Z}D=new d.Property("refX",D);G=new d.Property("refY",G);if(D.hasValue()&&G.hasValue())m.translate(-U*D.Length.toPixels("x"),-U*G.Length.toPixels("y"));else{if(x.match(/^xMid/)&&(j=="meet"&&U==F||j=="slice"&&Z==F))m.translate(f/2-r/2,0);if(x.match(/YMid$/)&&(j=="meet"&&U==M||j=="slice"&&Z==M))m.translate(0,l/2-q/2);if(x.match(/^xMax/)&&(j=="meet"&&U==F||j=="slice"&&Z==
F))m.translate(f-r,0);if(x.match(/YMax$/)&&(j=="meet"&&U==M||j=="slice"&&Z==M))m.translate(0,l-q)}if(x=="none")m.scale(M,F);else if(j=="meet")m.scale(U,U);else j=="slice"&&m.scale(Z,Z);m.translate(h==null?0:-h,w==null?0:-w)};d.Element={};d.Element.ElementBase=function(m){this.attributes={};this.styles={};this.children=[];this.attribute=function(q,h){var w=this.attributes[q];if(w!=null)return w;w=new d.Property(q,"");if(h==true)this.attributes[q]=w;return w};this.style=function(q,h){var w=this.styles[q];
if(w!=null)return w;w=this.attribute(q);if(w!=null&&w.hasValue())return w;w=this.parent;if(w!=null){w=w.style(q);if(w!=null&&w.hasValue())return w}w=new d.Property(q,"");if(h==true)this.styles[q]=w;return w};this.render=function(q){if(this.style("display").value!="none")if(this.attribute("visibility").value!="hidden"){q.save();this.setContext(q);if(this.attribute("mask").hasValue()){var h=this.attribute("mask").Definition.getDefinition();h!=null&&h.apply(q,this)}else if(this.style("filter").hasValue()){h=
this.style("filter").Definition.getDefinition();h!=null&&h.apply(q,this)}else this.renderChildren(q);this.clearContext(q);q.restore()}};this.setContext=function(){};this.clearContext=function(){};this.renderChildren=function(q){for(var h=0;h<this.children.length;h++)this.children[h].render(q)};this.addChild=function(q,h){var w=q;if(h)w=d.CreateElement(q);w.parent=this;this.children.push(w)};if(m!=null&&m.nodeType==1){for(var j=0;j<m.childNodes.length;j++){var f=m.childNodes[j];f.nodeType==1&&this.addChild(f,
true)}for(j=0;j<m.attributes.length;j++){f=m.attributes[j];this.attributes[f.nodeName]=new d.Property(f.nodeName,f.nodeValue)}f=d.Styles[m.nodeName];if(f!=null)for(var r in f)this.styles[r]=f[r];if(this.attribute("class").hasValue()){j=d.compressSpaces(this.attribute("class").value).split(" ");for(var l=0;l<j.length;l++){f=d.Styles["."+j[l]];if(f!=null)for(r in f)this.styles[r]=f[r];f=d.Styles[m.nodeName+"."+j[l]];if(f!=null)for(r in f)this.styles[r]=f[r]}}if(this.attribute("style").hasValue()){f=
this.attribute("style").value.split(";");for(j=0;j<f.length;j++)if(d.trim(f[j])!=""){m=f[j].split(":");r=d.trim(m[0]);m=d.trim(m[1]);this.styles[r]=new d.Property(r,m)}}if(this.attribute("id").hasValue())if(d.Definitions[this.attribute("id").value]==null)d.Definitions[this.attribute("id").value]=this}};d.Element.RenderedElementBase=function(m){this.base=d.Element.ElementBase;this.base(m);this.setContext=function(j){if(this.style("fill").Definition.isUrl()){var f=this.style("fill").Definition.getFillStyle(this);
if(f!=null)j.fillStyle=f}else if(this.style("fill").hasValue()){f=this.style("fill");if(this.style("fill-opacity").hasValue())f=f.Color.addOpacity(this.style("fill-opacity").value);j.fillStyle=f.value=="none"?"rgba(0,0,0,0)":f.value}if(this.style("stroke").Definition.isUrl()){f=this.style("stroke").Definition.getFillStyle(this);if(f!=null)j.strokeStyle=f}else if(this.style("stroke").hasValue()){f=this.style("stroke");if(this.style("stroke-opacity").hasValue())f=f.Color.addOpacity(this.style("stroke-opacity").value);
j.strokeStyle=f.value=="none"?"rgba(0,0,0,0)":f.value}if(this.style("stroke-width").hasValue())j.lineWidth=this.style("stroke-width").Length.toPixels();if(this.style("stroke-linecap").hasValue())j.lineCap=this.style("stroke-linecap").value;if(this.style("stroke-linejoin").hasValue())j.lineJoin=this.style("stroke-linejoin").value;if(this.style("stroke-miterlimit").hasValue())j.miterLimit=this.style("stroke-miterlimit").value;if(typeof j.font!="undefined")j.font=d.Font.CreateFont(this.style("font-style").value,
this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").Length.toPixels()+"px":"",this.style("font-family").value).toString();this.attribute("transform").hasValue()&&(new d.Transform(this.attribute("transform").value)).apply(j);if(this.attribute("clip-path").hasValue()){f=this.attribute("clip-path").Definition.getDefinition();f!=null&&f.apply(j)}if(this.style("opacity").hasValue())j.globalAlpha=this.style("opacity").numValue()}};
d.Element.RenderedElementBase.prototype=new d.Element.ElementBase;d.Element.PathElementBase=function(m){this.base=d.Element.RenderedElementBase;this.base(m);this.path=function(j){j!=null&&j.beginPath();return new d.BoundingBox};this.renderChildren=function(j){this.path(j);d.Mouse.checkPath(this,j);j.fillStyle!=""&&j.fill();j.strokeStyle!=""&&j.stroke();var f=this.getMarkers();if(f!=null){if(this.style("marker-start").Definition.isUrl()){var r=this.style("marker-start").Definition.getDefinition();
r.render(j,f[0][0],f[0][1])}if(this.style("marker-mid").Definition.isUrl()){r=this.style("marker-mid").Definition.getDefinition();for(var l=1;l<f.length-1;l++)r.render(j,f[l][0],f[l][1])}if(this.style("marker-end").Definition.isUrl()){r=this.style("marker-end").Definition.getDefinition();r.render(j,f[f.length-1][0],f[f.length-1][1])}}};this.getBoundingBox=function(){return this.path()};this.getMarkers=function(){return null}};d.Element.PathElementBase.prototype=new d.Element.RenderedElementBase;d.Element.svg=
function(m){this.base=d.Element.RenderedElementBase;this.base(m);this.baseClearContext=this.clearContext;this.clearContext=function(j){this.baseClearContext(j);d.ViewPort.RemoveCurrent()};this.baseSetContext=this.setContext;this.setContext=function(j){j.strokeStyle="rgba(0,0,0,0)";j.lineCap="butt";j.lineJoin="miter";j.miterLimit=4;this.baseSetContext(j);this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&j.translate(this.attribute("x").Length.toPixels("x"),this.attribute("y").Length.toPixels("y"));
var f=d.ViewPort.width(),r=d.ViewPort.height();if(typeof this.root=="undefined"&&this.attribute("width").hasValue()&&this.attribute("height").hasValue()){f=this.attribute("width").Length.toPixels("x");r=this.attribute("height").Length.toPixels("y");var l=0,q=0;if(this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()){l=-this.attribute("refX").Length.toPixels("x");q=-this.attribute("refY").Length.toPixels("y")}j.beginPath();j.moveTo(l,q);j.lineTo(f,q);j.lineTo(f,r);j.lineTo(l,r);j.closePath();
j.clip()}d.ViewPort.SetCurrent(f,r);if(this.attribute("viewBox").hasValue()){l=d.ToNumberArray(this.attribute("viewBox").value);q=l[0];var h=l[1];f=l[2];r=l[3];d.AspectRatio(j,this.attribute("preserveAspectRatio").value,d.ViewPort.width(),f,d.ViewPort.height(),r,q,h,this.attribute("refX").value,this.attribute("refY").value);d.ViewPort.RemoveCurrent();d.ViewPort.SetCurrent(l[2],l[3])}}};d.Element.svg.prototype=new d.Element.RenderedElementBase;d.Element.rect=function(m){this.base=d.Element.PathElementBase;
this.base(m);this.path=function(j){var f=this.attribute("x").Length.toPixels("x"),r=this.attribute("y").Length.toPixels("y"),l=this.attribute("width").Length.toPixels("x"),q=this.attribute("height").Length.toPixels("y"),h=this.attribute("rx").Length.toPixels("x"),w=this.attribute("ry").Length.toPixels("y");if(this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue())w=h;if(this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue())h=w;if(j!=null){j.beginPath();j.moveTo(f+h,r);j.lineTo(f+
l-h,r);j.quadraticCurveTo(f+l,r,f+l,r+w);j.lineTo(f+l,r+q-w);j.quadraticCurveTo(f+l,r+q,f+l-h,r+q);j.lineTo(f+h,r+q);j.quadraticCurveTo(f,r+q,f,r+q-w);j.lineTo(f,r+w);j.quadraticCurveTo(f,r,f+h,r);j.closePath()}return new d.BoundingBox(f,r,f+l,r+q)}};d.Element.rect.prototype=new d.Element.PathElementBase;d.Element.circle=function(m){this.base=d.Element.PathElementBase;this.base(m);this.path=function(j){var f=this.attribute("cx").Length.toPixels("x"),r=this.attribute("cy").Length.toPixels("y"),l=this.attribute("r").Length.toPixels();
if(j!=null){j.beginPath();j.arc(f,r,l,0,Math.PI*2,true);j.closePath()}return new d.BoundingBox(f-l,r-l,f+l,r+l)}};d.Element.circle.prototype=new d.Element.PathElementBase;d.Element.ellipse=function(m){this.base=d.Element.PathElementBase;this.base(m);this.path=function(j){var f=4*((Math.sqrt(2)-1)/3),r=this.attribute("rx").Length.toPixels("x"),l=this.attribute("ry").Length.toPixels("y"),q=this.attribute("cx").Length.toPixels("x"),h=this.attribute("cy").Length.toPixels("y");if(j!=null){j.beginPath();
j.moveTo(q,h-l);j.bezierCurveTo(q+f*r,h-l,q+r,h-f*l,q+r,h);j.bezierCurveTo(q+r,h+f*l,q+f*r,h+l,q,h+l);j.bezierCurveTo(q-f*r,h+l,q-r,h+f*l,q-r,h);j.bezierCurveTo(q-r,h-f*l,q-f*r,h-l,q,h-l);j.closePath()}return new d.BoundingBox(q-r,h-l,q+r,h+l)}};d.Element.ellipse.prototype=new d.Element.PathElementBase;d.Element.line=function(m){this.base=d.Element.PathElementBase;this.base(m);this.getPoints=function(){return[new d.Point(this.attribute("x1").Length.toPixels("x"),this.attribute("y1").Length.toPixels("y")),
new d.Point(this.attribute("x2").Length.toPixels("x"),this.attribute("y2").Length.toPixels("y"))]};this.path=function(j){var f=this.getPoints();if(j!=null){j.beginPath();j.moveTo(f[0].x,f[0].y);j.lineTo(f[1].x,f[1].y)}return new d.BoundingBox(f[0].x,f[0].y,f[1].x,f[1].y)};this.getMarkers=function(){var j=this.getPoints(),f=j[0].angleTo(j[1]);return[[j[0],f],[j[1],f]]}};d.Element.line.prototype=new d.Element.PathElementBase;d.Element.polyline=function(m){this.base=d.Element.PathElementBase;this.base(m);
this.points=d.CreatePath(this.attribute("points").value);this.path=function(j){var f=new d.BoundingBox(this.points[0].x,this.points[0].y);if(j!=null){j.beginPath();j.moveTo(this.points[0].x,this.points[0].y)}for(var r=1;r<this.points.length;r++){f.addPoint(this.points[r].x,this.points[r].y);j!=null&&j.lineTo(this.points[r].x,this.points[r].y)}return f};this.getMarkers=function(){for(var j=[],f=0;f<this.points.length-1;f++)j.push([this.points[f],this.points[f].angleTo(this.points[f+1])]);j.push([this.points[this.points.length-
1],j[j.length-1][1]]);return j}};d.Element.polyline.prototype=new d.Element.PathElementBase;d.Element.polygon=function(m){this.base=d.Element.polyline;this.base(m);this.basePath=this.path;this.path=function(j){var f=this.basePath(j);if(j!=null){j.lineTo(this.points[0].x,this.points[0].y);j.closePath()}return f}};d.Element.polygon.prototype=new d.Element.polyline;d.Element.path=function(m){this.base=d.Element.PathElementBase;this.base(m);m=this.attribute("d").value;m=m.replace(/,/gm," ");m=m.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,
"$1 $2");m=m.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2");m=m.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");m=m.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2");m=m.replace(/([0-9])([+\-])/gm,"$1 $2");m=m.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");m=m.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 ");m=d.compressSpaces(m);m=d.trim(m);this.PathParser=new function(j){this.tokens=j.split(" ");this.reset=function(){this.i=-1;this.previousCommand=this.command=
"";this.start=new d.Point(0,0);this.control=new d.Point(0,0);this.current=new d.Point(0,0);this.points=[];this.angles=[]};this.isEnd=function(){return this.i>=this.tokens.length-1};this.isCommandOrEnd=function(){if(this.isEnd())return true;return this.tokens[this.i+1].match(/^[A-Za-z]$/)!=null};this.isRelativeCommand=function(){return this.command==this.command.toLowerCase()};this.getToken=function(){this.i+=1;return this.tokens[this.i]};this.getScalar=function(){return parseFloat(this.getToken())};
this.nextCommand=function(){this.previousCommand=this.command;this.command=this.getToken()};this.getPoint=function(){return this.makeAbsolute(new d.Point(this.getScalar(),this.getScalar()))};this.getAsControlPoint=function(){var f=this.getPoint();return this.control=f};this.getAsCurrentPoint=function(){var f=this.getPoint();return this.current=f};this.getReflectedControlPoint=function(){if(this.previousCommand.toLowerCase()!="c"&&this.previousCommand.toLowerCase()!="s")return this.current;return new d.Point(2*
this.current.x-this.control.x,2*this.current.y-this.control.y)};this.makeAbsolute=function(f){if(this.isRelativeCommand()){f.x=this.current.x+f.x;f.y=this.current.y+f.y}return f};this.addMarker=function(f,r,l){if(l!=null&&this.angles.length>0&&this.angles[this.angles.length-1]==null)this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(l);this.addMarkerAngle(f,r==null?null:r.angleTo(f))};this.addMarkerAngle=function(f,r){this.points.push(f);this.angles.push(r)};this.getMarkerPoints=
function(){return this.points};this.getMarkerAngles=function(){for(var f=0;f<this.angles.length;f++)if(this.angles[f]==null)for(var r=f+1;r<this.angles.length;r++)if(this.angles[r]!=null){this.angles[f]=this.angles[r];break}return this.angles}}(m);this.path=function(j){var f=this.PathParser;f.reset();var r=new d.BoundingBox;for(j!=null&&j.beginPath();!f.isEnd();){f.nextCommand();switch(f.command.toUpperCase()){case "M":var l=f.getAsCurrentPoint();f.addMarker(l);r.addPoint(l.x,l.y);j!=null&&j.moveTo(l.x,
l.y);for(f.start=f.current;!f.isCommandOrEnd();){l=f.getAsCurrentPoint();f.addMarker(l,f.start);r.addPoint(l.x,l.y);j!=null&&j.lineTo(l.x,l.y)}break;case "L":for(;!f.isCommandOrEnd();){var q=f.current;l=f.getAsCurrentPoint();f.addMarker(l,q);r.addPoint(l.x,l.y);j!=null&&j.lineTo(l.x,l.y)}break;case "H":for(;!f.isCommandOrEnd();){l=new d.Point((f.isRelativeCommand()?f.current.x:0)+f.getScalar(),f.current.y);f.addMarker(l,f.current);f.current=l;r.addPoint(f.current.x,f.current.y);j!=null&&j.lineTo(f.current.x,
f.current.y)}break;case "V":for(;!f.isCommandOrEnd();){l=new d.Point(f.current.x,(f.isRelativeCommand()?f.current.y:0)+f.getScalar());f.addMarker(l,f.current);f.current=l;r.addPoint(f.current.x,f.current.y);j!=null&&j.lineTo(f.current.x,f.current.y)}break;case "C":for(;!f.isCommandOrEnd();){var h=f.current;q=f.getPoint();var w=f.getAsControlPoint();l=f.getAsCurrentPoint();f.addMarker(l,w,q);r.addBezierCurve(h.x,h.y,q.x,q.y,w.x,w.y,l.x,l.y);j!=null&&j.bezierCurveTo(q.x,q.y,w.x,w.y,l.x,l.y)}break;case "S":for(;!f.isCommandOrEnd();){h=
f.current;q=f.getReflectedControlPoint();w=f.getAsControlPoint();l=f.getAsCurrentPoint();f.addMarker(l,w,q);r.addBezierCurve(h.x,h.y,q.x,q.y,w.x,w.y,l.x,l.y);j!=null&&j.bezierCurveTo(q.x,q.y,w.x,w.y,l.x,l.y)}break;case "Q":for(;!f.isCommandOrEnd();){h=f.current;w=f.getAsControlPoint();l=f.getAsCurrentPoint();f.addMarker(l,w,w);r.addQuadraticCurve(h.x,h.y,w.x,w.y,l.x,l.y);j!=null&&j.quadraticCurveTo(w.x,w.y,l.x,l.y)}break;case "T":for(;!f.isCommandOrEnd();){h=f.current;w=f.getReflectedControlPoint();
f.control=w;l=f.getAsCurrentPoint();f.addMarker(l,w,w);r.addQuadraticCurve(h.x,h.y,w.x,w.y,l.x,l.y);j!=null&&j.quadraticCurveTo(w.x,w.y,l.x,l.y)}break;case "A":for(;!f.isCommandOrEnd();){h=f.current;var D=f.getScalar(),G=f.getScalar();q=f.getScalar()*(Math.PI/180);var x=f.getScalar();w=f.getScalar();l=f.getAsCurrentPoint();var M=new d.Point(Math.cos(q)*(h.x-l.x)/2+Math.sin(q)*(h.y-l.y)/2,-Math.sin(q)*(h.x-l.x)/2+Math.cos(q)*(h.y-l.y)/2),F=Math.pow(M.x,2)/Math.pow(D,2)+Math.pow(M.y,2)/Math.pow(G,2);
if(F>1){D*=Math.sqrt(F);G*=Math.sqrt(F)}x=(x==w?-1:1)*Math.sqrt((Math.pow(D,2)*Math.pow(G,2)-Math.pow(D,2)*Math.pow(M.y,2)-Math.pow(G,2)*Math.pow(M.x,2))/(Math.pow(D,2)*Math.pow(M.y,2)+Math.pow(G,2)*Math.pow(M.x,2)));if(isNaN(x))x=0;var U=new d.Point(x*D*M.y/G,x*-G*M.x/D);h=new d.Point((h.x+l.x)/2+Math.cos(q)*U.x-Math.sin(q)*U.y,(h.y+l.y)/2+Math.sin(q)*U.x+Math.cos(q)*U.y);var Z=function(V,ia){return(V[0]*ia[0]+V[1]*ia[1])/(Math.sqrt(Math.pow(V[0],2)+Math.pow(V[1],2))*Math.sqrt(Math.pow(ia[0],2)+
Math.pow(ia[1],2)))},aa=function(V,ia){return(V[0]*ia[1]<V[1]*ia[0]?-1:1)*Math.acos(Z(V,ia))};x=aa([1,0],[(M.x-U.x)/D,(M.y-U.y)/G]);F=[(M.x-U.x)/D,(M.y-U.y)/G];U=[(-M.x-U.x)/D,(-M.y-U.y)/G];M=aa(F,U);if(Z(F,U)<=-1)M=Math.PI;if(Z(F,U)>=1)M=0;if(w==0&&M>0)M-=2*Math.PI;if(w==1&&M<0)M+=2*Math.PI;F=new d.Point(h.x-D*Math.cos((x+M)/2),h.y-G*Math.sin((x+M)/2));f.addMarkerAngle(F,(x+M)/2+(w==0?1:-1)*Math.PI/2);f.addMarkerAngle(l,M+(w==0?1:-1)*Math.PI/2);r.addPoint(l.x,l.y);if(j!=null){Z=D>G?D:G;l=D>G?1:D/
G;D=D>G?G/D:1;j.translate(h.x,h.y);j.rotate(q);j.scale(l,D);j.arc(0,0,Z,x,x+M,1-w);j.scale(1/l,1/D);j.rotate(-q);j.translate(-h.x,-h.y)}}break;case "Z":j!=null&&j.closePath();f.current=f.start}}return r};this.getMarkers=function(){for(var j=this.PathParser.getMarkerPoints(),f=this.PathParser.getMarkerAngles(),r=[],l=0;l<j.length;l++)r.push([j[l],f[l]]);return r}};d.Element.path.prototype=new d.Element.PathElementBase;d.Element.pattern=function(m){this.base=d.Element.ElementBase;this.base(m);this.createPattern=
function(j){var f=new d.Element.svg;f.attributes.viewBox=new d.Property("viewBox",this.attribute("viewBox").value);f.attributes.x=new d.Property("x",this.attribute("x").value);f.attributes.y=new d.Property("y",this.attribute("y").value);f.attributes.width=new d.Property("width",this.attribute("width").value);f.attributes.height=new d.Property("height",this.attribute("height").value);f.children=this.children;var r=document.createElement("canvas");r.width=this.attribute("width").Length.toPixels("x");
r.height=this.attribute("height").Length.toPixels("y");f.render(r.getContext("2d"));return j.createPattern(r,"repeat")}};d.Element.pattern.prototype=new d.Element.ElementBase;d.Element.marker=function(m){this.base=d.Element.ElementBase;this.base(m);this.baseRender=this.render;this.render=function(j,f,r){j.translate(f.x,f.y);this.attribute("orient").valueOrDefault("auto")=="auto"&&j.rotate(r);this.attribute("markerUnits").valueOrDefault("strokeWidth")=="strokeWidth"&&j.scale(j.lineWidth,j.lineWidth);
j.save();var l=new d.Element.svg;l.attributes.viewBox=new d.Property("viewBox",this.attribute("viewBox").value);l.attributes.refX=new d.Property("refX",this.attribute("refX").value);l.attributes.refY=new d.Property("refY",this.attribute("refY").value);l.attributes.width=new d.Property("width",this.attribute("markerWidth").value);l.attributes.height=new d.Property("height",this.attribute("markerHeight").value);l.attributes.fill=new d.Property("fill",this.attribute("fill").valueOrDefault("black"));
l.attributes.stroke=new d.Property("stroke",this.attribute("stroke").valueOrDefault("none"));l.children=this.children;l.render(j);j.restore();this.attribute("markerUnits").valueOrDefault("strokeWidth")=="strokeWidth"&&j.scale(1/j.lineWidth,1/j.lineWidth);this.attribute("orient").valueOrDefault("auto")=="auto"&&j.rotate(-r);j.translate(-f.x,-f.y)}};d.Element.marker.prototype=new d.Element.ElementBase;d.Element.defs=function(m){this.base=d.Element.ElementBase;this.base(m);this.render=function(){}};
d.Element.defs.prototype=new d.Element.ElementBase;d.Element.GradientBase=function(m){this.base=d.Element.ElementBase;this.base(m);this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox");this.stops=[];for(m=0;m<this.children.length;m++)this.stops.push(this.children[m]);this.getGradient=function(){};this.createGradient=function(j,f){var r=this;if(this.attribute("xlink:href").hasValue())r=this.attribute("xlink:href").Definition.getDefinition();for(var l=this.getGradient(j,
f),q=0;q<r.stops.length;q++)l.addColorStop(r.stops[q].offset,r.stops[q].color);if(this.attribute("gradientTransform").hasValue()){r=d.ViewPort.viewPorts[0];q=new d.Element.rect;q.attributes.x=new d.Property("x",-d.MAX_VIRTUAL_PIXELS/3);q.attributes.y=new d.Property("y",-d.MAX_VIRTUAL_PIXELS/3);q.attributes.width=new d.Property("width",d.MAX_VIRTUAL_PIXELS);q.attributes.height=new d.Property("height",d.MAX_VIRTUAL_PIXELS);var h=new d.Element.g;h.attributes.transform=new d.Property("transform",this.attribute("gradientTransform").value);
h.children=[q];q=new d.Element.svg;q.attributes.x=new d.Property("x",0);q.attributes.y=new d.Property("y",0);q.attributes.width=new d.Property("width",r.width);q.attributes.height=new d.Property("height",r.height);q.children=[h];h=document.createElement("canvas");h.width=r.width;h.height=r.height;r=h.getContext("2d");r.fillStyle=l;q.render(r);return r.createPattern(h,"no-repeat")}return l}};d.Element.GradientBase.prototype=new d.Element.ElementBase;d.Element.linearGradient=function(m){this.base=d.Element.GradientBase;
this.base(m);this.getGradient=function(j,f){var r=f.getBoundingBox(),l=this.gradientUnits=="objectBoundingBox"?r.x()+r.width()*this.attribute("x1").numValue():this.attribute("x1").Length.toPixels("x"),q=this.gradientUnits=="objectBoundingBox"?r.y()+r.height()*this.attribute("y1").numValue():this.attribute("y1").Length.toPixels("y"),h=this.gradientUnits=="objectBoundingBox"?r.x()+r.width()*this.attribute("x2").numValue():this.attribute("x2").Length.toPixels("x");r=this.gradientUnits=="objectBoundingBox"?
r.y()+r.height()*this.attribute("y2").numValue():this.attribute("y2").Length.toPixels("y");return j.createLinearGradient(l,q,h,r)}};d.Element.linearGradient.prototype=new d.Element.GradientBase;d.Element.radialGradient=function(m){this.base=d.Element.GradientBase;this.base(m);this.getGradient=function(j,f){var r=f.getBoundingBox(),l=this.gradientUnits=="objectBoundingBox"?r.x()+r.width()*this.attribute("cx").numValue():this.attribute("cx").Length.toPixels("x"),q=this.gradientUnits=="objectBoundingBox"?
r.y()+r.height()*this.attribute("cy").numValue():this.attribute("cy").Length.toPixels("y"),h=l,w=q;if(this.attribute("fx").hasValue())h=this.gradientUnits=="objectBoundingBox"?r.x()+r.width()*this.attribute("fx").numValue():this.attribute("fx").Length.toPixels("x");if(this.attribute("fy").hasValue())w=this.gradientUnits=="objectBoundingBox"?r.y()+r.height()*this.attribute("fy").numValue():this.attribute("fy").Length.toPixels("y");r=this.gradientUnits=="objectBoundingBox"?(r.width()+r.height())/2*
this.attribute("r").numValue():this.attribute("r").Length.toPixels();return j.createRadialGradient(h,w,0,l,q,r)}};d.Element.radialGradient.prototype=new d.Element.GradientBase;d.Element.stop=function(m){this.base=d.Element.ElementBase;this.base(m);this.offset=this.attribute("offset").numValue();m=this.style("stop-color");if(this.style("stop-opacity").hasValue())m=m.Color.addOpacity(this.style("stop-opacity").value);this.color=m.value};d.Element.stop.prototype=new d.Element.ElementBase;d.Element.AnimateBase=
function(m){this.base=d.Element.ElementBase;this.base(m);d.Animations.push(this);this.duration=0;this.begin=this.attribute("begin").Time.toMilliseconds();this.maxDuration=this.begin+this.attribute("dur").Time.toMilliseconds();this.getProperty=function(){var j=this.attribute("attributeType").value,f=this.attribute("attributeName").value;if(j=="CSS")return this.parent.style(f,true);return this.parent.attribute(f,true)};this.initialValue=null;this.removed=false;this.calcValue=function(){return""};this.update=
function(j){if(this.initialValue==null)this.initialValue=this.getProperty().value;if(this.duration>this.maxDuration)if(this.attribute("repeatCount").value=="indefinite")this.duration=0;else if(this.attribute("fill").valueOrDefault("remove")=="remove"&&!this.removed){this.removed=true;this.getProperty().value=this.initialValue;return true}else return false;this.duration+=j;j=false;if(this.begin<this.duration){j=this.calcValue();if(this.attribute("type").hasValue())j=this.attribute("type").value+"("+
j+")";this.getProperty().value=j;j=true}return j};this.progress=function(){return(this.duration-this.begin)/(this.maxDuration-this.begin)}};d.Element.AnimateBase.prototype=new d.Element.ElementBase;d.Element.animate=function(m){this.base=d.Element.AnimateBase;this.base(m);this.calcValue=function(){var j=this.attribute("from").numValue(),f=this.attribute("to").numValue();return j+(f-j)*this.progress()}};d.Element.animate.prototype=new d.Element.AnimateBase;d.Element.animateColor=function(m){this.base=
d.Element.AnimateBase;this.base(m);this.calcValue=function(){var j=new RGBColor(this.attribute("from").value),f=new RGBColor(this.attribute("to").value);if(j.ok&&f.ok){var r=j.r+(f.r-j.r)*this.progress(),l=j.g+(f.g-j.g)*this.progress();j=j.b+(f.b-j.b)*this.progress();return"rgb("+parseInt(r,10)+","+parseInt(l,10)+","+parseInt(j,10)+")"}return this.attribute("from").value}};d.Element.animateColor.prototype=new d.Element.AnimateBase;d.Element.animateTransform=function(m){this.base=d.Element.animate;
this.base(m)};d.Element.animateTransform.prototype=new d.Element.animate;d.Element.font=function(m){this.base=d.Element.ElementBase;this.base(m);this.horizAdvX=this.attribute("horiz-adv-x").numValue();this.isArabic=this.isRTL=false;this.missingGlyph=this.fontFace=null;this.glyphs=[];for(m=0;m<this.children.length;m++){var j=this.children[m];if(j.type=="font-face"){this.fontFace=j;if(j.style("font-family").hasValue())d.Definitions[j.style("font-family").value]=this}else if(j.type=="missing-glyph")this.missingGlyph=
j;else if(j.type=="glyph")if(j.arabicForm!=""){this.isArabic=this.isRTL=true;if(typeof this.glyphs[j.unicode]=="undefined")this.glyphs[j.unicode]=[];this.glyphs[j.unicode][j.arabicForm]=j}else this.glyphs[j.unicode]=j}};d.Element.font.prototype=new d.Element.ElementBase;d.Element.fontface=function(m){this.base=d.Element.ElementBase;this.base(m);this.ascent=this.attribute("ascent").value;this.descent=this.attribute("descent").value;this.unitsPerEm=this.attribute("units-per-em").numValue()};d.Element.fontface.prototype=
new d.Element.ElementBase;d.Element.missingglyph=function(m){this.base=d.Element.path;this.base(m);this.horizAdvX=0};d.Element.missingglyph.prototype=new d.Element.path;d.Element.glyph=function(m){this.base=d.Element.path;this.base(m);this.horizAdvX=this.attribute("horiz-adv-x").numValue();this.unicode=this.attribute("unicode").value;this.arabicForm=this.attribute("arabic-form").value};d.Element.glyph.prototype=new d.Element.path;d.Element.text=function(m){this.base=d.Element.RenderedElementBase;
this.base(m);if(m!=null){this.children=[];for(var j=0;j<m.childNodes.length;j++){var f=m.childNodes[j];if(f.nodeType==1)this.addChild(f,true);else f.nodeType==3&&this.addChild(new d.Element.tspan(f),false)}}this.baseSetContext=this.setContext;this.setContext=function(r){this.baseSetContext(r);if(this.style("dominant-baseline").hasValue())r.textBaseline=this.style("dominant-baseline").value;if(this.style("alignment-baseline").hasValue())r.textBaseline=this.style("alignment-baseline").value};this.renderChildren=
function(r){for(var l=this.style("text-anchor").valueOrDefault("start"),q=this.attribute("x").Length.toPixels("x"),h=this.attribute("y").Length.toPixels("y"),w=0;w<this.children.length;w++){var D=this.children[w];if(D.attribute("x").hasValue())D.x=D.attribute("x").Length.toPixels("x");else{if(D.attribute("dx").hasValue())q+=D.attribute("dx").Length.toPixels("x");D.x=q}q=D.measureText(r);if(l!="start"&&(w==0||D.attribute("x").hasValue())){for(var G=q,x=w+1;x<this.children.length;x++){var M=this.children[x];
if(M.attribute("x").hasValue())break;G+=M.measureText(r)}D.x-=l=="end"?G:G/2}q=D.x+q;if(D.attribute("y").hasValue())D.y=D.attribute("y").Length.toPixels("y");else{if(D.attribute("dy").hasValue())h+=D.attribute("dy").Length.toPixels("y");D.y=h}h=D.y;D.render(r)}}};d.Element.text.prototype=new d.Element.RenderedElementBase;d.Element.TextElementBase=function(m){this.base=d.Element.RenderedElementBase;this.base(m);this.getGlyph=function(j,f,r){var l=f[r],q=null;if(j.isArabic){var h="isolated";if((r==
0||f[r-1]==" ")&&r<f.length-2&&f[r+1]!=" ")h="terminal";if(r>0&&f[r-1]!=" "&&r<f.length-2&&f[r+1]!=" ")h="medial";if(r>0&&f[r-1]!=" "&&(r==f.length-1||f[r+1]==" "))h="initial";if(typeof j.glyphs[l]!="undefined"){q=j.glyphs[l][h];if(q==null&&j.glyphs[l].type=="glyph")q=j.glyphs[l]}}else q=j.glyphs[l];if(q==null)q=j.missingGlyph;return q};this.renderChildren=function(j){var f=this.parent.style("font-family").Definition.getDefinition();if(f!=null){var r=this.parent.style("font-size").numValueOrDefault(d.Font.Parse(d.ctx.font).fontSize),
l=this.parent.style("font-style").valueOrDefault(d.Font.Parse(d.ctx.font).fontStyle),q=this.getText();if(f.isRTL)q=q.split("").reverse().join("");for(var h=d.ToNumberArray(this.parent.attribute("dx").value),w=0;w<q.length;w++){var D=this.getGlyph(f,q,w),G=r/f.fontFace.unitsPerEm;j.translate(this.x,this.y);j.scale(G,-G);var x=j.lineWidth;j.lineWidth=j.lineWidth*f.fontFace.unitsPerEm/r;l=="italic"&&j.transform(1,0,0.4,1,0,0);D.render(j);l=="italic"&&j.transform(1,0,-0.4,1,0,0);j.lineWidth=x;j.scale(1/
G,-1/G);j.translate(-this.x,-this.y);this.x+=r*(D.horizAdvX||f.horizAdvX)/f.fontFace.unitsPerEm;if(typeof h[w]!="undefined"&&!isNaN(h[w]))this.x+=h[w]}}else{j.strokeStyle!=""&&j.strokeText(d.compressSpaces(this.getText()),this.x,this.y);j.fillStyle!=""&&j.fillText(d.compressSpaces(this.getText()),this.x,this.y)}};this.getText=function(){};this.measureText=function(j){var f=this.parent.style("font-family").Definition.getDefinition();if(f!=null){j=this.parent.style("font-size").numValueOrDefault(d.Font.Parse(d.ctx.font).fontSize);
var r=0,l=this.getText();if(f.isRTL)l=l.split("").reverse().join("");for(var q=d.ToNumberArray(this.parent.attribute("dx").value),h=0;h<l.length;h++){var w=this.getGlyph(f,l,h);r+=(w.horizAdvX||f.horizAdvX)*j/f.fontFace.unitsPerEm;if(typeof q[h]!="undefined"&&!isNaN(q[h]))r+=q[h]}return r}f=d.compressSpaces(this.getText());if(!j.measureText)return f.length*10;j.save();this.setContext(j);f=j.measureText(f).width;j.restore();return f}};d.Element.TextElementBase.prototype=new d.Element.RenderedElementBase;
d.Element.tspan=function(m){this.base=d.Element.TextElementBase;this.base(m);this.text=m.nodeType==3?m.nodeValue:m.childNodes.length>0?m.childNodes[0].nodeValue:m.text;this.getText=function(){return this.text}};d.Element.tspan.prototype=new d.Element.TextElementBase;d.Element.tref=function(m){this.base=d.Element.TextElementBase;this.base(m);this.getText=function(){var j=this.attribute("xlink:href").Definition.getDefinition();if(j!=null)return j.children[0].getText()}};d.Element.tref.prototype=new d.Element.TextElementBase;
d.Element.a=function(m){this.base=d.Element.TextElementBase;this.base(m);this.hasText=true;for(var j=0;j<m.childNodes.length;j++)if(m.childNodes[j].nodeType!=3)this.hasText=false;this.text=this.hasText?m.childNodes[0].nodeValue:"";this.getText=function(){return this.text};this.baseRenderChildren=this.renderChildren;this.renderChildren=function(f){if(this.hasText){this.baseRenderChildren(f);var r=new d.Property("fontSize",d.Font.Parse(d.ctx.font).fontSize);d.Mouse.checkBoundingBox(this,new d.BoundingBox(this.x,
this.y-r.Length.toPixels("y"),this.x+this.measureText(f),this.y))}else{r=new d.Element.g;r.children=this.children;r.parent=this;r.render(f)}};this.onclick=function(){window.open(this.attribute("xlink:href").value)};this.onmousemove=function(){d.ctx.canvas.style.cursor="pointer"}};d.Element.a.prototype=new d.Element.TextElementBase;d.Element.image=function(m){this.base=d.Element.RenderedElementBase;this.base(m);d.Images.push(this);this.img=document.createElement("img");this.loaded=false;var j=this;
this.img.onload=function(){j.loaded=true};this.img.src=this.attribute("xlink:href").value;this.renderChildren=function(f){var r=this.attribute("x").Length.toPixels("x"),l=this.attribute("y").Length.toPixels("y"),q=this.attribute("width").Length.toPixels("x"),h=this.attribute("height").Length.toPixels("y");if(!(q==0||h==0)){f.save();f.translate(r,l);d.AspectRatio(f,this.attribute("preserveAspectRatio").value,q,this.img.width,h,this.img.height,0,0);f.drawImage(this.img,0,0);f.restore()}}};d.Element.image.prototype=
new d.Element.RenderedElementBase;d.Element.g=function(m){this.base=d.Element.RenderedElementBase;this.base(m);this.getBoundingBox=function(){for(var j=new d.BoundingBox,f=0;f<this.children.length;f++)j.addBoundingBox(this.children[f].getBoundingBox());return j}};d.Element.g.prototype=new d.Element.RenderedElementBase;d.Element.symbol=function(m){this.base=d.Element.RenderedElementBase;this.base(m);this.baseSetContext=this.setContext;this.setContext=function(j){this.baseSetContext(j);if(this.attribute("viewBox").hasValue()){var f=
d.ToNumberArray(this.attribute("viewBox").value),r=f[0],l=f[1];width=f[2];height=f[3];d.AspectRatio(j,this.attribute("preserveAspectRatio").value,this.attribute("width").Length.toPixels("x"),width,this.attribute("height").Length.toPixels("y"),height,r,l);d.ViewPort.SetCurrent(f[2],f[3])}}};d.Element.symbol.prototype=new d.Element.RenderedElementBase;d.Element.style=function(m){this.base=d.Element.ElementBase;this.base(m);m=m.childNodes[0].nodeValue+(m.childNodes.length>1?m.childNodes[1].nodeValue:
"");m=m.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"");m=d.compressSpaces(m);m=m.split("}");for(var j=0;j<m.length;j++)if(d.trim(m[j])!=""){var f=m[j].split("{"),r=f[0].split(",");f=f[1].split(";");for(var l=0;l<r.length;l++){var q=d.trim(r[l]);if(q!=""){for(var h={},w=0;w<f.length;w++){var D=f[w].indexOf(":"),G=f[w].substr(0,D);D=f[w].substr(D+1,f[w].length-D);if(G!=null&&D!=null)h[d.trim(G)]=new d.Property(d.trim(G),d.trim(D))}d.Styles[q]=h;if(q=="@font-face"){q=h["font-family"].value.replace(/"/g,
"");h=h.src.value.split(",");for(w=0;w<h.length;w++)if(h[w].indexOf('format("svg")')>0){G=h[w].indexOf("url");D=h[w].indexOf(")",G);G=h[w].substr(G+5,D-G-6);G=d.parseXml(d.ajax(G)).getElementsByTagName("font");for(D=0;D<G.length;D++){var x=d.CreateElement(G[D]);d.Definitions[q]=x}}}}}}};d.Element.style.prototype=new d.Element.ElementBase;d.Element.use=function(m){this.base=d.Element.RenderedElementBase;this.base(m);this.baseSetContext=this.setContext;this.setContext=function(j){this.baseSetContext(j);
this.attribute("x").hasValue()&&j.translate(this.attribute("x").Length.toPixels("x"),0);this.attribute("y").hasValue()&&j.translate(0,this.attribute("y").Length.toPixels("y"))};this.getDefinition=function(){var j=this.attribute("xlink:href").Definition.getDefinition();if(this.attribute("width").hasValue())j.attribute("width",true).value=this.attribute("width").value;if(this.attribute("height").hasValue())j.attribute("height",true).value=this.attribute("height").value;return j};this.path=function(j){var f=
this.getDefinition();f!=null&&f.path(j)};this.renderChildren=function(j){var f=this.getDefinition();f!=null&&f.render(j)}};d.Element.use.prototype=new d.Element.RenderedElementBase;d.Element.mask=function(m){this.base=d.Element.ElementBase;this.base(m);this.apply=function(j,f){var r=this.attribute("x").Length.toPixels("x"),l=this.attribute("y").Length.toPixels("y"),q=this.attribute("width").Length.toPixels("x"),h=this.attribute("height").Length.toPixels("y"),w=f.attribute("mask").value;f.attribute("mask").value=
"";var D=document.createElement("canvas");D.width=r+q;D.height=l+h;var G=D.getContext("2d");this.renderChildren(G);var x=document.createElement("canvas");x.width=r+q;x.height=l+h;var M=x.getContext("2d");f.render(M);M.globalCompositeOperation="destination-in";M.fillStyle=G.createPattern(D,"no-repeat");M.fillRect(0,0,r+q,l+h);j.fillStyle=M.createPattern(x,"no-repeat");j.fillRect(0,0,r+q,l+h);f.attribute("mask").value=w};this.render=function(){}};d.Element.mask.prototype=new d.Element.ElementBase;d.Element.clipPath=
function(m){this.base=d.Element.ElementBase;this.base(m);this.apply=function(j){for(var f=0;f<this.children.length;f++)if(this.children[f].path){this.children[f].path(j);j.clip()}};this.render=function(){}};d.Element.clipPath.prototype=new d.Element.ElementBase;d.Element.filter=function(m){this.base=d.Element.ElementBase;this.base(m);this.apply=function(j,f){var r=f.getBoundingBox(),l=this.attribute("x").Length.toPixels("x"),q=this.attribute("y").Length.toPixels("y");if(l==0||q==0){l=r.x1;q=r.y1}var h=
this.attribute("width").Length.toPixels("x"),w=this.attribute("height").Length.toPixels("y");if(h==0||w==0){h=r.width();w=r.height()}r=f.style("filter").value;f.style("filter").value="";var D=0.2*h,G=0.2*w,x=document.createElement("canvas");x.width=h+2*D;x.height=w+2*G;var M=x.getContext("2d");M.translate(-l+D,-q+G);f.render(M);for(var F=0;F<this.children.length;F++)this.children[F].apply(M,0,0,h+2*D,w+2*G);j.drawImage(x,0,0,h+2*D,w+2*G,l-D,q-G,h+2*D,w+2*G);f.style("filter",true).value=r};this.render=
function(){}};d.Element.filter.prototype=new d.Element.ElementBase;d.Element.feGaussianBlur=function(m){function j(f,r,l,q,h){for(var w=0;w<h;w++)for(var D=0;D<q;D++)for(var G=f[w*q*4+D*4+3]/255,x=0;x<4;x++){for(var M=l[0]*(G==0?255:f[w*q*4+D*4+x])*(G==0||x==3?1:G),F=1;F<l.length;F++){var U=f[w*q*4+Math.max(D-F,0)*4+3]/255,Z=f[w*q*4+Math.min(D+F,q-1)*4+3]/255;M+=l[F]*((U==0?255:f[w*q*4+Math.max(D-F,0)*4+x])*(U==0||x==3?1:U)+(Z==0?255:f[w*q*4+Math.min(D+F,q-1)*4+x])*(Z==0||x==3?1:Z))}r[D*h*4+w*4+x]=
M}}this.base=d.Element.ElementBase;this.base(m);this.apply=function(f,r,l,q,h){l=this.attribute("stdDeviation").numValue();r=f.getImageData(0,0,q,h);l=l;l=Math.max(l,0.01);var w=Math.ceil(l*4)+1;mask=[];for(var D=0;D<w;D++)mask[D]=Math.exp(-0.5*(D/l)*(D/l));l=l=mask;w=0;for(D=1;D<l.length;D++)w+=Math.abs(l[D]);w=2*w+Math.abs(l[0]);for(D=0;D<l.length;D++)l[D]/=w;l=l;tmp=[];j(r.data,tmp,l,q,h);j(tmp,r.data,l,h,q);f.clearRect(0,0,q,h);f.putImageData(r,0,0)}};d.Element.filter.prototype=new d.Element.feGaussianBlur;
d.Element.title=function(){};d.Element.title.prototype=new d.Element.ElementBase;d.Element.desc=function(){};d.Element.desc.prototype=new d.Element.ElementBase;d.Element.MISSING=function(m){console.log("ERROR: Element '"+m.nodeName+"' not yet implemented.")};d.Element.MISSING.prototype=new d.Element.ElementBase;d.CreateElement=function(m){var j=m.nodeName.replace(/^[^:]+:/,"");j=j.replace(/\-/g,"");var f=null;f=typeof d.Element[j]!="undefined"?new d.Element[j](m):new d.Element.MISSING(m);f.type=m.nodeName;
return f};d.load=function(m,j){d.loadXml(m,d.ajax(j))};d.loadXml=function(m,j){d.loadXmlDoc(m,d.parseXml(j))};d.loadXmlDoc=function(m,j){d.init(m);var f=function(w){for(var D=m.canvas;D;){w.x-=D.offsetLeft;w.y-=D.offsetTop;D=D.offsetParent}if(window.scrollX)w.x+=window.scrollX;if(window.scrollY)w.y+=window.scrollY;return w};if(d.opts.ignoreMouse!=true){m.canvas.onclick=function(w){w=f(new d.Point(w!=null?w.clientX:event.clientX,w!=null?w.clientY:event.clientY));d.Mouse.onclick(w.x,w.y)};m.canvas.onmousemove=
function(w){w=f(new d.Point(w!=null?w.clientX:event.clientX,w!=null?w.clientY:event.clientY));d.Mouse.onmousemove(w.x,w.y)}}var r=d.CreateElement(j.documentElement);var l=r.root=true,q=function(){d.ViewPort.Clear();m.canvas.parentNode&&d.ViewPort.SetCurrent(m.canvas.parentNode.clientWidth,m.canvas.parentNode.clientHeight);if(d.opts.ignoreDimensions!=true){if(r.style("width").hasValue()){m.canvas.width=r.style("width").Length.toPixels("x");m.canvas.style.width=m.canvas.width+"px"}if(r.style("height").hasValue()){m.canvas.height=
r.style("height").Length.toPixels("y");m.canvas.style.height=m.canvas.height+"px"}}var w=m.canvas.clientWidth||m.canvas.width,D=m.canvas.clientHeight||m.canvas.height;d.ViewPort.SetCurrent(w,D);if(d.opts!=null&&d.opts.offsetX!=null)r.attribute("x",true).value=d.opts.offsetX;if(d.opts!=null&&d.opts.offsetY!=null)r.attribute("y",true).value=d.opts.offsetY;if(d.opts!=null&&d.opts.scaleWidth!=null&&d.opts.scaleHeight!=null){var G=1,x=1;if(r.attribute("width").hasValue())G=r.attribute("width").Length.toPixels("x")/
d.opts.scaleWidth;if(r.attribute("height").hasValue())x=r.attribute("height").Length.toPixels("y")/d.opts.scaleHeight;r.attribute("width",true).value=d.opts.scaleWidth;r.attribute("height",true).value=d.opts.scaleHeight;r.attribute("viewBox",true).value="0 0 "+w*G+" "+D*x;r.attribute("preserveAspectRatio",true).value="none"}d.opts.ignoreClear!=true&&m.clearRect(0,0,w,D);r.render(m);if(l){l=false;d.opts!=null&&typeof d.opts.renderCallback=="function"&&d.opts.renderCallback()}},h=true;if(d.ImagesLoaded()){h=
false;q()}d.intervalID=setInterval(function(){var w=false;if(h&&d.ImagesLoaded()){h=false;w=true}if(d.opts.ignoreMouse!=true)w|=d.Mouse.hasEvents();if(d.opts.ignoreAnimation!=true)for(var D=0;D<d.Animations.length;D++)w|=d.Animations[D].update(1E3/d.FRAMERATE);if(d.opts!=null&&typeof d.opts.forceRedraw=="function")if(d.opts.forceRedraw()==true)w=true;if(w){q();d.Mouse.runEvents()}},1E3/d.FRAMERATE)};d.stop=function(){d.intervalID&&clearInterval(d.intervalID)};d.Mouse=new function(){this.events=[];
this.hasEvents=function(){return this.events.length!=0};this.onclick=function(m,j){this.events.push({type:"onclick",x:m,y:j,run:function(f){f.onclick&&f.onclick()}})};this.onmousemove=function(m,j){this.events.push({type:"onmousemove",x:m,y:j,run:function(f){f.onmousemove&&f.onmousemove()}})};this.eventElements=[];this.checkPath=function(m,j){for(var f=0;f<this.events.length;f++){var r=this.events[f];if(j.isPointInPath&&j.isPointInPath(r.x,r.y))this.eventElements[f]=m}};this.checkBoundingBox=function(m,
j){for(var f=0;f<this.events.length;f++){var r=this.events[f];if(j.isPointInBox(r.x,r.y))this.eventElements[f]=m}};this.runEvents=function(){d.ctx.canvas.style.cursor="";for(var m=0;m<this.events.length;m++)for(var j=this.events[m],f=this.eventElements[m];f;){j.run(f);f=f.parent}this.events=[];this.eventElements=[]}};return d}this.canvg=function(d,m,j){if(d==null&&m==null&&j==null){m=document.getElementsByTagName("svg");for(var f=0;f<m.length;f++){d=m[f];j=document.createElement("canvas");j.width=
d.clientWidth;j.height=d.clientHeight;d.parentNode.insertBefore(j,d);d.parentNode.removeChild(d);var r=document.createElement("div");r.appendChild(d);canvg(j,r.innerHTML)}}else{j=j||{};if(typeof d=="string")d=document.getElementById(d);if(d.svg==null){f=v();d.svg=f}else{f=d.svg;f.stop()}f.opts=j;d=d.getContext("2d");if(typeof m.documentElement!="undefined")f.loadXmlDoc(d,m);else m.substr(0,1)=="<"?f.loadXml(d,m):f.load(d,m)}}})();var canvasTest=document.createElement("canvas");
if(canvasTest.getContext&&canvasTest.getContext("2d"))CanvasRenderingContext2D.prototype.drawSvg=function(v,d,m,j,f){canvg(this.canvas,v,{ignoreMouse:true,ignoreAnimation:true,ignoreDimensions:true,ignoreClear:true,offsetX:d,offsetY:m,scaleWidth:j,scaleHeight:f})};
(function(v){var d=/[\.\/]/,m=function(){},j=function(h,w){return h-w},f,r,l={n:{}},q=function(h,w){var D=r,G=Array.prototype.slice.call(arguments,2),x=q.listeners(h),M=0,F,U=[],Z={},aa=[];f=h;for(var V=r=0,ia=x.length;V<ia;V++)"zIndex"in x[V]&&(U.push(x[V].zIndex),x[V].zIndex<0&&(Z[x[V].zIndex]=x[V]));for(U.sort(j);U[M]<0;){F=Z[U[M++]];aa.push(F.apply(w,G));if(r){r=D;return aa}}for(V=0;V<ia;V++){F=x[V];if("zIndex"in F)if(F.zIndex==U[M]){aa.push(F.apply(w,G));if(r){r=D;return aa}do{M++;(F=Z[U[M]])&&
aa.push(F.apply(w,G));if(r){r=D;return aa}}while(F)}else Z[F.zIndex]=F;else{aa.push(F.apply(w,G));if(r){r=D;return aa}}}r=D;return aa.length?aa:null};q.listeners=function(h){h=h.split(d);var w=l,D,G,x,M,F,U,Z,aa=[w],V=[];x=0;for(M=h.length;x<M;x++){Z=[];F=0;for(U=aa.length;F<U;F++){w=aa[F].n;D=[w[h[x]],w["*"]];for(G=2;G--;)(w=D[G])&&(Z.push(w),V=V.concat(w.f||[]))}aa=Z}return V};q.on=function(h,w){for(var D=h.split(d),G=l,x=0,M=D.length;x<M;x++){G=G.n;!G[D[x]]&&(G[D[x]]={n:{}});G=G[D[x]]}G.f=G.f||
[];x=0;for(M=G.f.length;x<M;x++)if(G.f[x]==w)return m;G.f.push(w);return function(F){+F==+F&&(w.zIndex=+F)}};q.stop=function(){r=1};q.nt=function(h){if(h)return RegExp("(?:\\.|\\/|^)"+h+"(?:\\.|\\/|$)").test(f);return f};q.unbind=function(h,w){for(var D=h.split(d),G,x,M,F=[l],U=0,Z=D.length;U<Z;U++)for(var aa=0;aa<F.length;aa+=M.length-2){M=[aa,1];G=F[aa].n;if(D[U]!="*")G[D[U]]&&M.push(G[D[U]]);else for(x in G)G.hasOwnProperty(x)&&M.push(G[x]);F.splice.apply(F,M)}U=0;for(Z=F.length;U<Z;U++)for(G=
F[U];G.n;){if(w){if(G.f){aa=0;for(jj=G.f.length;aa<jj;aa++)if(G.f[aa]==w){G.f.splice(aa,1);break}!G.f.length&&delete G.f}for(x in G.n)if(G.n.hasOwnProperty(x)&&G.n[x].f){D=G.n[x].f;aa=0;for(jj=D.length;aa<jj;aa++)if(D[aa]==w){D.splice(aa,1);break}!D.length&&delete G.n[x].f}}else{delete G.f;for(x in G.n)G.n.hasOwnProperty(x)&&G.n[x].f&&delete G.n[x].f}G=G.n}};q.version="0.3.2";q.toString=function(){return"You are running Eve 0.3.2"};typeof module!="undefined"&&module.exports?module.exports=q:v.eve=
q})(this);
(function(){function v(a,c,e,g,p,n){e=fa(e);var s,z,B,I,L,J,S=a.ms,O={},Y={},H={};if(g){K=0;for(J=pa.length;K<J;K++){var N=pa[K];if(N.el.id==c.id&&N.anim==a){N.percent!=e?(pa.splice(K,1),B=1):z=N;c.attr(N.totalOrigin);break}}}else g=+Y;var K=0;for(J=a.percents.length;K<J;K++){if(a.percents[K]==e||a.percents[K]>g*a.top){e=a.percents[K];L=a.percents[K-1]||0;S=S/a.top*(e-L);I=a.percents[K+1];s=a.anim[e];break}g&&c.attr(a.anim[a.percents[K]])}if(s){if(z){z.initstatus=g;z.start=new Date-z.ms*g}else{for(attr in s)if(s[M](attr))if(Ca[M](attr)||
c.paper.customAttributes[M](attr)){O[attr]=c.attr(attr);O[attr]==null&&(O[attr]=Da[attr]);Y[attr]=s[attr];switch(Ca[attr]){case R:H[attr]=(Y[attr]-O[attr])/S;break;case "colour":O[attr]=h.getRGB(O[attr]);K=h.getRGB(Y[attr]);H[attr]={r:(K.r-O[attr].r)/S,g:(K.g-O[attr].g)/S,b:(K.b-O[attr].b)/S};break;case "path":K=Ka(O[attr],Y[attr]);N=K[1];O[attr]=K[0];H[attr]=[];K=0;for(J=O[attr].length;K<J;K++){H[attr][K]=[0];for(var ja=1,qa=O[attr][K].length;ja<qa;ja++)H[attr][K][ja]=(N[K][ja]-O[attr][K][ja])/S}break;
case "transform":K=c._;if(J=ib(K[attr],Y[attr])){O[attr]=J.from;Y[attr]=J.to;H[attr]=[];H[attr].real=true;K=0;for(J=O[attr].length;K<J;K++){H[attr][K]=[O[attr][K][0]];ja=1;for(qa=O[attr][K].length;ja<qa;ja++)H[attr][K][ja]=(Y[attr][K][ja]-O[attr][K][ja])/S}}else{J=c.matrix||new f;K={_:{transform:K.transform},getBBox:function(){return c.getBBox(1)}};O[attr]=[J.a,J.b,J.c,J.d,J.e,J.f];jb(K,Y[attr]);Y[attr]=K._.transform;H[attr]=[(K.matrix.a-J.a)/S,(K.matrix.b-J.b)/S,(K.matrix.c-J.c)/S,(K.matrix.d-J.d)/
S,(K.matrix.e-J.e)/S,(K.matrix.e-J.f)/S]}break;case "csv":J=ha(s[attr])[ua](D);N=ha(O[attr])[ua](D);if(attr=="clip-rect"){O[attr]=N;H[attr]=[];for(K=N.length;K--;)H[attr][K]=(J[K]-O[attr][K])/S}Y[attr]=J;break;default:J=[][V](s[attr]);N=[][V](O[attr]);H[attr]=[];for(K=c.paper.customAttributes[attr].length;K--;)H[attr][K]=((J[K]||0)-(N[K]||0))/S}}J=s.easing;K=h.easing_formulas[J];if(!K)if((K=ha(J).match(ta))&&K.length==5){var Na=K;K=function(Qa){return m(Qa,+Na[1],+Na[2],+Na[3],+Na[4],S)}}else K=E;
J=s.start||a.start||+new Date;N={anim:a,percent:e,timestamp:J,start:J+(a.del||0),status:0,initstatus:g||0,stop:false,ms:S,easing:K,from:O,diff:H,to:Y,el:c,callback:s.callback,prev:L,next:I,repeat:n||a.times,origin:c.attr(),totalOrigin:p};pa.push(N);if(g&&!z&&!B){N.stop=true;N.start=new Date-S*g;if(pa.length==1)return Ya()}B&&(N.start=new Date-N.ms*g);pa.length==1&&eb(Ya)}eve("anim.start."+c.id,c,a)}}function d(a,c){var e=[],g={};this.ms=c;this.times=1;if(a){for(var p in a)a[M](p)&&(g[fa(p)]=a[p],
e.push(fa(p)));e.sort(Ta)}this.anim=g;this.top=e[e.length-1];this.percents=e}function m(a,c,e,g,p,n){function s(O,Y){var H,N,K,ja;K=O;for(N=0;N<8;N++){ja=((I*K+B)*K+z)*K-O;if(y(ja)<Y)return K;H=(3*I*K+2*B)*K+z;if(y(H)<1.0E-6)break;K-=ja/H}H=0;N=1;K=O;if(K<H)return H;if(K>N)return N;for(;H<N;){ja=((I*K+B)*K+z)*K;if(y(ja-O)<Y)break;O>ja?H=K:N=K;K=(N-H)/2+H}return K}var z=3*c,B=3*(g-c)-z,I=1-z-B,L=3*e,J=3*(p-e)-L,S=1-L-J;return function(O,Y){var H=s(O,Y);return((S*H+J)*H+L)*H}(a,1/(200*n))}function j(){return this.x+
na+this.y+na+this.width+" ? "+this.height}function f(a,c,e,g,p,n){a!=null?(this.a=+a,this.b=+c,this.c=+e,this.d=+g,this.e=+p,this.f=+n):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function r(a){for(var c=[],e=0,g=a.length;g-2>e;e+=2){var p=[{x:+a[e],y:+a[e+1]},{x:+a[e],y:+a[e+1]},{x:+a[e+2],y:+a[e+3]},{x:+a[e+4],y:+a[e+5]}];g-4==e?(p[0]={x:+a[e-2],y:+a[e-1]},p[3]=p[2]):e&&(p[0]={x:+a[e-2],y:+a[e-1]});c.push(["C",(-p[0].x+6*p[1].x+p[2].x)/6,(-p[0].y+6*p[1].y+p[2].y)/6,(p[1].x+6*p[2].x-
p[3].x)/6,(p[1].y+6*p[2].y-p[3].y)/6,p[2].x,p[2].y])}return c}function l(){return this.hex}function q(a,c,e){function g(){var p=Array.prototype.slice.call(arguments,0),n=p.join("?"),s=g.cache=g.cache||{},z=g.count=g.count||[];if(s[M](n)){a:{p=0;for(var B=z.length;p<B;p++)if(z[p]===n){z.push(z.splice(p,1)[0]);break a}}return e?e(s[n]):s[n]}z.length>=1E3&&delete s[z.shift()];z.push(n);s[n]=a[aa](c,p);return e?e(s[n]):s[n]}return g}function h(a){if(h.is(a,"function"))return w?a():eve.on("DOMload",a);
if(h.is(a,W)){for(var c=h._engine.create[aa](h,a.splice(0,3+h.is(a[0],R))),e=c.set(),g=0,p=a.length,n;g<p;g++){n=a[g]||{};G[M](n.type)&&e.push(c[n.type]().attr(n))}return e}var s=Array.prototype.slice.call(arguments,0);if(h.is(s[s.length-1],"function")){var z=s.pop();return w?z.call(h._engine.create[aa](h,s)):eve.on("DOMload",function(){z.call(h._engine.create[aa](h,s))})}return h._engine.create[aa](h,arguments)}h.version="2.0.0";h.eve=eve;var w,D=/[, ]+/,G={circle:1,rect:1,path:1,ellipse:1,text:1,
image:1},x=/\{(\d+)\}/g,M="hasOwnProperty",F={doc:document,win:window},U={was:Object.prototype[M].call(F.win,"Raphael"),is:F.win.Raphael},Z=function(){this.ca=this.customAttributes={}},aa="apply",V="concat",ia="createTouch"in F.doc,na=" ",ha=String,ua="split",u="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[ua](na),b={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},o=ha.prototype.toLowerCase,k=Math,t=k.max,A=k.min,y=k.abs,
C=k.pow,P=k.PI,R="number",W="array",T=Object.prototype.toString;h._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i;var la=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,ka={NaN:1,Infinity:1,"-Infinity":1},ta=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,
za=k.round,fa=parseFloat,ca=parseInt,xa=ha.prototype.toUpperCase,Da=h._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,
"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},Ca=h._availableAnimAttrs={blur:R,"clip-rect":"csv",cx:R,cy:R,fill:"colour","fill-opacity":R,"font-size":R,height:R,opacity:R,path:"path",r:R,rx:R,ry:R,stroke:"colour","stroke-opacity":R,"stroke-width":R,transform:"transform",width:R,x:R,y:R},ya=/\s*,\s*/,Pa={hs:1,rg:1},La=/,?([achlmqrstvxz]),?/gi,Oa=/([achlmrqstvz])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?\s*,?\s*)+)/ig,Sa=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?\s*,?\s*)+)/ig,
Ja=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)\s*,?\s*/ig;h._radial_gradient=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/;var Ia={},Ta=function(a,c){return fa(a)-fa(c)},ba=function(){},E=function(a){return a},Q=h._rectPath=function(a,c,e,g,p){if(p)return[["M",a+p,c],["l",e-p*2,0],["a",p,p,0,0,1,p,p],["l",0,g-p*2],["a",p,p,0,0,1,-p,p],["l",p*2-e,0],["a",p,p,0,0,1,-p,-p],["l",0,p*2-g],["a",p,p,0,0,1,p,-p],["z"]];return[["M",a,c],["l",e,0],["l",0,g],["l",-e,0],["z"]]},X=function(a,c,e,g){g==null&&(g=e);return[["M",a,c],
["m",0,-g],["a",e,g,0,1,1,0,2*g],["a",e,g,0,1,1,0,-2*g],["z"]]},da=h._getPath={path:function(a){return a.attr("path")},circle:function(a){a=a.attrs;return X(a.cx,a.cy,a.r)},ellipse:function(a){a=a.attrs;return X(a.cx,a.cy,a.rx,a.ry)},rect:function(a){a=a.attrs;return Q(a.x,a.y,a.width,a.height,a.r)},image:function(a){a=a.attrs;return Q(a.x,a.y,a.width,a.height)},text:function(a){a=a._getBBox();return Q(a.x,a.y,a.width,a.height)}},ma=h.mapPath=function(a,c){if(!c)return a;var e,g,p,n,s;a=Ka(a);p=0;
for(ii=a.length;p<ii;p++){s=a[p];n=1;for(jj=s.length;n<jj;n+=2){e=c.x(s[n],s[n+1]);g=c.y(s[n],s[n+1]);s[n]=e;s[n+1]=g}}return a};h._g=F;h.type=F.win.SVGAngle||F.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(h.type=="VML"){var ea=F.doc.createElement("div");ea.innerHTML='<v:shape adj="1"/>';ea=ea.firstChild;ea.style.behavior="url(#default#VML)";if(!ea||typeof ea.adj!="object")return h.type="";ea=null}h.svg=!(h.vml=h.type=="VML");h._Paper=Z;h.fn=
Z=Z.prototype=h.prototype;h._id=0;h._oid=0;h.is=function(a,c){c=o.call(c);if(c=="finite")return!ka[M](+a);if(c=="array")return a instanceof Array;return c=="null"&&a===null||c==typeof a&&a!==null||c=="object"&&a===Object(a)||c=="array"&&Array.isArray&&Array.isArray(a)||T.call(a).slice(8,-1).toLowerCase()==c};h.angle=function(a,c,e,g,p,n){if(p==null){a=a-e;c=c-g;if(!a&&!c)return 0;return(180+k.atan2(-c,-a)*180/P+360)%360}return h.angle(a,c,p,n)-h.angle(e,g,p,n)};h.rad=function(a){return a%360*P/180};
h.deg=function(a){return a*180/P%360};h.snapTo=function(a,c,e){e=h.is(e,"finite")?e:10;if(h.is(a,W))for(var g=a.length;g--;){if(y(a[g]-c)<=e)return a[g]}else{a=+a;g=c%a;if(g<e)return c-g;if(g>a-e)return c-g+a}return c};h.createUUID=function(a,c){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,c).toUpperCase()}}(/[xy]/g,function(a){var c=k.random()*16|0;return(a=="x"?c:c&3|8).toString(16)});h.setWindow=function(a){eve("setWindow",h,F.win,a);F.win=a;F.doc=F.win.document;initWin&&
initWin(F.win)};var sa=function(a){if(h.vml){var c=/^\s+|\s+$/g,e;try{var g=new ActiveXObject("htmlfile");g.write("<body>");g.close();e=g.body}catch(p){e=createPopup().document.body}var n=e.createTextRange();sa=q(function(z){try{e.style.color=ha(z).replace(c,"");var B=n.queryCommandValue("ForeColor");B=(B&255)<<16|B&65280|(B&16711680)>>>16;return"#"+("000000"+B.toString(16)).slice(-6)}catch(I){return"none"}})}else{var s=F.doc.createElement("i");s.title="Rapha'l Colour Picker";s.style.display="none";
F.doc.body.appendChild(s);sa=q(function(z){s.style.color=z;return F.doc.defaultView.getComputedStyle(s,"").getPropertyValue("color")})}return sa(a)},wa=function(){return"hsb("+[this.h,this.s,this.b]+")"},Ba=function(){return"hsl("+[this.h,this.s,this.l]+")"},Ea=function(){return this.hex},ra=function(a,c,e){c==null&&h.is(a,"object")&&"r"in a&&"g"in a&&"b"in a&&(e=a.b,c=a.g,a=a.r);if(c==null&&h.is(a,"string")){e=h.getRGB(a);a=e.r;c=e.g;e=e.b}if(a>1||c>1||e>1){a/=255;c/=255;e/=255}return[a,c,e]},Aa=
function(a,c,e,g){a*=255;c*=255;e*=255;a={r:a,g:c,b:e,hex:h.rgb(a,c,e),toString:Ea};h.is(g,"finite")&&(a.opacity=g);return a};h.color=function(a){var c;h.is(a,"object")&&"h"in a&&"s"in a&&"b"in a?(c=h.hsb2rgb(a),a.r=c.r,a.g=c.g,a.b=c.b,a.hex=c.hex):h.is(a,"object")&&"h"in a&&"s"in a&&"l"in a?(c=h.hsl2rgb(a),a.r=c.r,a.g=c.g,a.b=c.b,a.hex=c.hex):(h.is(a,"string")&&(a=h.getRGB(a)),h.is(a,"object")&&"r"in a&&"g"in a&&"b"in a?(c=h.rgb2hsl(a),a.h=c.h,a.s=c.s,a.l=c.l,c=h.rgb2hsb(a),a.v=c.b):(a={hex:"none"},
crl.r=a.g=a.b=a.h=a.s=a.v=a.l=-1));a.toString=Ea;return a};h.hsb2rgb=function(a,c,e,g){this.is(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(e=a.b,c=a.s,a=a.h,g=a.o);a*=360;var p,n,s;a=a%360/60;s=e*c;c=s*(1-y(a%2-1));e=p=n=e-s;a=~~a;e+=[s,c,0,0,c,s][a];p+=[c,s,s,c,0,0][a];n+=[0,0,c,s,s,c][a];return Aa(e,p,n,g)};h.hsl2rgb=function(a,c,e,g){this.is(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(e=a.l,c=a.s,a=a.h);if(a>1||c>1||e>1){a/=360;c/=100;e/=100}a*=360;var p,n,s;a=a%360/60;s=2*c*(e<0.5?e:1-e);c=s*(1-y(a%
2-1));e=p=n=e-s/2;a=~~a;e+=[s,c,0,0,c,s][a];p+=[c,s,s,c,0,0][a];n+=[0,0,c,s,s,c][a];return Aa(e,p,n,g)};h.rgb2hsb=function(a,c,e){e=ra(a,c,e);a=e[0];c=e[1];e=e[2];var g,p;g=t(a,c,e);p=g-A(a,c,e);a=p==0?null:g==a?(c-e)/p:g==c?(e-a)/p+2:(a-c)/p+4;a=(a+360)%6*60/360;return{h:a,s:p==0?0:p/g,b:g,toString:wa}};h.rgb2hsl=function(a,c,e){e=ra(a,c,e);a=e[0];c=e[1];e=e[2];var g,p,n;g=t(a,c,e);p=A(a,c,e);n=g-p;a=n==0?null:g==a?(c-e)/n:g==c?(e-a)/n+2:(a-c)/n+4;a=(a+360)%6*60/360;g=(g+p)/2;return{h:a,s:n==0?0:
g<0.5?n/(2*g):n/(2-2*g),l:g,toString:Ba}};h._path2string=function(){return this.join(",").replace(La,"$1")};h._preload=function(a,c){var e=F.doc.createElement("img");e.style.cssText="position:absolute;left:-9999em;top-9999em";e.onload=function(){c.call(this);this.onload=null;F.doc.body.removeChild(this)};e.onerror=function(){F.doc.body.removeChild(this)};F.doc.body.appendChild(e);e.src=a};h.getRGB=q(function(a){if(!a||(a=ha(a)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:l};if(a==
"none")return{r:-1,g:-1,b:-1,hex:"none",toString:l};!Pa[M](a.toLowerCase().substring(0,2))&&a.charAt()!="#"&&(a=sa(a));var c,e,g,p,n,s;if(a=a.match(la)){a[2]&&(g=ca(a[2].substring(5),16),e=ca(a[2].substring(3,5),16),c=ca(a[2].substring(1,3),16));a[3]&&(g=ca((n=a[3].charAt(3))+n,16),e=ca((n=a[3].charAt(2))+n,16),c=ca((n=a[3].charAt(1))+n,16));a[4]&&(s=a[4][ua](ya),c=fa(s[0]),s[0].slice(-1)=="%"&&(c*=2.55),e=fa(s[1]),s[1].slice(-1)=="%"&&(e*=2.55),g=fa(s[2]),s[2].slice(-1)=="%"&&(g*=2.55),a[1].toLowerCase().slice(0,
4)=="rgba"&&(p=fa(s[3])),s[3]&&s[3].slice(-1)=="%"&&(p/=100));if(a[5]){s=a[5][ua](ya);c=fa(s[0]);s[0].slice(-1)=="%"&&(c*=2.55);e=fa(s[1]);s[1].slice(-1)=="%"&&(e*=2.55);g=fa(s[2]);s[2].slice(-1)=="%"&&(g*=2.55);(s[0].slice(-3)=="deg"||s[0].slice(-1)=="\ufffd")&&(c/=360);a[1].toLowerCase().slice(0,4)=="hsba"&&(p=fa(s[3]));s[3]&&s[3].slice(-1)=="%"&&(p/=100);return h.hsb2rgb(c,e,g,p)}if(a[6]){s=a[6][ua](ya);c=fa(s[0]);s[0].slice(-1)=="%"&&(c*=2.55);e=fa(s[1]);s[1].slice(-1)=="%"&&(e*=2.55);g=fa(s[2]);
s[2].slice(-1)=="%"&&(g*=2.55);(s[0].slice(-3)=="deg"||s[0].slice(-1)=="\ufffd")&&(c/=360);a[1].toLowerCase().slice(0,4)=="hsla"&&(p=fa(s[3]));s[3]&&s[3].slice(-1)=="%"&&(p/=100);return h.hsl2rgb(c,e,g,p)}a={r:c,g:e,b:g,toString:l};a.hex="#"+(16777216|g|e<<8|c<<16).toString(16).slice(1);h.is(p,"finite")&&(a.opacity=p);return a}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:l}},h);h.hsb=q(function(a,c,e){return h.hsb2rgb(a,c,e).hex});h.hsl=q(function(a,c,e){return h.hsl2rgb(a,c,e).hex});h.rgb=q(function(a,
c,e){return"#"+(16777216|e|c<<8|a<<16).toString(16).slice(1)});h.getColor=function(a){a=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||0.75};var c=this.hsb2rgb(a.h,a.s,a.b);a.h+=0.075;a.h>1&&(a.h=0,a.s-=0.2,a.s<=0&&(this.getColor.start={h:0,s:1,b:a.b}));return c.hex};h.getColor.reset=function(){delete this.start};h.parsePathString=q(function(a){if(!a)return null;var c={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},e=[];h.is(a,W)&&h.is(a[0],W)&&(e=Ma(a));e.length||ha(a).replace(Oa,function(g,
p,n){var s=[];g=p.toLowerCase();n.replace(Ja,function(z,B){B&&s.push(+B)});g=="m"&&s.length>2&&(e.push([p][V](s.splice(0,2))),g="l",p=p=="m"?"l":"L");if(g=="r")e.push([p][V](s));else for(;s.length>=c[g];){e.push([p][V](s.splice(0,c[g])));if(!c[g])break}});e.toString=h._path2string;return e});h.parseTransformString=q(function(a){if(!a)return null;var c=[];h.is(a,W)&&h.is(a[0],W)&&(c=Ma(a));c.length||ha(a).replace(Sa,function(e,g,p){var n=[];o.call(g);p.replace(Ja,function(s,z){z&&n.push(+z)});c.push([g][V](n))});
c.toString=h._path2string;return c});h.findDotsAtSegment=function(a,c,e,g,p,n,s,z,B){var I=1-B,L=C(I,3),J=C(I,2),S=B*B,O=S*B,Y=L*a+J*3*B*e+I*3*B*B*p+O*s;L=L*c+J*3*B*g+I*3*B*B*n+O*z;J=a+2*B*(e-a)+S*(p-2*e+a);O=c+2*B*(g-c)+S*(n-2*g+c);var H=e+2*B*(p-e)+S*(s-2*p+e);S=g+2*B*(n-g)+S*(z-2*n+g);a=I*a+B*e;c=I*c+B*g;p=I*p+B*s;n=I*n+B*z;z=90-k.atan2(J-H,O-S)*180/P;(J>H||O<S)&&(z+=180);return{x:Y,y:L,m:{x:J,y:O},n:{x:H,y:S},start:{x:a,y:c},end:{x:p,y:n},alpha:z}};var va=q(function(a){if(!a)return{x:0,y:0,width:0,
height:0};a=Ka(a);for(var c=0,e=0,g=[],p=[],n,s=0,z=a.length;s<z;s++){n=a[s];if(n[0]=="M"){c=n[1];e=n[2];g.push(c);p.push(e)}else{c=Xa(c,e,n[1],n[2],n[3],n[4],n[5],n[6]);g=g[V](c.min.x,c.max.x);p=p[V](c.min.y,c.max.y);c=n[5];e=n[6]}}a=A[aa](0,g);n=A[aa](0,p);return{x:a,y:n,width:t[aa](0,g)-a,height:t[aa](0,p)-n}},null,function(a){return{x:a.x,y:a.y,width:a.width,height:a.height}}),Ma=function(a){var c=[];if(!h.is(a,W)||!h.is(a&&a[0],W))a=h.parsePathString(a);for(var e=0,g=a.length;e<g;e++){c[e]=[];
for(var p=0,n=a[e].length;p<n;p++)c[e][p]=a[e][p]}c.toString=h._path2string;return c};ea=h._pathToRelative=q(function(a){if(!h.is(a,W)||!h.is(a&&a[0],W))a=h.parsePathString(a);var c=[],e=0,g=0,p=0,n=0,s=0;a[0][0]=="M"&&(e=a[0][1],g=a[0][2],p=e,n=g,s++,c.push(["M",e,g]));s=s;for(var z=a.length;s<z;s++){var B=c[s]=[],I=a[s];if(I[0]!=o.call(I[0])){B[0]=o.call(I[0]);switch(B[0]){case "a":B[1]=I[1];B[2]=I[2];B[3]=I[3];B[4]=I[4];B[5]=I[5];B[6]=+(I[6]-e).toFixed(3);B[7]=+(I[7]-g).toFixed(3);break;case "v":B[1]=
+(I[1]-g).toFixed(3);break;case "m":p=I[1];n=I[2];default:for(var L=1,J=I.length;L<J;L++)B[L]=+(I[L]-(L%2?e:g)).toFixed(3)}}else{c[s]=[];I[0]=="m"&&(p=I[1]+e,n=I[2]+g);B=0;for(L=I.length;B<L;B++)c[s][B]=I[B]}I=c[s].length;switch(c[s][0]){case "z":e=p;g=n;break;case "h":e+=+c[s][I-1];break;case "v":g+=+c[s][I-1];break;default:e+=+c[s][I-2];g+=+c[s][I-1]}}c.toString=h._path2string;return c},0,Ma);var Ua=h._pathToAbsolute=q(function(a){if(!h.is(a,W)||!h.is(a&&a[0],W))a=h.parsePathString(a);if(!a||!a.length)return[["M",
0,0]];var c=[],e=0,g=0,p=0,n=0,s=0;a[0][0]=="M"&&(e=+a[0][1],g=+a[0][2],p=e,n=g,s++,c[0]=["M",e,g]);for(var z,B=s,I=a.length;B<I;B++){c.push(s=[]);z=a[B];if(z[0]!=xa.call(z[0])){s[0]=xa.call(z[0]);switch(s[0]){case "A":s[1]=z[1];s[2]=z[2];s[3]=z[3];s[4]=z[4];s[5]=z[5];s[6]=+(z[6]+e);s[7]=+(z[7]+g);break;case "V":s[1]=+z[1]+g;break;case "H":s[1]=+z[1]+e;break;case "R":for(var L=[e,g][V](z.slice(1)),J=2,S=L.length;J<S;J++){L[J]=+L[J]+e;L[++J]=+L[J]+g}c.pop();c=c[V](r(L));break;case "M":p=+z[1]+e;n=
+z[2]+g;default:J=1;for(S=z.length;J<S;J++)s[J]=+z[J]+(J%2?e:g)}}else if(z[0]=="R"){L=[e,g][V](z.slice(1));c.pop();c=c[V](r(L));s=["R"][V](z.slice(-2))}else{L=0;for(J=z.length;L<J;L++)s[L]=z[L]}switch(s[0]){case "Z":e=p;g=n;break;case "H":e=s[1];break;case "V":g=s[1];break;case "M":p=s[s.length-2];n=s[s.length-1];default:e=s[s.length-2];g=s[s.length-1]}}c.toString=h._path2string;return c},null,Ma),ga=function(a,c,e,g,p,n){var s=1/3,z=2/3;return[s*a+z*e,s*c+z*g,s*p+z*e,s*n+z*g,p,n]},Fa=function(a,
c,e,g,p,n,s,z,B,I){var L=P*120/180,J=P/180*(+p||0),S=[],O,Y=q(function(qa,Na,Qa){var kb=qa*k.cos(Qa)-Na*k.sin(Qa);qa=qa*k.sin(Qa)+Na*k.cos(Qa);return{x:kb,y:qa}});if(I){K=I[0];O=I[1];n=I[2];N=I[3]}else{O=Y(a,c,-J);a=O.x;c=O.y;O=Y(z,B,-J);z=O.x;B=O.y;k.cos(P/180*p);k.sin(P/180*p);O=(a-z)/2;K=(c-B)/2;var H=O*O/(e*e)+K*K/(g*g);H>1&&(H=k.sqrt(H),e=H*e,g=H*g);H=e*e;N=g*g;H=(n==s?-1:1)*k.sqrt(y((H*N-H*K*K-N*O*O)/(H*K*K+N*O*O)));n=H*e*K/g+(a+z)/2;var N=H*-g*O/e+(c+B)/2,K=k.asin(((c-N)/g).toFixed(9));O=k.asin(((B-
N)/g).toFixed(9));K=a<n?P-K:K;O=z<n?P-O:O;K<0&&(K=P*2+K);O<0&&(O=P*2+O);s&&K>O&&(K-=P*2);!s&&O>K&&(O-=P*2)}H=O-K;if(y(H)>L){S=O;H=z;var ja=B;O=K+L*(s&&O>K?1:-1);z=n+e*k.cos(O);B=N+g*k.sin(O);S=Fa(z,B,e,g,p,0,s,H,ja,[O,S,n,N])}H=O-K;p=k.cos(K);L=k.sin(K);s=k.cos(O);O=k.sin(O);n=k.tan(H/4);e=4/3*e*n;n=4/3*g*n;g=[a,c];a=[a+e*L,c-n*p];c=[z+e*O,B-n*s];z=[z,B];a[0]=2*g[0]-a[0];a[1]=2*g[1]-a[1];if(I)return[a,c,z][V](S);S=[a,c,z][V](S).join()[ua](",");I=[];z=0;for(B=S.length;z<B;z++)I[z]=z%2?Y(S[z-1],S[z],
J).y:Y(S[z],S[z+1],J).x;return I},Ga=function(a,c,e,g,p,n,s,z,B){var I=1-B;return{x:C(I,3)*a+C(I,2)*3*B*e+I*3*B*B*p+C(B,3)*s,y:C(I,3)*c+C(I,2)*3*B*g+I*3*B*B*n+C(B,3)*z}},Xa=q(function(a,c,e,g,p,n,s,z){var B=p-2*e+a-(s-2*p+e),I=2*(e-a)-2*(p-e),L=a-e,J=(-I+k.sqrt(I*I-4*B*L))/2/B;B=(-I-k.sqrt(I*I-4*B*L))/2/B;var S=[c,z],O=[a,s],Y;y(J)>"1e12"&&(J=0.5);y(B)>"1e12"&&(B=0.5);J>0&&J<1&&(Y=Ga(a,c,e,g,p,n,s,z,J),O.push(Y.x),S.push(Y.y));B>0&&B<1&&(Y=Ga(a,c,e,g,p,n,s,z,B),O.push(Y.x),S.push(Y.y));B=n-2*g+c-
(z-2*n+g);I=2*(g-c)-2*(n-g);L=c-g;J=(-I+k.sqrt(I*I-4*B*L))/2/B;B=(-I-k.sqrt(I*I-4*B*L))/2/B;y(J)>"1e12"&&(J=0.5);y(B)>"1e12"&&(B=0.5);J>0&&J<1&&(Y=Ga(a,c,e,g,p,n,s,z,J),O.push(Y.x),S.push(Y.y));B>0&&B<1&&(Y=Ga(a,c,e,g,p,n,s,z,B),O.push(Y.x),S.push(Y.y));return{min:{x:A[aa](0,O),y:A[aa](0,S)},max:{x:t[aa](0,O),y:t[aa](0,S)}}}),Ka=h._path2curve=q(function(a,c){var e=Ua(a),g=c&&Ua(c),p={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=function(H,N){var K,ja;
if(!H)return["C",N.x,N.y,N.x,N.y,N.x,N.y];!(H[0]in{T:1,Q:1})&&(N.qx=N.qy=null);switch(H[0]){case "M":N.X=H[1];N.Y=H[2];break;case "A":H=["C"][V](Fa[aa](0,[N.x,N.y][V](H.slice(1))));break;case "S":K=N.x+(N.x-(N.bx||N.x));ja=N.y+(N.y-(N.by||N.y));H=["C",K,ja][V](H.slice(1));break;case "T":N.qx=N.x+(N.x-(N.qx||N.x));N.qy=N.y+(N.y-(N.qy||N.y));H=["C"][V](ga(N.x,N.y,N.qx,N.qy,H[1],H[2]));break;case "Q":N.qx=H[1];N.qy=H[2];H=["C"][V](ga(N.x,N.y,H[1],H[2],H[3],H[4]));break;case "L":H=["C"][V]([N.x,N.y,H[1],
H[2],H[1],H[2]]);break;case "H":H=["C"][V]([N.x,N.y,H[1],N.y,H[1],N.y]);break;case "V":H=["C"][V]([N.x,N.y,N.x,H[1],N.x,H[1]]);break;case "Z":H=["C"][V]([N.x,N.y,N.X,N.Y,N.X,N.Y])}return H},z=function(H,N){if(H[N].length>7){H[N].shift();for(var K=H[N];K.length;)H.splice(N++,0,["C"][V](K.splice(0,6)));H.splice(N,1);L=t(e.length,g&&g.length||0)}},B=function(H,N,K,ja,qa){H&&N&&H[qa][0]=="M"&&N[qa][0]!="M"&&(N.splice(qa,0,["M",ja.x,ja.y]),K.bx=0,K.by=0,K.x=H[qa][1],K.y=H[qa][2],L=t(e.length,g&&g.length||
0))},I=0,L=t(e.length,g&&g.length||0);for(;I<L;I++){e[I]=s(e[I],p);z(e,I);g&&(g[I]=s(g[I],n));g&&z(g,I);B(e,g,p,n,I);B(g,e,n,p,I);var J=e[I],S=g&&g[I],O=J.length,Y=g&&S.length;p.x=J[O-2];p.y=J[O-1];p.bx=fa(J[O-4])||p.x;p.by=fa(J[O-3])||p.y;n.bx=g&&(fa(S[Y-4])||n.x);n.by=g&&(fa(S[Y-3])||n.y);n.x=g&&S[Y-2];n.y=g&&S[Y-1]}return g?[e,g]:e},null,Ma);h._parseDots=q(function(a){for(var c=[],e=0,g=a.length;e<g;e++){var p={},n=a[e].match(/^([^:]*):?([\d\.]*)/);p.color=h.getRGB(n[1]);if(p.color.error)return null;
p.color=p.color.hex;n[2]&&(p.offset=n[2]+"%");c.push(p)}e=1;for(g=c.length-1;e<g;e++)if(!c[e].offset){a=fa(c[e-1].offset||0);n=0;for(p=e+1;p<g;p++)if(c[p].offset){n=c[p].offset;break}n||(n=100,p=g);n=fa(n);for(n=(n-a)/(p-e+1);e<p;e++){a+=n;c[e].offset=a+"%"}}return c});var Va=h._tear=function(a,c){a==c.top&&(c.top=a.prev);a==c.bottom&&(c.bottom=a.next);a.next&&(a.next.prev=a.prev);a.prev&&(a.prev.next=a.next)};h._tofront=function(a,c){c.top!==a&&(Va(a,c),a.next=null,a.prev=c.top,c.top.next=a,c.top=
a)};h._toback=function(a,c){c.bottom!==a&&(Va(a,c),a.next=c.bottom,a.prev=null,c.bottom.prev=a,c.bottom=a)};h._insertafter=function(a,c,e){Va(a,e);c==e.top&&(e.top=a);c.next&&(c.next.prev=a);a.next=c.next;a.prev=c;c.next=a};h._insertbefore=function(a,c,e){Va(a,e);c==e.bottom&&(e.bottom=a);c.prev&&(c.prev.next=a);a.prev=c.prev;c.prev=a;a.next=c};var jb=h._extractTransform=function(a,c){if(c==null)return a._.transform;c=ha(c).replace(/\.{3}|\u2026/g,a._.transform||"");var e=h.parseTransformString(c),
g=0,p=0,n=0,s=1,z=1,B=a._;n=new f;B.transform=e||[];if(e){p=0;for(var I=e.length;p<I;p++){var L=e[p],J=L.length,S=ha(L[0]).toLowerCase(),O=L[0]!=S,Y=O?n.invert():0,H,N,K,ja,qa;S=="t"&&J==3?O?(H=Y.x(0,0),N=Y.y(0,0),K=Y.x(L[1],L[2]),ja=Y.y(L[1],L[2]),n.translate(K-H,ja-N)):n.translate(L[1],L[2]):S=="r"?J==2?(qa=qa||a.getBBox(1),n.rotate(L[1],qa.x+qa.width/2,qa.y+qa.height/2),g+=L[1]):J==4&&(O?(K=Y.x(L[2],L[3]),ja=Y.y(L[2],L[3]),n.rotate(L[1],K,ja)):n.rotate(L[1],L[2],L[3]),g+=L[1]):S=="s"?J==2||J==
3?(qa=qa||a.getBBox(1),n.scale(L[1],L[J-1],qa.x+qa.width/2,qa.y+qa.height/2),s*=L[1],z*=L[J-1]):J==5&&(O?(K=Y.x(L[3],L[4]),ja=Y.y(L[3],L[4]),n.scale(L[1],L[2],K,ja)):n.scale(L[1],L[2],L[3],L[4]),s*=L[1],z*=L[2]):S=="m"&&J==7&&n.add(L[1],L[2],L[3],L[4],L[5],L[6]);B.dirtyT=1;a.matrix=n}}a.matrix=n;B.sx=s;B.sy=z;B.deg=g;B.dx=p=n.e;B.dy=n=n.f;s==1&&z==1&&!g&&B.bbox?(B.bbox.x+=+p,B.bbox.y+=+n):B.dirtyT=1},fb=function(a){var c=a[0];switch(c.toLowerCase()){case "t":return[c,0,0];case "m":return[c,1,0,0,
1,0,0];case "r":return a.length==4?[c,0,a[2],a[3]]:[c,0];case "s":return a.length==5?[c,1,1,a[3],a[4]]:a.length==3?[c,1,1]:[c,1]}},ib=h._equaliseTransform=function(a,c){c=ha(c).replace(/\.{3}|\u2026/g,a);a=h.parseTransformString(a)||[];c=h.parseTransformString(c)||[];for(var e=t(a.length,c.length),g=[],p=[],n=0,s,z,B,I;n<e;n++){B=a[n]||fb(c[n]);I=c[n]||fb(B);if(B[0]!=I[0]||B[0].toLowerCase()=="r"&&(B[2]!=I[2]||B[3]!=I[3])||B[0].toLowerCase()=="s"&&(B[3]!=I[3]||B[4]!=I[4]))return;g[n]=[];p[n]=[];s=
0;for(z=t(B.length,I.length);s<z;s++){s in B&&(g[n][s]=B[s]);s in I&&(p[n][s]=I[s])}}return{from:g,to:p}};h._getContainer=function(a,c,e,g){var p;p=g==null&&!h.is(a,"object")?F.doc.getElementById(a):a;if(p!=null){if(p.tagName)return c==null?{container:p,width:p.style.pixelWidth||p.offsetWidth,height:p.style.pixelHeight||p.offsetHeight}:{container:p,width:c,height:e};return{container:1,x:a,y:c,width:e,height:g}}};h.pathToRelative=ea;h._engine={};h.path2curve=Ka;h.matrix=function(a,c,e,g,p,n){return new f(a,
c,e,g,p,n)};(function(a){function c(g){var p=k.sqrt(e(g));g[0]&&(g[0]/=p);g[1]&&(g[1]/=p)}function e(g){return g[0]*g[0]+g[1]*g[1]}a.add=function(g,p,n,s,z,B){var I=[[],[],[]],L=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]];p=[[g,n,z],[p,s,B],[0,0,1]];g&&g instanceof f&&(p=[[g.a,g.c,g.e],[g.b,g.d,g.f],[0,0,1]]);for(g=0;g<3;g++)for(n=0;n<3;n++){for(s=z=0;s<3;s++)z+=L[g][s]*p[s][n];I[g][n]=z}this.a=I[0][0];this.b=I[1][0];this.c=I[0][1];this.d=I[1][1];this.e=I[0][2];this.f=I[1][2]};a.invert=
function(){var g=this.a*this.d-this.b*this.c;return new f(this.d/g,-this.b/g,-this.c/g,this.a/g,(this.c*this.f-this.d*this.e)/g,(this.b*this.e-this.a*this.f)/g)};a.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)};a.translate=function(g,p){this.add(1,0,0,1,g,p)};a.scale=function(g,p,n,s){p==null&&(p=g);(n||s)&&this.add(1,0,0,1,n,s);this.add(g,0,0,p,0,0);(n||s)&&this.add(1,0,0,1,-n,-s)};a.rotate=function(g,p,n){g=h.rad(g);p=p||0;n=n||0;var s=+k.cos(g).toFixed(9);g=+k.sin(g).toFixed(9);
this.add(s,g,-g,s,p,n);this.add(1,0,0,1,-p,-n)};a.x=function(g,p){return g*this.a+p*this.c+this.e};a.y=function(g,p){return g*this.b+p*this.d+this.f};a.get=function(g){return+this[ha.fromCharCode(97+g)].toFixed(4)};a.toString=function(){return h.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()};a.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+
this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"};a.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};a.split=function(){var g={};g.dx=this.e;g.dy=this.f;var p=[[this.a,this.c],[this.b,this.d]];g.scalex=k.sqrt(e(p[0]));c(p[0]);g.shear=p[0][0]*p[1][0]+p[0][1]*p[1][1];p[1]=[p[1][0]-p[0][0]*g.shear,p[1][1]-p[0][1]*g.shear];g.scaley=k.sqrt(e(p[1]));c(p[1]);g.shear/=g.scaley;var n=-p[0][1];p=p[1][1];p<0?(g.rotate=
h.deg(k.acos(p)),n<0&&(g.rotate=360-g.rotate)):g.rotate=h.deg(k.asin(n));g.isSimple=!+g.shear.toFixed(9)&&(g.scalex.toFixed(9)==g.scaley.toFixed(9)||!g.rotate);g.isSuperSimple=!+g.shear.toFixed(9)&&g.scalex.toFixed(9)==g.scaley.toFixed(9)&&!g.rotate;g.noRotation=!+g.shear.toFixed(9)&&!g.rotate;return g};a.toTransformString=function(g){g=g||this[ua]();return g.isSimple?"t"+[g.dx,g.dy]+"s"+[g.scalex,g.scaley,0,0]+"r"+[g.rotate,0,0]:"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}})(f.prototype);
ea=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);navigator.vendor=="Apple Computer, Inc."&&(ea&&ea[1]<4||navigator.platform.slice(0,2)=="iP")||navigator.vendor=="Google Inc."&&ea&&ea[1]<8?Z.safari=function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){a.remove()})}:Z.safari=ba;var lb=function(){this.returnValue=false},mb=function(){return this.originalEvent.preventDefault()},nb=function(){this.cancelBubble=
true},ob=function(){return this.originalEvent.stopPropagation()},pb=function(){if(F.doc.addEventListener)return function(a,c,e,g){var p=ia&&b[c]?b[c]:c,n=function(s){var z=s.clientX+(F.doc.documentElement.scrollLeft||F.doc.body.scrollLeft),B=s.clientY+(F.doc.documentElement.scrollTop||F.doc.body.scrollTop);if(ia&&b[M](c))for(var I=0,L=s.targetTouches&&s.targetTouches.length;I<L;I++)if(s.targetTouches[I].target==a){L=s;s=s.targetTouches[I];s.originalEvent=L;s.preventDefault=mb;s.stopPropagation=ob;
break}return e.call(g,s,z,B)};a.addEventListener(p,n,false);return function(){a.removeEventListener(p,n,false);return true}};if(F.doc.attachEvent)return function(a,c,e,g){var p=function(n){n=n||F.win.event;var s=n.clientX+(F.doc.documentElement.scrollLeft||F.doc.body.scrollLeft),z=n.clientY+(F.doc.documentElement.scrollTop||F.doc.body.scrollTop);n.preventDefault=n.preventDefault||lb;n.stopPropagation=n.stopPropagation||nb;return e.call(g,n,s,z)};a.attachEvent("on"+c,p);return function(){a.detachEvent("on"+
c,p);return true}}}(),Ha=[],Za=function(a){for(var c=a.clientX,e=a.clientY,g=F.doc.documentElement.scrollTop||F.doc.body.scrollTop,p=F.doc.documentElement.scrollLeft||F.doc.body.scrollLeft,n,s=Ha.length;s--;){n=Ha[s];if(ia)for(var z=a.touches.length,B;z--;){B=a.touches[z];if(B.identifier==n.el._drag.id){c=B.clientX;e=B.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();z=n.el.node;var I=z.nextSibling,L=z.parentNode,J=z.style.display;F.win.opera&&L.removeChild(z);
z.style.display="none";B=n.el.paper.getElementByPoint(c,e);z.style.display=J;F.win.opera&&(I?L.insertBefore(z,I):L.appendChild(z));B&&eve("drag.over."+n.el.id,n.el,B);c+=p;e+=g;eve("drag.move."+n.el.id,n.move_scope||n.el,c-n.el._drag.x,e-n.el._drag.y,c,e,a)}},$a=function(a){h.unmousemove(Za).unmouseup($a);for(var c=Ha.length,e;c--;){e=Ha[c];e.el._drag={};eve("drag.end."+e.el.id,e.end_scope||e.start_scope||e.move_scope||e.el,a)}Ha=[]},oa=h.el={};for(ba=u.length;ba--;)(function(a){h[a]=oa[a]=function(c,
e){h.is(c,"function")&&(this.events=this.events||[],this.events.push({name:a,f:c,unbind:pb(this.shape||this.node||F.doc,a,c,e||this)}));return this};h["un"+a]=oa["un"+a]=function(c){for(var e=this.events,g=e.length;g--;)if(e[g].name==a&&e[g].f==c){e[g].unbind();e.splice(g,1);!e.length&&delete this.events;break}return this}})(u[ba]);oa.data=function(a,c){var e=Ia[this.id]=Ia[this.id]||{};if(arguments.length==1){if(h.is(a,"object")){for(var g in a)a[M](g)&&this.data(g,a[g]);return this}eve("data.get."+
this.id,this,e[a],a);return e[a]}e[a]=c;eve("data.set."+this.id,this,c,a);return this};oa.removeData=function(a){a==null?Ia[this.id]={}:Ia[this.id]&&delete Ia[this.id][a];return this};oa.hover=function(a,c,e,g){return this.mouseover(a,e).mouseout(c,g||e)};oa.unhover=function(a,c){return this.unmouseover(a).unmouseout(c)};oa.drag=function(a,c,e,g,p,n){this._drag={};this.mousedown(function(s){(s.originalEvent||s).preventDefault();var z=F.doc.documentElement.scrollTop||F.doc.body.scrollTop,B=F.doc.documentElement.scrollLeft||
F.doc.body.scrollLeft;this._drag.x=s.clientX+B;this._drag.y=s.clientY+z;this._drag.id=s.identifier;!Ha.length&&h.mousemove(Za).mouseup($a);Ha.push({el:this,move_scope:g,start_scope:p,end_scope:n});c&&eve.on("drag.start."+this.id,c);a&&eve.on("drag.move."+this.id,a);e&&eve.on("drag.end."+this.id,e);eve("drag.start."+this.id,p||g||this,s.clientX+B,s.clientY+z,s)});return this};oa.onDragOver=function(a){a?eve.on("drag.over."+this.id,a):eve.unbind("drag.over."+this.id)};oa.undrag=function(){for(var a=
Ha.length;a--;)Ha[a].el==this&&(h.unmousedown(Ha[a].start),Ha.splice(a++,1),eve.unbind("drag.*."+this.id));!Ha.length&&h.unmousemove(Za).unmouseup($a)};Z.circle=function(a,c,e){a=h._engine.circle(this,a||0,c||0,e||0);this.__set__&&this.__set__.push(a);return a};Z.rect=function(a,c,e,g,p){a=h._engine.rect(this,a||0,c||0,e||0,g||0,p||0);this.__set__&&this.__set__.push(a);return a};Z.ellipse=function(a,c,e,g){a=h._engine.ellipse(this,a||0,c||0,e||0,g||0);this.__set__&&this.__set__.push(a);return a};
Z.path=function(a){a&&!h.is(a,"string")&&!h.is(a[0],W)&&(a+="");var c=h._engine.path(h.format[aa](h,arguments),this);this.__set__&&this.__set__.push(c);return c};Z.image=function(a,c,e,g,p){a=h._engine.image(this,a||"about:blank",c||0,e||0,g||0,p||0);this.__set__&&this.__set__.push(a);return a};Z.text=function(a,c,e){a=h._engine.text(this,a||0,c||0,ha(e));this.__set__&&this.__set__.push(a);return a};Z.set=function(a){!h.is(a,"array")&&(a=Array.prototype.splice.call(arguments,0,arguments.length));
var c=new Ra(a);this.__set__&&this.__set__.push(c);return c};Z.setStart=function(a){this.__set__=a||this.set()};Z.setFinish=function(){var a=this.__set__;delete this.__set__;return a};Z.setSize=function(a,c){return h._engine.setSize.call(this,a,c)};Z.setViewBox=function(a,c,e,g,p){return h._engine.setViewBox.call(this,a,c,e,g,p)};Z.top=Z.bottom=null;Z.raphael=h;Z.getElementByPoint=function(a,c){var e=this.canvas,g=F.doc.elementFromPoint(a,c);if(F.win.opera&&g.tagName=="svg"){var p;p=e.getBoundingClientRect();
var n=e.ownerDocument,s=n.body;n=n.documentElement;p={y:p.top+(F.win.pageYOffset||n.scrollTop||s.scrollTop)-(n.clientTop||s.clientTop||0),x:p.left+(F.win.pageXOffset||n.scrollLeft||s.scrollLeft)-(n.clientLeft||s.clientLeft||0)};s=e.createSVGRect();s.x=a-p.x;s.y=c-p.y;s.width=s.height=1;p=e.getIntersectionList(s,null);p.length&&(g=p[p.length-1])}if(!g)return null;for(;g.parentNode&&g!=e.parentNode&&!g.raphael;)g=g.parentNode;g==this.canvas.parentNode&&(g=e);return g=g&&g.raphael?this.getById(g.raphaelid):
null};Z.getById=function(a){for(var c=this.bottom;c;){if(c.id==a)return c;c=c.next}return null};Z.forEach=function(a,c){for(var e=this.bottom;e;){if(a.call(c,e)===false)break;e=e.next}return this};oa.getBBox=function(a){if(this.removed)return{};var c=this._;if(a){if(c.dirty||!c.bboxwt){this.realPath=da[this.type](this);c.bboxwt=va(this.realPath);c.bboxwt.toString=j;c.dirty=0}return c.bboxwt}if(c.dirty||c.dirtyT||!c.bbox){if(c.dirty||!this.realPath){c.bboxwt=0;this.realPath=da[this.type](this)}c.bbox=
va(ma(this.realPath,this.matrix));c.bbox.toString=j;c.dirty=c.dirtyT=0}return c.bbox};oa.clone=function(){if(this.removed)return null;var a=this.paper[this.type]().attr(this.attr());this.__set__&&this.__set__.push(a);return a};oa.glow=function(a){if(this.type=="text")return null;a=a||{};a={width:(a.width||10)+(+this.attr("stroke-width")||1),fill:a.fill||false,opacity:a.opacity||0.5,offsetx:a.offsetx||0,offsety:a.offsety||0,color:a.color||"#000"};var c=a.width/2,e=this.paper,g=e.set(),p=this.realPath||
da[this.type](this);p=this.matrix?ma(p,this.matrix):p;for(var n=1;n<c+1;n++)g.push(e.path(p).attr({stroke:a.color,fill:a.fill?a.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(a.width/c*n).toFixed(3),opacity:+(a.opacity/c).toFixed(3)}));return g.insertBefore(this).translate(a.offsetx,a.offsety)};var ab={},Wa=function(a,c,e,g,p,n,s,z,B){var I=0,L=100,J=[a,c,e,g,p,n,s,z].join(),S=ab[J],O,Y;!S&&(ab[J]=S={data:[]});S.timer&&clearTimeout(S.timer);S.timer=setTimeout(function(){delete ab[J]},
2E3);if(B!=null&&!S.precision){var H=Wa(a,c,e,g,p,n,s,z);S.precision=~~H*10;S.data=[]}L=S.precision||L;for(H=0;H<L+1;H++){S.data[H*L]?Y=S.data[H*L]:(Y=h.findDotsAtSegment(a,c,e,g,p,n,s,z,H/L),S.data[H*L]=Y);H&&(I+=C(C(O.x-Y.x,2)+C(O.y-Y.y,2),0.5));if(B!=null&&I>=B)return Y;O=Y}if(B==null)return I};u=function(a,c){return function(e,g,p){e=Ka(e);for(var n,s,z,B,I="",L={},J=0,S=0,O=e.length;S<O;S++){z=e[S];if(z[0]=="M"){n=+z[1];s=+z[2]}else{B=Wa(n,s,z[1],z[2],z[3],z[4],z[5],z[6]);if(J+B>g){if(c&&!L.start){n=
Wa(n,s,z[1],z[2],z[3],z[4],z[5],z[6],g-J);I+=["C"+n.start.x,n.start.y,n.m.x,n.m.y,n.x,n.y];if(p)return I;L.start=I;I=["M"+n.x,n.y+"C"+n.n.x,n.n.y,n.end.x,n.end.y,z[5],z[6]].join();J+=B;n=+z[5];s=+z[6];continue}if(!a&&!c){n=Wa(n,s,z[1],z[2],z[3],z[4],z[5],z[6],g-J);return{x:n.x,y:n.y,alpha:n.alpha}}}J+=B;n=+z[5];s=+z[6]}I+=z.shift()+z}L.end=I;n=a?J:c?L:h.findDotsAtSegment(n,s,z[0],z[1],z[2],z[3],z[4],z[5],1);n.alpha&&(n={x:n.x,y:n.y,alpha:n.alpha});return n}};var gb=u(1),hb=u(),bb=u(0,1);h.getTotalLength=
gb;h.getPointAtLength=hb;h.getSubpath=function(a,c,e){if(this.getTotalLength(a)-e<1.0E-6)return bb(a,c).end;a=bb(a,e,1);return c?bb(a,c).end:a};oa.getTotalLength=function(){if(this.type=="path"){if(this.node.getTotalLength)return this.node.getTotalLength();return gb(this.attrs.path)}};oa.getPointAtLength=function(a){if(this.type=="path")return hb(this.attrs.path,a)};oa.getSubpath=function(a,c){if(this.type=="path")return h.getSubpath(this.attrs.path,a,c)};u=h.easing_formulas={linear:function(a){return a},
"<":function(a){return C(a,1.7)},">":function(a){return C(a,0.48)},"<>":function(a){var c=0.48-a/1.04,e=k.sqrt(0.1734+c*c);a=e-c;a=C(y(a),1/3)*(a<0?-1:1);c=-e-c;c=C(y(c),1/3)*(c<0?-1:1);a=a+c+0.5;return(1-a)*3*a*a+a*a*a},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){a-=1;return a*a*(2.70158*a+1.70158)+1},elastic:function(a){if(a==!!a)return a;return C(2,-10*a)*k.sin((a-0.075)*2*P/0.3)+1},bounce:function(a){var c;a<1/2.75?c=7.5625*a*a:a<2/2.75?(a-=1.5/2.75,c=7.5625*a*a+0.75):
a<2.5/2.75?(a-=2.25/2.75,c=7.5625*a*a+0.9375):(a-=2.625/2.75,c=7.5625*a*a+0.984375);return c}};u.easeIn=u["ease-in"]=u["<"];u.easeOut=u["ease-out"]=u[">"];u.easeInOut=u["ease-in-out"]=u["<>"];u["back-in"]=u.backIn;u["back-out"]=u.backOut;var pa=[],eb=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,16)},Ya=function(){for(var a=+new Date,c=0;c<pa.length;c++){var e=
pa[c];if(!(e.el.removed||e.paused)){var g=a-e.start,p=e.ms,n=e.easing,s=e.from,z=e.diff,B=e.to,I=e.el,L={},J,S={},O;e.initstatus?(g=(e.initstatus*e.anim.top-e.prev)/(e.percent-e.prev)*p,e.status=e.initstatus,delete e.initstatus,e.stop&&pa.splice(c--,1)):e.status=(e.prev+(e.percent-e.prev)*(g/p))/e.anim.top;if(!(g<0))if(g<p){var Y=n(g/p),H;for(H in s)if(s[M](H)){switch(Ca[H]){case R:J=+s[H]+Y*p*z[H];break;case "colour":J="rgb("+[cb(za(s[H].r+Y*p*z[H].r)),cb(za(s[H].g+Y*p*z[H].g)),cb(za(s[H].b+Y*p*
z[H].b))].join(",")+")";break;case "path":J=[];g=0;for(n=s[H].length;g<n;g++){J[g]=[s[H][g][0]];B=1;for(S=s[H][g].length;B<S;B++)J[g][B]=+s[H][g][B]+Y*p*z[H][g][B];J[g]=J[g].join(na)}J=J.join(na);break;case "transform":if(z[H].real){J=[];g=0;for(n=s[H].length;g<n;g++){J[g]=[s[H][g][0]];B=1;for(S=s[H][g].length;B<S;B++)J[g][B]=s[H][g][B]+Y*p*z[H][g][B]}}else{J=function(N){return+s[H][N]+Y*p*z[H][N]};J=[["m",J(0),J(1),J(2),J(3),J(4),J(5)]]}break;case "csv":if(H=="clip-rect"){J=[];for(g=4;g--;)J[g]=
+s[H][g]+Y*p*z[H][g]}break;default:n=[][V](s[H]);J=[];for(g=I.paper.customAttributes[H].length;g--;)J[g]=+n[g]+Y*p*z[H][g]}L[H]=J}I.attr(L);(function(N,K,ja){setTimeout(function(){eve("anim.frame."+N,K,ja)})})(I.id,I,e.anim)}else{(function(N,K,ja){setTimeout(function(){eve("anim.frame."+K.id,K,ja);eve("anim.finish."+K.id,K,ja);h.is(N,"function")&&N.call(K)})})(e.callback,I,e.anim);I.attr(B);pa.splice(c--,1);if(e.repeat>1&&!e.next){for(O in B)B[M](O)&&(S[O]=e.totalOrigin[O]);e.el.attr(S);v(e.anim,
e.el,e.anim.percents[0],null,e.totalOrigin,e.repeat-1)}e.next&&!e.stop&&v(e.anim,e.el,e.next,null,e.totalOrigin,e.repeat)}}}h.svg&&I&&I.paper&&I.paper.safari();pa.length&&eb(Ya)},cb=function(a){return a>255?255:a<0?0:a};oa.animateWith=function(a,c,e,g,p,n){e=e?h.animation(e,g,p,n):c;status=a.status(c);return this.animate(e).status(e,status*c.ms/e.ms)};oa.onAnimation=function(a){a?eve.on("anim.frame."+this.id,a):eve.unbind("anim.frame."+this.id);return this};d.prototype.delay=function(a){var c=new d(this.anim,
this.ms);c.times=this.times;c.del=+a||0;return c};d.prototype.repeat=function(a){var c=new d(this.anim,this.ms);c.del=this.del;c.times=k.floor(t(a,0))||1;return c};h.animation=function(a,c,e,g){if(a instanceof d)return a;if(h.is(e,"function")||!e){g=g||e||null;e=null}a=Object(a);c=+c||0;var p={},n,s;for(s in a)a[M](s)&&fa(s)!=s&&fa(s)+"%"!=s&&(n=true,p[s]=a[s]);if(!n)return new d(a,c);e&&(p.easing=e);g&&(p.callback=g);return new d({100:p},c)};oa.animate=function(a,c,e,g){if(this.removed){g&&g.call(this);
return this}a=a instanceof d?a:h.animation(a,c,e,g);v(a,this,a.percents[0],null,this.attr());return this};oa.setTime=function(a,c){a&&c!=null&&this.status(a,A(c,a.ms)/a.ms);return this};oa.status=function(a,c){var e=[],g=0,p,n;if(c!=null){v(a,this,-1,A(c,1));return this}for(p=pa.length;g<p;g++){n=pa[g];if(n.el.id==this.id&&(!a||n.anim==a)){if(a)return n.status;e.push({anim:n.anim,status:n.status})}}if(a)return 0;return e};oa.pause=function(a){for(var c=0;c<pa.length;c++)pa[c].el.id==this.id&&(!a||
pa[c].anim==a)&&eve("anim.pause."+this.id,this,pa[c].anim)!==false&&(pa[c].paused=true);return this};oa.resume=function(a){for(var c=0;c<pa.length;c++)if(pa[c].el.id==this.id&&(!a||pa[c].anim==a)){var e=pa[c];eve("anim.resume."+this.id,this,e.anim)!==false&&(delete e.paused,this.status(e.anim,e.status))}return this};oa.stop=function(a){for(var c=0;c<pa.length;c++)pa[c].el.id==this.id&&(!a||pa[c].anim==a)&&eve("anim.stop."+this.id,this,pa[c].anim)!==false&&pa.splice(c--,1);return this};oa.toString=
function(){return"Rapha'l\ufffds object"};var Ra=function(a){this.items=[];this.length=0;this.type="set";if(a)for(var c=0,e=a.length;c<e;c++)a[c]&&(a[c].constructor==oa.constructor||a[c].constructor==Ra)&&(this[this.items.length]=this.items[this.items.length]=a[c],this.length++)};u=Ra.prototype;u.push=function(){for(var a,c,e=0,g=arguments.length;e<g;e++)(a=arguments[e])&&(a.constructor==oa.constructor||a.constructor==Ra)&&(c=this.items.length,this[c]=this.items[c]=a,this.length++);return this};u.pop=
function(){this.length&&delete this[this.length--];return this.items.pop()};u.forEach=function(a,c){for(var e=0,g=this.items.length;e<g;e++)if(a.call(c,this.items[e],e)===false)break;return this};for(var db in oa)oa[M](db)&&(u[db]=function(a){return function(){var c=arguments;return this.forEach(function(e){e[a][aa](e,c)})}}(db));u.attr=function(a,c){if(a&&h.is(a,W)&&h.is(a[0],"object"))for(var e=0,g=a.length;e<g;e++)this.items[e].attr(a[e]);else{e=0;for(g=this.items.length;e<g;e++)this.items[e].attr(a,
c)}return this};u.clear=function(){for(;this.length;)this.pop()};u.splice=function(a,c){a=a<0?t(this.length+a,0):a;c=t(0,A(this.length-a,c));var e=[],g=[],p=[],n;for(n=2;n<arguments.length;n++)p.push(arguments[n]);for(n=0;n<c;n++)g.push(this[a+n]);for(;n<this.length-a;n++)e.push(this[a+n]);var s=p.length;for(n=0;n<s+e.length;n++)this.items[a+n]=this[a+n]=n<s?p[n]:e[n-s];for(n=this.items.length=this.length-=c-s;this[n];)delete this[n++];return new Ra(g)};u.exclude=function(a){for(var c=0,e=this.length;c<
e;c++)if(this[c]==a){this.splice(c,1);return true}};u.animate=function(a,c,e,g){(h.is(e,"function")||!e)&&(g=e||null);var p=this.items.length,n=p,s=this,z;if(!p)return this;g&&(z=function(){!--p&&g.call(s)});e=h.is(e,"string")?e:z;c=h.animation(a,c,e,z);for(a=this.items[--n].animate(c);n--;)this.items[n]&&!this.items[n].removed&&this.items[n].animateWith(a,c);return this};u.insertAfter=function(a){for(var c=this.items.length;c--;)this.items[c].insertAfter(a);return this};u.getBBox=function(){for(var a=
[],c=[],e=[],g=[],p=this.items.length;p--;)if(!this.items[p].removed){var n=this.items[p].getBBox();a.push(n.x);c.push(n.y);e.push(n.x+n.width);g.push(n.y+n.height)}a=A[aa](0,a);c=A[aa](0,c);return{x:a,y:c,width:t[aa](0,e)-a,height:t[aa](0,g)-c}};u.clone=function(a){a=new Ra;for(var c=0,e=this.items.length;c<e;c++)a.push(this.items[c].clone());return a};u.toString=function(){return"Rapha'l\ufffds set"};h.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var c={w:a.w,face:{},glyphs:{}},
e=a.face["font-family"],g;for(g in a.face)a.face[M](g)&&(c.face[g]=a.face[g]);this.fonts[e]?this.fonts[e].push(c):this.fonts[e]=[c];if(!a.svg){c.face["units-per-em"]=ca(a.face["units-per-em"],10);for(var p in a.glyphs)if(a.glyphs[M](p)){e=a.glyphs[p];c.glyphs[p]={w:e.w,k:{},d:e.d&&"M"+e.d.replace(/[mlcxtrv]/g,function(s){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[s]||"M"})+"z"};if(e.k)for(var n in e.k)e[M](n)&&(c.glyphs[p].k[n]=e.k[n])}}return a};Z.getFont=function(a,c,e,g){g=g||"normal";e=e||"normal";
c=+c||{normal:400,bold:700,lighter:300,bolder:800}[c]||400;if(h.fonts){var p=h.fonts[a];if(!p){a=RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var n in h.fonts)if(h.fonts[M](n)&&a.test(n)){p=h.fonts[n];break}}var s;if(p){n=0;for(a=p.length;n<a;n++){s=p[n];if(s.face["font-weight"]==c&&(s.face["font-style"]==e||!s.face["font-style"])&&s.face["font-stretch"]==g)break}}return s}};Z.print=function(a,c,e,g,p,n,s){n=n||"middle";s=t(A(s||0,1),-1);var z=this.set(),B=ha(e)[ua](""),I=
0;h.is(g,e)&&(g=this.getFont(g));if(g){e=(p||16)/g.face["units-per-em"];var L=g.face.bbox[ua](D);p=+L[0];n=+L[1]+(n=="baseline"?L[3]-L[1]+ +g.face.descent:(L[3]-L[1])/2);L=0;for(var J=B.length;L<J;L++){var S=L&&g.glyphs[B[L-1]]||{},O=g.glyphs[B[L]];I+=L?(S.w||g.w)+(S.k&&S.k[B[L]]||0)+g.w*s:0;O&&O.d&&z.push(this.path(O.d).attr({fill:"#000",stroke:"none",transform:[["t",I*e,0]]}))}z.transform(["...s",e,e,p,n,"t",(a-p)/e,(c-n)/e])}return z};h.format=function(a,c){var e=h.is(c,W)?[0][V](c):arguments;
a&&h.is(a,"string")&&e.length-1&&(a=a.replace(x,function(g,p){return e[++p]==null?"":e[p]}));return a||""};h.fullfill=function(){var a=/\{([^\}]+)\}/g,c=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,e=function(g,p,n){var s=n;p.replace(c,function(z,B,I,L,J){B=B||L;s&&(B in s&&(s=s[B]),typeof s=="function"&&J&&(s=s()))});return s=(s==null||s==n?g:s)+""};return function(g,p){return String(g).replace(a,function(n,s){return e(n,s,p)})}}();h.ninja=function(){U.was?F.win.Raphael=U.is:delete Raphael;
return h};h.st=u;(function(a,c,e){function g(){/in/.test(a.readyState)?setTimeout(g,9):h.eve("DOMload")}a.readyState==null&&a.addEventListener&&(a.addEventListener(c,e=function(){a.removeEventListener(c,e,false);a.readyState="complete"},false),a.readyState="loading");g()})(document,"DOMContentLoaded");U.was?F.win.Raphael=h:Raphael=h;eve.on("DOMload",function(){w=true})})();
window.Raphael.svg&&function(v){var d=String,m=parseFloat,j=parseInt,f=Math,r=f.max,l=f.abs,q=f.pow,h=/[, ]+/,w=v.eve,D={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},G={};v.toString=function(){return"Your browser supports SVG.\nYou are running Rapha'l "+this.version};var x=function(b,o){if(o){typeof b=="string"&&(b=x(b));for(var k in o)o.hasOwnProperty(k)&&(k.substring(0,
6)=="xlink:"?b.setAttributeNS("http://www.w3.org/1999/xlink",k.substring(6),d(o[k])):b.setAttribute(k,d(o[k])))}else{b=v._g.doc.createElementNS("http://www.w3.org/2000/svg",b);b.style&&(b.style.webkitTapHighlightColor="rgba(0,0,0,0)")}return b},M=function(b,o){var k="linear",t=b.id+o,A=0.5,y=0.5,C=b.node,P=b.paper,R=C.style,W=v._g.doc.getElementById(t);if(!W){o=d(o).replace(v._radial_gradient,function(ka,ta,za){k="radial";if(ta&&za){A=m(ta);y=m(za);ka=(y>0.5)*2-1;q(A-0.5,2)+q(y-0.5,2)>0.25&&(y=f.sqrt(0.25-
q(A-0.5,2))*ka+0.5)&&y!=0.5&&(y=y.toFixed(5)-1.0E-5*ka)}return""});o=o.split(/\s*\-\s*/);if(k=="linear"){W=o.shift();W=-m(W);if(isNaN(W))return null;var T=[0,0,f.cos(v.rad(W)),f.sin(v.rad(W))];W=1/(r(l(T[2]),l(T[3]))||1);T[2]*=W;T[3]*=W;T[2]<0&&(T[0]=-T[2],T[2]=0);T[3]<0&&(T[1]=-T[3],T[3]=0)}var la=v._parseDots(o);if(!la)return null;b.gradient&&(P.defs.removeChild(b.gradient),delete b.gradient);t=t.replace(/[\(\)\s,\xb0#]/g,"-");W=x(k+"Gradient",{id:t});b.gradient=W;x(W,k=="radial"?{fx:A,fy:y}:{x1:T[0],
y1:T[1],x2:T[2],y2:T[3],gradientTransform:b.matrix.invert()});P.defs.appendChild(W);P=0;for(T=la.length;P<T;P++)W.appendChild(x("stop",{offset:la[P].offset?la[P].offset:P?"100%":"0%","stop-color":la[P].color||"#fff"}))}x(C,{fill:"url(#"+t+")",opacity:1,"fill-opacity":1});R.fill="";R.opacity=1;return R.fillOpacity=1},F=function(b){var o=b.getBBox(1);x(b.pattern,{patternTransform:b.matrix.invert()+" translate("+o.x+","+o.y+")"})},U=function(b,o,k){if(b.type=="path"){for(var t=d(o).toLowerCase().split("-"),
A=b.paper,y=k?"end":"start",C=b.node,P=b.attrs,R=P["stroke-width"],W=t.length,T="classic",la,ka,ta,za,fa,ca=3,xa=3,Da=5;W--;)switch(t[W]){case "block":case "classic":case "oval":case "diamond":case "open":case "none":T=t[W];break;case "wide":xa=5;break;case "narrow":xa=2;break;case "long":ca=5;break;case "short":ca=2}T=="open"?(ca+=2,xa+=2,Da+=2,ta=1,za=k?4:1,fa={fill:"none",stroke:P.stroke}):(za=ta=ca/2,fa={fill:P.stroke,stroke:"none"});b._.arrows?k?(b._.arrows.endPath&&G[b._.arrows.endPath]--,b._.arrows.endMarker&&
G[b._.arrows.endMarker]--):(b._.arrows.startPath&&G[b._.arrows.startPath]--,b._.arrows.startMarker&&G[b._.arrows.startMarker]--):b._.arrows={};if(T!="none"){t="raphael-marker-"+T;W="raphael-marker-"+y+T+ca+xa;v._g.doc.getElementById(t)?G[t]++:(A.defs.appendChild(x(x("path"),{"stroke-linecap":"round",d:D[T],id:t})),G[t]=1);var Ca=v._g.doc.getElementById(W),ya;Ca?(G[W]++,ya=Ca.getElementsByTagName("use")[0]):(Ca=x(x("marker"),{id:W,markerHeight:xa,markerWidth:ca,orient:"auto",refX:za,refY:xa/2}),ya=
x(x("use"),{"xlink:href":"#"+t,transform:(k?" rotate(180 "+ca/2+" "+xa/2+") ":" ")+"scale("+ca/Da+","+xa/Da+")","stroke-width":1/((ca/Da+xa/Da)/2)}),Ca.appendChild(ya),A.defs.appendChild(Ca),G[W]=1);x(ya,fa);A=ta*(T!="diamond"&&T!="oval");k?(la=b._.arrows.startdx*R||0,ka=v.getTotalLength(P.path)-A*R):(la=A*R,ka=v.getTotalLength(P.path)-(b._.arrows.enddx*R||0));fa={};fa["marker-"+y]="url(#"+W+")";if(ka||la)fa.d=Raphael.getSubpath(P.path,la,ka);x(C,fa);b._.arrows[y+"Path"]=t;b._.arrows[y+"Marker"]=
W;b._.arrows[y+"dx"]=A;b._.arrows[y+"Type"]=T;b._.arrows[y+"String"]=o}else{k?(la=b._.arrows.startdx*R||0,ka=v.getTotalLength(P.path)-la):(la=0,ka=v.getTotalLength(P.path)-(b._.arrows.enddx*R||0));b._.arrows[y+"Path"]&&x(C,{d:Raphael.getSubpath(P.path,la,ka)});delete b._.arrows[y+"Path"];delete b._.arrows[y+"Marker"];delete b._.arrows[y+"dx"];delete b._.arrows[y+"Type"];delete b._.arrows[y+"String"]}for(fa in G)if(G.hasOwnProperty(fa)&&!G[fa])(b=v._g.doc.getElementById(fa))&&b.parentNode.removeChild(b)}},
Z={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},aa=function(b,o,k){if(o=Z[d(o).toLowerCase()]){var t=b.attrs["stroke-width"]||"1";k={round:t,square:t,butt:0}[b.attrs["stroke-linecap"]||k["stroke-linecap"]]||0;for(var A=[],y=o.length;y--;)A[y]=o[y]*t+(y%2?1:-1)*k;x(b.node,{"stroke-dasharray":A.join(",")})}},V=function(b,o){var k=b.node,t=b.attrs,A=k.style.visibility;k.style.visibility="hidden";
for(var y in o)if(o.hasOwnProperty(y))if(v._availableAttrs.hasOwnProperty(y)){var C=o[y];t[y]=C;switch(y){case "blur":b.blur(C);break;case "href":case "title":case "target":var P=k.parentNode;if(P.tagName.toLowerCase()!="a"){var R=x("a");P.insertBefore(R,k);R.appendChild(k);P=R}y=="target"&&C=="blank"?P.setAttributeNS("http://www.w3.org/1999/xlink","show","new"):P.setAttributeNS("http://www.w3.org/1999/xlink",y,C);break;case "cursor":k.style.cursor=C;break;case "transform":b.transform(C);break;case "arrow-start":U(b,
C);break;case "arrow-end":U(b,C,1);break;case "clip-rect":P=d(C).split(h);if(P.length==4){b.clip&&b.clip.parentNode.parentNode.removeChild(b.clip.parentNode);R=x("clipPath");var W=x("rect");R.id=v.createUUID();x(W,{x:P[0],y:P[1],width:P[2],height:P[3]});R.appendChild(W);b.paper.defs.appendChild(R);x(k,{"clip-path":"url(#"+R.id+")"});b.clip=W}if(!C){(C=v._g.doc.getElementById(k.getAttribute("clip-path").replace(/(^url\(#|\)$)/g,"")))&&C.parentNode.removeChild(C);x(k,{"clip-path":""});delete b.clip}break;
case "path":b.type=="path"&&(x(k,{d:C?t.path=v._pathToAbsolute(C):"M0,0"}),b._.dirty=1,b._.arrows&&("startString"in b._.arrows&&U(b,b._.arrows.startString),"endString"in b._.arrows&&U(b,b._.arrows.endString,1)));break;case "width":k.setAttribute(y,C);b._.dirty=1;if(t.fx){y="x";C=t.x}else break;case "x":t.fx&&(C=-t.x-(t.width||0));case "rx":if(y=="rx"&&b.type=="rect")break;case "cx":k.setAttribute(y,C);b.pattern&&F(b);b._.dirty=1;break;case "height":k.setAttribute(y,C);b._.dirty=1;if(t.fy){y="y";C=
t.y}else break;case "y":t.fy&&(C=-t.y-(t.height||0));case "ry":if(y=="ry"&&b.type=="rect")break;case "cy":k.setAttribute(y,C);b.pattern&&F(b);b._.dirty=1;break;case "r":b.type=="rect"?x(k,{rx:C,ry:C}):k.setAttribute(y,C);b._.dirty=1;break;case "src":b.type=="image"&&k.setAttributeNS("http://www.w3.org/1999/xlink","href",C);break;case "stroke-width":if(b._.sx!=1||b._.sy!=1)C/=r(l(b._.sx),l(b._.sy))||1;b.paper._vbSize&&(C*=b.paper._vbSize);k.setAttribute(y,C);t["stroke-dasharray"]&&aa(b,t["stroke-dasharray"],
o);b._.arrows&&("startString"in b._.arrows&&U(b,b._.arrows.startString),"endString"in b._.arrows&&U(b,b._.arrows.endString,1));break;case "stroke-dasharray":aa(b,C,o);break;case "fill":var T=d(C).match(v._ISURL);if(T){R=x("pattern");var la=x("image");R.id=v.createUUID();x(R,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});x(la,{x:0,y:0,"xlink:href":T[1]});R.appendChild(la);(function(ta){v._preload(T[1],function(){var za=this.offsetWidth,fa=this.offsetHeight;x(ta,{width:za,height:fa});x(la,
{width:za,height:fa});b.paper.safari()})})(R);b.paper.defs.appendChild(R);k.style.fill="url(#"+R.id+")";x(k,{fill:"url(#"+R.id+")"});b.pattern=R;b.pattern&&F(b);break}P=v.getRGB(C);if(P.error){if((b.type=="circle"||b.type=="ellipse"||d(C).charAt()!="r")&&M(b,C)){if("opacity"in t||"fill-opacity"in t)if(P=v._g.doc.getElementById(k.getAttribute("fill").replace(/^url\(#|\)$/g,""))){var ka=P.getElementsByTagName("stop");x(ka[ka.length-1],{"stop-opacity":("opacity"in t?t.opacity:1)*("fill-opacity"in t?
t["fill-opacity"]:1)})}t.gradient=C;t.fill="none";break}}else{delete o.gradient;delete t.gradient;!v.is(t.opacity,"undefined")&&v.is(o.opacity,"undefined")&&x(k,{opacity:t.opacity});!v.is(t["fill-opacity"],"undefined")&&v.is(o["fill-opacity"],"undefined")&&x(k,{"fill-opacity":t["fill-opacity"]})}P.hasOwnProperty("opacity")&&x(k,{"fill-opacity":P.opacity>1?P.opacity/100:P.opacity});case "stroke":P=v.getRGB(C);k.setAttribute(y,P.hex);y=="stroke"&&P.hasOwnProperty("opacity")&&x(k,{"stroke-opacity":P.opacity>
1?P.opacity/100:P.opacity});y=="stroke"&&b._.arrows&&("startString"in b._.arrows&&U(b,b._.arrows.startString),"endString"in b._.arrows&&U(b,b._.arrows.endString,1));break;case "gradient":(b.type=="circle"||b.type=="ellipse"||d(C).charAt()!="r")&&M(b,C);break;case "opacity":t.gradient&&!t.hasOwnProperty("stroke-opacity")&&x(k,{"stroke-opacity":C>1?C/100:C});case "fill-opacity":if(t.gradient){(P=v._g.doc.getElementById(k.getAttribute("fill").replace(/^url\(#|\)$/g,"")))&&(ka=P.getElementsByTagName("stop"),
x(ka[ka.length-1],{"stop-opacity":C}));break}default:y=="font-size"&&(C=j(C,10)+"px");P=y.replace(/(\-.)/g,function(ta){return ta.substring(1).toUpperCase()});k.style[P]=C;b._.dirty=1;k.setAttribute(y,C)}}ia(b,o);k.style.visibility=A},ia=function(b,o){if(b.type=="text"&&(o.hasOwnProperty("text")||o.hasOwnProperty("font")||o.hasOwnProperty("font-size")||o.hasOwnProperty("x")||o.hasOwnProperty("y"))){var k=b.attrs,t=b.node,A=t.firstChild?j(v._g.doc.defaultView.getComputedStyle(t.firstChild,"").getPropertyValue("font-size"),
10):10;if(o.hasOwnProperty("text")){for(k.text=o.text;t.firstChild;)t.removeChild(t.firstChild);for(var y=d(o.text).split("\n"),C=[],P,R=0,W=y.length;R<W;R++){P=x("tspan");R&&x(P,{dy:A*1.2,x:k.x});P.appendChild(v._g.doc.createTextNode(y[R]));t.appendChild(P);C[R]=P}}else{C=t.getElementsByTagName("tspan");R=0;for(W=C.length;R<W;R++)R?x(C[R],{dy:A*1.2,x:k.x}):x(C[0],{dy:0})}x(t,{x:k.x,y:k.y});b._.dirty=1;t=b._getBBox();(k=k.y-(t.y+t.height/2))&&v.is(k,"finite")&&x(C[0],{dy:k})}},na=function(b,o){this[0]=
this.node=b;b.raphael=true;this.id=v._oid++;b.raphaelid=this.id;this.matrix=v.matrix();this.realPath=null;this.paper=o;this.attrs=this.attrs||{};this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1};!o.bottom&&(o.bottom=this);(this.prev=o.top)&&(o.top.next=this);o.top=this;this.next=null},ha=v.el;na.prototype=ha;ha.constructor=na;v._engine.path=function(b,o){var k=x("path");o.canvas&&o.canvas.appendChild(k);k=new na(k,o);k.type="path";V(k,{fill:"none",stroke:"#000",path:b});return k};ha.rotate=
function(b,o,k){if(this.removed)return this;b=d(b).split(h);b.length-1&&(o=m(b[1]),k=m(b[2]));b=m(b[0]);k==null&&(o=k);if(o==null||k==null){k=this.getBBox(1);o=k.x+k.width/2;k=k.y+k.height/2}this.transform(this._.transform.concat([["r",b,o,k]]));return this};ha.scale=function(b,o,k,t){if(this.removed)return this;b=d(b).split(h);b.length-1&&(o=m(b[1]),k=m(b[2]),t=m(b[3]));b=m(b[0]);o==null&&(o=b);t==null&&(k=t);if(k==null||t==null)var A=this.getBBox(1);k=k==null?A.x+A.width/2:k;t=t==null?A.y+A.height/
2:t;this.transform(this._.transform.concat([["s",b,o,k,t]]));return this};ha.translate=function(b,o){if(this.removed)return this;b=d(b).split(h);b.length-1&&(o=m(b[1]));b=m(b[0])||0;o=+o||0;this.transform(this._.transform.concat([["t",b,o]]));return this};ha.transform=function(b){var o=this._;if(b==null)return o.transform;v._extractTransform(this,b);this.clip&&x(this.clip,{transform:this.matrix.invert()});this.pattern&&F(this);this.node&&x(this.node,{transform:this.matrix});if(o.sx!=1||o.sy!=1)this.attr({"stroke-width":this.attrs.hasOwnProperty("stroke-width")?
this.attrs["stroke-width"]:1});return this};ha.hide=function(){!this.removed&&this.paper.safari(this.node.style.display="none");return this};ha.show=function(){!this.removed&&this.paper.safari(this.node.style.display="");return this};ha.remove=function(){if(!this.removed){this.paper.__set__&&this.paper.__set__.exclude(this);w.unbind("*.*."+this.id);v._tear(this,this.paper);this.node.parentNode.removeChild(this.node);for(var b in this)delete this[b];this.removed=true}};ha._getBBox=function(){if(this.node.style.display==
"none"){this.show();var b=true}var o={};try{o=this.node.getBBox()}catch(k){}finally{o=o||{}}b&&this.hide();return o};ha.attr=function(b,o){if(this.removed)return this;if(b==null){var k={},t;for(t in this.attrs)this.attrs.hasOwnProperty(t)&&(k[t]=this.attrs[t]);k.gradient&&k.fill=="none"&&(k.fill=k.gradient)&&delete k.gradient;k.transform=this._.transform;return k}if(o==null&&v.is(b,"string")){if(b=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;if(b=="transform")return this._.transform;
t=b.split(h);k={};for(var A=0,y=t.length;A<y;A++){b=t[A];b in this.attrs?k[b]=this.attrs[b]:v.is(this.paper.customAttributes[b],"function")?k[b]=this.paper.customAttributes[b].def:k[b]=v._availableAttrs[b]}return y-1?k:k[t[0]]}if(o==null&&v.is(b,"array")){k={};A=0;for(y=b.length;A<y;A++)k[b[A]]=this.attr(b[A]);return k}if(o!=null){k={};k[b]=o}else b!=null&&v.is(b,"object")&&(k=b);for(A in k)w("attr."+A+"."+this.id,this,k[A]);for(A in this.paper.customAttributes)if(this.paper.customAttributes.hasOwnProperty(A)&&
k.hasOwnProperty(A)&&v.is(this.paper.customAttributes[A],"function")){t=this.paper.customAttributes[A].apply(this,[].concat(k[A]));this.attrs[A]=k[A];for(y in t)t.hasOwnProperty(y)&&(k[y]=t[y])}V(this,k);return this};ha.toFront=function(){if(this.removed)return this;this.node.parentNode.appendChild(this.node);var b=this.paper;b.top!=this&&v._tofront(this,b);return this};ha.toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,
this.node.parentNode.firstChild);v._toback(this,this.paper)}return this};ha.insertAfter=function(b){if(this.removed)return this;var o=b.node||b[b.length-1].node;o.nextSibling?o.parentNode.insertBefore(this.node,o.nextSibling):o.parentNode.appendChild(this.node);v._insertafter(this,b,this.paper);return this};ha.insertBefore=function(b){if(this.removed)return this;var o=b.node||b[0].node;o.parentNode.insertBefore(this.node,o);v._insertbefore(this,b,this.paper);return this};ha.blur=function(b){if(+b!==
0){var o=x("filter"),k=x("feGaussianBlur");this.attrs.blur=b;o.id=v.createUUID();x(k,{stdDeviation:+b||1.5});o.appendChild(k);this.paper.defs.appendChild(o);this._blur=o;x(this.node,{filter:"url(#"+o.id+")"})}else{this._blur&&(this._blur.parentNode.removeChild(this._blur),delete this._blur,delete this.attrs.blur);this.node.removeAttribute("filter")}};v._engine.circle=function(b,o,k,t){var A=x("circle");b.canvas&&b.canvas.appendChild(A);b=new na(A,b);b.attrs={cx:o,cy:k,r:t,fill:"none",stroke:"#000"};
b.type="circle";x(A,b.attrs);return b};v._engine.rect=function(b,o,k,t,A,y){var C=x("rect");b.canvas&&b.canvas.appendChild(C);b=new na(C,b);b.attrs={x:o,y:k,width:t,height:A,r:y||0,rx:y||0,ry:y||0,fill:"none",stroke:"#000"};b.type="rect";x(C,b.attrs);return b};v._engine.ellipse=function(b,o,k,t,A){var y=x("ellipse");b.canvas&&b.canvas.appendChild(y);b=new na(y,b);b.attrs={cx:o,cy:k,rx:t,ry:A,fill:"none",stroke:"#000"};b.type="ellipse";x(y,b.attrs);return b};v._engine.image=function(b,o,k,t,A,y){var C=
x("image");x(C,{x:k,y:t,width:A,height:y,preserveAspectRatio:"none"});C.setAttributeNS("http://www.w3.org/1999/xlink","href",o);b.canvas&&b.canvas.appendChild(C);b=new na(C,b);b.attrs={x:k,y:t,width:A,height:y,src:o};b.type="image";return b};v._engine.text=function(b,o,k,t){var A=x("text");b.canvas&&b.canvas.appendChild(A);b=new na(A,b);b.attrs={x:o,y:k,"text-anchor":"middle",text:t,font:v._availableAttrs.font,stroke:"none",fill:"#000"};b.type="text";V(b,b.attrs);return b};v._engine.setSize=function(b,
o){this.width=b||this.width;this.height=o||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);this._viewBox&&this.setViewBox.apply(this,this._viewBox);return this};v._engine.create=function(){var b=v._getContainer.apply(0,arguments),o=b&&b.container,k=b.x,t=b.y,A=b.width;b=b.height;if(!o)throw Error("SVG container not found.");var y=x("svg"),C;k=k||0;t=t||0;A=A||512;b=b||342;x(y,{height:b,version:1.1,width:A,xmlns:"http://www.w3.org/2000/svg"});
o==1?(y.style.cssText="overflow:hidden;position:absolute;left:"+k+"px;top:"+t+"px",v._g.doc.body.appendChild(y),C=1):(y.style.cssText="overflow:hidden;position:relative",o.firstChild?o.insertBefore(y,o.firstChild):o.appendChild(y));o=new v._Paper;o.width=A;o.height=b;o.canvas=y;o.clear();o._left=o._top=0;C&&(o.renderfix=function(){});o.renderfix();return o};v._engine.setViewBox=function(b,o,k,t,A){w("setViewBox",this,this._viewBox,[b,o,k,t,A]);var y=r(k/this.width,t/this.height),C=this.top,P=A?"meet":
"xMinYMin",R;b==null?(this._vbSize&&(y=1),delete this._vbSize,R="0 0 "+this.width+" "+this.height):(this._vbSize=y,R=b+" "+o+" "+k+" "+t);for(x(this.canvas,{viewBox:R,preserveAspectRatio:P});y&&C;){P="stroke-width"in C.attrs?C.attrs["stroke-width"]:1;C.attr({"stroke-width":P});C._.dirty=1;C._.dirtyT=1;C=C.prev}this._viewBox=[b,o,k,t,!!A];return this};v.prototype.renderfix=function(){var b=this.canvas,o=b.style,k=b.getScreenCTM()||b.createSVGMatrix();b=-k.e%1;k=-k.f%1;if(b||k){b&&(this._left=(this._left+
b)%1,o.left=this._left+"px");k&&(this._top=(this._top+k)%1,o.top=this._top+"px")}};v.prototype.clear=function(){v.eve("clear",this);for(var b=this.canvas;b.firstChild;)b.removeChild(b.firstChild);this.bottom=this.top=null;(this.desc=x("desc")).appendChild(v._g.doc.createTextNode("Created with Rapha'l "+v.version));b.appendChild(this.desc);b.appendChild(this.defs=x("defs"))};v.prototype.remove=function(){w("remove",this);this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]=
removed(b)};var ua=v.st,u;for(u in ha)ha.hasOwnProperty(u)&&!ua.hasOwnProperty(u)&&(ua[u]=function(b){return function(){var o=arguments;return this.forEach(function(k){k[b].apply(k,o)})}}(u))}(window.Raphael);
window.Raphael.vml&&function(v){var d=String,m=parseFloat,j=Math,f=j.round,r=j.max,l=j.min,q=j.abs,h=/[, ]+/,w=v.eve,D={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},G=/([clmz]),?([^clmz]*)/gi,x=/ progid:\S+Blur\([^\)]+\)/g,M=/-?[^,\s-]+/g,F={path:1,rect:1,image:1},U={circle:1,ellipse:1},Z=function(u){var b=/[ahqstv]/ig,o=v._pathToAbsolute;d(u).match(b)&&(o=v._path2curve);b=/[clmz]/g;if(o==v._pathToAbsolute&&!d(u).match(b))return u=d(u).replace(G,function(P,R,W){var T=[],la=R.toLowerCase()=="m",
ka=D[R];W.replace(M,function(ta){la&&T.length==2&&(ka+=T+D[R=="m"?"l":"L"],T=[]);T.push(f(ta*21600))});return ka+T});b=o(u);var k;u=[];for(var t=0,A=b.length;t<A;t++){o=b[t];k=b[t][0].toLowerCase();k=="z"&&(k="x");for(var y=1,C=o.length;y<C;y++)k+=f(o[y]*21600)+(y!=C-1?",":"");u.push(k)}return u.join(" ")},aa=function(u,b,o){var k=v.matrix();k.rotate(-u,0.5,0.5);return{dx:k.x(b,o),dy:k.y(b,o)}},V=function(u,b,o,k,t,A){var y=u._,C=u.matrix,P=y.fillpos;u=u.node;var R=u.style,W=1,T="",la=21600/b,ka=
21600/o;R.visibility="hidden";if(b&&o){u.coordsize=q(la)+" "+q(ka);R.rotation=A*(b*o<0?-1:1);if(A){var ta=aa(A,k,t);k=ta.dx;t=ta.dy}b<0&&(T+="x");o<0&&(T+=" y")&&(W=-1);R.flip=T;u.coordorigin=k*-la+" "+t*-ka;if(P||y.fillsize){k=(k=u.getElementsByTagName("fill"))&&k[0];u.removeChild(k);P&&(ta=aa(A,C.x(P[0],P[1]),C.y(P[0],P[1])),k.position=ta.dx*W+" "+ta.dy*W);y.fillsize&&(k.size=y.fillsize[0]*q(b)+" "+y.fillsize[1]*q(o));u.appendChild(k)}R.visibility="visible"}};v.toString=function(){return"Your browser doesn\ufffdt support SVG. Falling down to VML.\nYou are running Rapha'l "+
this.version};addArrow=function(u,b,o){b=d(b).toLowerCase().split("-");o=o?"end":"start";for(var k=b.length,t="classic",A="medium",y="medium";k--;)switch(b[k]){case "block":case "classic":case "oval":case "diamond":case "open":case "none":t=b[k];break;case "wide":case "narrow":y=b[k];break;case "long":case "short":A=b[k]}u=u.node.getElementsByTagName("stroke")[0];u[o+"arrow"]=t;u[o+"arrowlength"]=A;u[o+"arrowwidth"]=y};setFillAndStroke=function(u,b){u.attrs=u.attrs||{};var o=u.node,k=u.attrs,t=o.style,
A=F[u.type]&&(b.x!=k.x||b.y!=k.y||b.width!=k.width||b.height!=k.height||b.cx!=k.cx||b.cy!=k.cy||b.rx!=k.rx||b.ry!=k.ry||b.r!=k.r),y=U[u.type]&&(k.cx!=b.cx||k.cy!=b.cy||k.r!=b.r||k.rx!=b.rx||k.ry!=b.ry),C;for(C in b)b.hasOwnProperty(C)&&(k[C]=b[C]);A&&(k.path=v._getPath[u.type](u),u._.dirty=1);b.href&&(o.href=b.href);b.title&&(o.title=b.title);b.target&&(o.target=b.target);b.cursor&&(t.cursor=b.cursor);"blur"in b&&u.blur(b.blur);if(b.path&&u.type=="path"||A){o.path=Z(~d(k.path).toLowerCase().indexOf("r")?
v._pathToAbsolute(k.path):k.path);u.type=="image"&&(u._.fillpos=[k.x,k.y],u._.fillsize=[k.width,k.height],V(u,1,1,0,0,0))}"transform"in b&&u.transform(b.transform);if(y){t=+k.cx;A=+k.cy;y=+k.rx||+k.r||0;C=+k.ry||+k.r||0;o.path=v.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",f((t-y)*21600),f((A-C)*21600),f((t+y)*21600),f((A+C)*21600),f(t*21600))}if("clip-rect"in b){t=d(b["clip-rect"]).split(h);if(t.length==4){t[2]=+t[2]+ +t[0];t[3]=+t[3]+ +t[1];A=o.clipRect||v._g.doc.createElement("div");y=A.style;y.clip=
v.format("rect({1}px {2}px {3}px {0}px)",t);o.clipRect||(y.position="absolute",y.top=0,y.left=0,y.width=u.paper.width+"px",y.height=u.paper.height+"px",o.parentNode.insertBefore(A,o),A.appendChild(o),o.clipRect=A)}b["clip-rect"]||o.clipRect&&(o.clipRect.style.clip="")}if(u.textpath){t=u.textpath.style;b.font&&(t.font=b.font);b["font-family"]&&(t.fontFamily='"'+b["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"');b["font-size"]&&(t.fontSize=b["font-size"]);b["font-weight"]&&(t.fontWeight=
b["font-weight"]);b["font-style"]&&(t.fontStyle=b["font-style"])}"arrow-start"in b&&addArrow(u,b["arrow-start"]);"arrow-end"in b&&addArrow(u,b["arrow-end"],1);if(b.opacity!=null||b["stroke-width"]!=null||b.fill!=null||b.src!=null||b.stroke!=null||b["stroke-width"]!=null||b["stroke-opacity"]!=null||b["fill-opacity"]!=null||b["stroke-dasharray"]!=null||b["stroke-miterlimit"]!=null||b["stroke-linejoin"]!=null||b["stroke-linecap"]!=null){t=(t=o.getElementsByTagName("fill"))&&t[0];!t&&(t=na("fill"));u.type==
"image"&&b.src&&(t.src=b.src);b.fill&&(t.on=true);if(t.on==null||b.fill=="none"||b.fill===null)t.on=false;if(t.on&&b.fill)if(A=d(b.fill).match(v._ISURL)){t.parentNode==o&&o.removeChild(t);t.rotate=true;t.src=A[1];t.type="tile";y=u.getBBox(1);t.position=y.x+" "+y.y;u._.fillpos=[y.x,y.y];v._preload(A[1],function(){u._.fillsize=[this.offsetWidth,this.offsetHeight]})}else{t.color=v.getRGB(b.fill).hex;t.src="";t.type="solid";v.getRGB(b.fill).error&&(u.type in{circle:1,ellipse:1}||d(b.fill).charAt()!="r")&&
addGradientFill(u,b.fill,t)&&(k.fill="none",k.gradient=b.fill,t.rotate=false)}if("fill-opacity"in b||"opacity"in b){y=((+k["fill-opacity"]+1||2)-1)*((+k.opacity+1||2)-1)*((+v.getRGB(b.fill).o+1||2)-1);y=l(r(y,0),1);t.opacity=y;t.src&&(t.color="none")}o.appendChild(t);t=o.getElementsByTagName("stroke")&&o.getElementsByTagName("stroke")[0];A=false;!t&&(A=t=na("stroke"));if(b.stroke&&b.stroke!="none"||b["stroke-width"]||b["stroke-opacity"]!=null||b["stroke-dasharray"]||b["stroke-miterlimit"]||b["stroke-linejoin"]||
b["stroke-linecap"])t.on=true;(b.stroke=="none"||b.stroke===null||t.on==null||b.stroke==0||b["stroke-width"]==0)&&(t.on=false);y=v.getRGB(b.stroke);t.on&&b.stroke&&(t.color=y.hex);y=((+k["stroke-opacity"]+1||2)-1)*((+k.opacity+1||2)-1)*((+y.o+1||2)-1);C=(m(b["stroke-width"])||1)*0.75;y=l(r(y,0),1);b["stroke-width"]==null&&(C=k["stroke-width"]);b["stroke-width"]&&(t.weight=C);C&&C<1&&(y*=C)&&(t.weight=1);t.opacity=y;b["stroke-linejoin"]&&(t.joinstyle=b["stroke-linejoin"]||"miter");t.miterlimit=b["stroke-miterlimit"]||
8;b["stroke-linecap"]&&(t.endcap=b["stroke-linecap"]=="butt"?"flat":b["stroke-linecap"]=="square"?"square":"round");if(b["stroke-dasharray"]){y={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};t.dashstyle=y.hasOwnProperty(b["stroke-dasharray"])?y[b["stroke-dasharray"]]:""}A&&o.appendChild(t)}if(u.type=="text"){u.paper.canvas.style.display="";o=u.paper.span;A=k.font&&k.font.match(/\d+(?:\.\d*)?(?=px)/);
t=o.style;k.font&&(t.font=k.font);k["font-family"]&&(t.fontFamily=k["font-family"]);k["font-weight"]&&(t.fontWeight=k["font-weight"]);k["font-style"]&&(t.fontStyle=k["font-style"]);A=m(A?A[0]:k["font-size"]);t.fontSize=A*100+"px";u.textpath.string&&(o.innerHTML=d(u.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));o=o.getBoundingClientRect();u.W=k.w=(o.right-o.left)/100;u.H=k.h=(o.bottom-o.top)/100;u.X=k.x;u.Y=k.y+u.H/2;("x"in b||"y"in b)&&(u.path.v=v.format("m{0},{1}l{2},{1}",
f(k.x*21600),f(k.y*21600),f(k.x*21600)+1));o=["x","y","text","font","font-family","font-weight","font-style","font-size"];t=0;for(A=o.length;t<A;t++)if(o[t]in b){u._.dirty=1;break}switch(k["text-anchor"]){case "start":u.textpath.style["v-text-align"]="left";u.bbx=u.W/2;break;case "end":u.textpath.style["v-text-align"]="right";u.bbx=-u.W/2;break;default:u.textpath.style["v-text-align"]="center";u.bbx=0}u.textpath.style["v-text-kern"]=true}};addGradientFill=function(u,b,o){u.attrs=u.attrs||{};var k=
Math.pow,t="linear",A=".5 .5";u.attrs.gradient=b;b=d(b).replace(v._radial_gradient,function(W,T,la){t="radial";T&&la&&(T=m(T),la=m(la),k(T-0.5,2)+k(la-0.5,2)>0.25&&(la=j.sqrt(0.25-k(T-0.5,2))*((la>0.5)*2-1)+0.5),A=T+" "+la);return""});b=b.split(/\s*\-\s*/);if(t=="linear"){var y=b.shift();y=-m(y);if(isNaN(y))return null}b=v._parseDots(b);if(!b)return null;u=u.shape||u.node;if(b.length){u.removeChild(o);o.on=true;o.method="none";o.color=b[0].color;o.color2=b[b.length-1].color;for(var C=[],P=0,R=b.length;P<
R;P++)b[P].offset&&C.push(b[P].offset+" "+b[P].color);o.colors=C.length?C.join():"0% "+o.color;t=="radial"?(o.type="gradientTitle",o.focus="100%",o.focussize="0 0",o.focusposition=A,o.angle=0):(o.type="gradient",o.angle=(270-y)%360);u.appendChild(o)}return 1};Element=function(u,b){this[0]=this.node=u;u.raphael=true;this.id=v._oid++;u.raphaelid=this.id;this.Y=this.X=0;this.attrs={};this.paper=b;this.matrix=v.matrix();this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1};!b.bottom&&(b.bottom=
this);(this.prev=b.top)&&(b.top.next=this);b.top=this;this.next=null};var ia=v.el;Element.prototype=ia;ia.constructor=Element;ia.transform=function(u){if(u==null)return this._.transform;var b=this.paper._viewBoxShift,o=b?"s"+[b.scale,b.scale]+"-1-1t"+[b.dx,b.dy]:"",k;b&&(k=u=d(u).replace(/\.{3}|\u2026/g,this._.transform||""));v._extractTransform(this,o+u);b=this.matrix.clone();var t=this.skew;u=this.node;o=~d(this.attrs.fill).indexOf("-");var A=!d(this.attrs.fill).indexOf("url(");b.translate(-0.5,
-0.5);if(A||o||this.type=="image"){t.matrix="1 0 0 1";t.offset="0 0";t=b.split();if(o&&t.noRotation||!t.isSimple){u.style.filter=b.toFilter();o=this.getBBox();t=this.getBBox(1);b=o.x-t.x;o=o.y-t.y;u.coordorigin=b*-21600+" "+o*-21600;V(this,1,1,b,o,0)}else{u.style.filter="";V(this,t.scalex,t.scaley,t.dx,t.dy,t.rotate)}}else{u.style.filter="";t.matrix=d(b);t.offset=b.offset()}k&&(this._.transform=k);return this};ia.rotate=function(u,b,o){if(this.removed)return this;if(u!=null){u=d(u).split(h);u.length-
1&&(b=m(u[1]),o=m(u[2]));u=m(u[0]);o==null&&(b=o);if(b==null||o==null){o=this.getBBox(1);b=o.x+o.width/2;o=o.y+o.height/2}this._.dirtyT=1;this.transform(this._.transform.concat([["r",u,b,o]]));return this}};ia.translate=function(u,b){if(this.removed)return this;u=d(u).split(h);u.length-1&&(b=m(u[1]));u=m(u[0])||0;b=+b||0;this._.bbox&&(this._.bbox.x+=u,this._.bbox.y+=b);this.transform(this._.transform.concat([["t",u,b]]));return this};ia.scale=function(u,b,o,k){if(this.removed)return this;u=d(u).split(h);
u.length-1&&(b=m(u[1]),o=m(u[2]),k=m(u[3]),isNaN(o)&&(o=null),isNaN(k)&&(k=null));u=m(u[0]);b==null&&(b=u);k==null&&(o=k);if(o==null||k==null)var t=this.getBBox(1);o=o==null?t.x+t.width/2:o;k=k==null?t.y+t.height/2:k;this.transform(this._.transform.concat([["s",u,b,o,k]]));this._.dirtyT=1;return this};ia.hide=function(){!this.removed&&(this.node.style.display="none");return this};ia.show=function(){!this.removed&&(this.node.style.display="");return this};ia._getBBox=function(){if(this.removed)return{};
return this.type=="text"?{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}:pathDimensions(this.attrs.path)};ia.remove=function(){if(!this.removed){this.paper.__set__&&this.paper.__set__.exclude(this);v.eve.unbind("*.*."+this.id);v._tear(this,this.paper);this.node.parentNode.removeChild(this.node);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var u in this)delete this[u];this.removed=true}};ia.attr=function(u,b){if(this.removed)return this;if(u==null){var o=
{},k;for(k in this.attrs)this.attrs.hasOwnProperty(k)&&(o[k]=this.attrs[k]);o.gradient&&o.fill=="none"&&(o.fill=o.gradient)&&delete o.gradient;o.transform=this._.transform;return o}if(b==null&&v.is(u,"string")){if(u=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;k=u.split(h);o={};for(var t=0,A=k.length;t<A;t++){u=k[t];u in this.attrs?o[u]=this.attrs[u]:v.is(this.paper.customAttributes[u],"function")?o[u]=this.paper.customAttributes[u].def:o[u]=v._availableAttrs[u]}return A-
1?o:o[k[0]]}if(this.attrs&&b==null&&v.is(u,"array")){o={};t=0;for(A=u.length;t<A;t++)o[u[t]]=this.attr(u[t]);return o}b!=null&&(o={},o[u]=b);b==null&&v.is(u,"object")&&(o=u);for(t in o)w("attr."+t+"."+this.id,this,o[t]);if(o){for(t in this.paper.customAttributes)if(this.paper.customAttributes.hasOwnProperty(t)&&o.hasOwnProperty(t)&&v.is(this.paper.customAttributes[t],"function")){k=this.paper.customAttributes[t].apply(this,[].concat(o[t]));this.attrs[t]=o[t];for(A in k)k.hasOwnProperty(A)&&(o[A]=
k[A])}o.text&&this.type=="text"&&(this.textpath.string=o.text);setFillAndStroke(this,o)}return this};ia.toFront=function(){!this.removed&&this.node.parentNode.appendChild(this.node);this.paper&&this.paper.top!=this&&v._tofront(this,this.paper);return this};ia.toBack=function(){if(this.removed)return this;this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),v._toback(this,this.paper));return this};ia.insertAfter=function(u){if(this.removed)return this;
u.constructor==v.st.constructor&&(u=u[u.length-1]);u.node.nextSibling?u.node.parentNode.insertBefore(this.node,u.node.nextSibling):u.node.parentNode.appendChild(this.node);v._insertafter(this,u,this.paper);return this};ia.insertBefore=function(u){if(this.removed)return this;u.constructor==v.st.constructor&&(u=u[0]);u.node.parentNode.insertBefore(this.node,u.node);v._insertbefore(this,u,this.paper);return this};ia.blur=function(u){var b=this.node.runtimeStyle,o=b.filter;o=o.replace(x,"");+u!==0?(this.attrs.blur=
u,b.filter=o+"  progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+u||1.5)+")",b.margin=v.format("-{0}px 0 0 -{0}px",f(+u||1.5))):(b.filter=o,b.margin=0,delete this.attrs.blur)};v._engine.path=function(u,b){var o=na("shape");o.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px";o.coordsize="21600 21600";o.coordorigin=b.coordorigin;var k=new Element(o,b),t={fill:"none",stroke:"#000"};u&&(t.path=u);k.type="path";k.path=[];k.Path="";setFillAndStroke(k,t);b.canvas.appendChild(o);t=
na("skew");t.on=true;o.appendChild(t);k.skew=t;k.transform("");return k};v._engine.rect=function(u,b,o,k,t,A){var y=v._rectPath(b,o,k,t,A);u=u.path(y);var C=u.attrs;u.X=C.x=b;u.Y=C.y=o;u.W=C.width=k;u.H=C.height=t;C.r=A;C.path=y;u.type="rect";return u};v._engine.ellipse=function(u,b,o,k,t){u=u.path();u.X=b-k;u.Y=o-t;u.W=k*2;u.H=t*2;u.type="ellipse";setFillAndStroke(u,{cx:b,cy:o,rx:k,ry:t});return u};v._engine.circle=function(u,b,o,k){u=u.path();u.X=b-k;u.Y=o-k;u.W=u.H=k*2;u.type="circle";setFillAndStroke(u,
{cx:b,cy:o,r:k});return u};v._engine.image=function(u,b,o,k,t,A){var y=v._rectPath(o,k,t,A);u=u.path(y).attr({stroke:"none"});var C=u.attrs,P=u.node,R=P.getElementsByTagName("fill")[0];C.src=b;u.X=C.x=o;u.Y=C.y=k;u.W=C.width=t;u.H=C.height=A;C.path=y;u.type="image";R.parentNode==P&&P.removeChild(R);R.rotate=true;R.src=b;R.type="tile";u._.fillpos=[o,k];u._.fillsize=[t,A];P.appendChild(R);V(u,1,1,0,0,0);return u};v._engine.text=function(u,b,o,k){var t=na("shape"),A=na("path"),y=na("textpath");b=b||
0;o=o||0;k=k||"";A.v=v.format("m{0},{1}l{2},{1}",f(b*21600),f(o*21600),f(b*21600)+1);A.textpathok=true;y.string=d(k);y.on=true;t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px";t.coordsize="21600 21600";t.coordorigin="0 0";var C=new Element(t,u),P={fill:"#000",stroke:"none",font:v._availableAttrs.font,text:k};C.shape=t;C.path=A;C.textpath=y;C.type="text";C.attrs.text=d(k);C.attrs.x=b;C.attrs.y=o;C.attrs.w=1;C.attrs.h=1;setFillAndStroke(C,P);t.appendChild(y);t.appendChild(A);u.canvas.appendChild(t);
u=na("skew");u.on=true;t.appendChild(u);C.skew=u;C.transform("");return C};v._engine.setSize=function(u,b){var o=this.canvas.style;this.width=u;this.height=b;u==+u&&(u+="px");b==+b&&(b+="px");o.width=u;o.height=b;o.clip="rect(0 "+u+" "+b+" 0)";this._viewBox&&setViewBox.apply(this,this._viewBox);return this};v._engine.setViewBox=function(u,b,o,k,t){v.eve("setViewBox",this,this._viewBox,[u,b,o,k,t]);var A=this.width,y=this.height,C=1/r(o/A,k/y),P,R;t&&(P=y/k,R=A/o,o*P<A&&(u-=(A-o*P)/2/P),k*R<y&&(b-=
(y-k*R)/2/R));this._viewBox=[u,b,o,k,!!t];this._viewBoxShift={dx:-u,dy:-b,scale:C};this.forEach(function(W){W.transform("...")});return this};var na;(function(u){var b=u.document;b.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!b.namespaces.rvml&&b.namespaces.add("rvml","urn:schemas-microsoft-com:vml");na=function(k){return b.createElement("<rvml:"+k+' class="rvml">')}}catch(o){na=function(k){return b.createElement("<"+k+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}})(v._g.win);
v._engine.create=function(){var u=v._getContainer.apply(0,arguments),b=u.container,o=u.height,k=u.width,t=u.x;u=u.y;if(!b)throw Error("VML container not found.");var A=new v._Paper,y=A.canvas=v._g.doc.createElement("div"),C=y.style;t=t||0;u=u||0;k=k||512;o=o||342;A.width=k;A.height=o;k==+k&&(k+="px");o==+o&&(o+="px");A.coordsize="21600000 21600000";A.coordorigin="0 0";A.span=v._g.doc.createElement("span");A.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;";
y.appendChild(A.span);C.cssText=v.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",k,o);b==1?(v._g.doc.body.appendChild(y),C.left=t+"px",C.top=u+"px",C.position="absolute"):b.firstChild?b.insertBefore(y,b.firstChild):b.appendChild(y);A.renderfix=function(){};return A};v.prototype.clear=function(){v.eve("clear",this);this.canvas.innerHTML="";this.span=v._g.doc.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";
this.canvas.appendChild(this.span);this.bottom=this.top=null};v.prototype.remove=function(){v.eve("remove",this);this.canvas.parentNode.removeChild(this.canvas);for(var u in this)this[u]=removed(u);return true};var ha=v.st,ua;for(ua in ia)ia.hasOwnProperty(ua)&&!ha.hasOwnProperty(ua)&&(ha[ua]=function(u){return function(){var b=arguments;return this.forEach(function(o){o[u].apply(o,b)})}}(ua))}(window.Raphael);

